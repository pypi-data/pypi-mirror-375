(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3709],{54727:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consent/configure",function(){return t(47672)}])},77213:function(e,s,t){"use strict";t.d(s,{Z:function(){return p}});var n=t(24246),i=t(96306),l=t(88038),a=t.n(l),r=t(86677);t(27378);var o=t(25980),c=t(90867),d=t(77830),u=()=>{let e=(0,r.useRouter)();return(0,n.jsx)(i.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,n.jsxs)(i.xuv,{children:[(0,n.jsxs)(i.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,n.jsx)(i.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,n.jsx)(i.wpx,{onClick:()=>{e.push(d.fz)},children:"Configure"})]}),(0,n.jsxs)(i.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},p=e=>{let{children:s,title:t,padded:l=!0,mainProps:d}=e,p=(0,o.hz)(),x=(0,r.useRouter)(),h="/privacy-requests"===x.pathname||"/datastore-connection"===x.pathname,g=!(p.flags.privacyRequestsConfiguration&&h),{data:j}=(0,c.JE)(void 0,{skip:g}),{data:m}=(0,c.PW)(void 0,{skip:g}),f=p.flags.privacyRequestsConfiguration&&(!j||!m)&&h;return(0,n.jsxs)(i.kCb,{"data-testid":t,direction:"column",h:"100vh",children:[(0,n.jsxs)(a(),{children:[(0,n.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,n.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)(i.kCb,{as:"main",direction:"column",py:l?6:0,px:l?10:0,h:l?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[f?(0,n.jsx)(u,{}):null,s]})]})}},58754:function(e,s,t){"use strict";var n=t(24246),i=t(96306),l=t(70788);s.Z=e=>{let{heading:s,breadcrumbItems:t,isSticky:a=!0,children:r,rightContent:o,style:c,...d}=e;return(0,n.jsxs)("div",{...d,style:a?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...c}:{paddingBottom:"24px",...c},children:[(0,n.jsxs)(i.jqI,{justify:"space-between",children:["string"==typeof s?(0,n.jsx)(i.lQT,{className:t||r?"pb-4":void 0,level:1,"data-testid":"page-heading",children:s}):s,o&&(0,n.jsx)("div",{"data-testid":"page-header-right-content",children:o})]}),!!t&&(0,n.jsx)(l.m,{className:r?"pb-4":void 0,items:t,"data-testid":"page-breadcrumb"}),r]})}},70788:function(e,s,t){"use strict";t.d(s,{m:function(){return c}});var n=t(24246),i=t(96306),l=t(79894),a=t.n(l),r=t(27378);let{Text:o}=i.AntTypography,c=e=>{let{items:s,...t}=e,l=(0,r.useMemo)(()=>null==s?void 0:s.map((e,t)=>{let l=t===s.length-1,r={...e},c=r.onClick&&!r.href;return("string"==typeof r.title&&(r.title=(0,n.jsx)(o,{style:{color:"inherit",maxWidth:l?void 0:400},ellipsis:!l,id:l?"breadcrumb-current-page":void 0,children:r.title})),c)?r.title=(0,n.jsx)(i.wpx,{type:"text",size:"small",icon:r.icon,onClick:r.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:r.title}):(r.icon&&(r.title=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"anticon align-text-bottom",children:r.icon}),r.title]})),r.href&&r.title&&(r.title=(0,n.jsx)(a(),{href:r.href,className:"ant-breadcrumb-link",children:r.title}),delete r.href)),r}),[s]);return(0,n.jsx)(i.zrq,{items:l,...t})}},6675:function(e,s,t){"use strict";t.d(s,{ZS:function(){return r},a4:function(){return l}});var n=t(3228);let i=t(78780).u.injectEndpoints({endpoints:e=>({getPurposes:e.query({query:()=>"purposes"})})}),{useGetPurposesQuery:l}=i,a={purposes:{},special_purposes:{}},r=(0,n.P1)(i.endpoints.getPurposes.select(),e=>{let{data:s}=e;return s||a})},48347:function(e,s,t){"use strict";t.d(s,{W:function(){return o},m:function(){return c}});var n=t(24246),i=t(96306),l=t(32885);let{Text:a,Title:r}=i.AntTypography,o=()=>{let{isOpen:e,onOpen:s,onClose:t}=(0,i.qY0)();return{isOpen:e,onOpen:s,onClose:t}},c=e=>{let{isOpen:s,onClose:t,fidesKey:o}=e,{data:c,isLoading:d}=(0,l.ho)(o),u=(e,s)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r,{level:5,children:e}),(null==s?void 0:s.length)?(0,n.jsx)("div",{children:(0,n.jsx)(i.vyj,{size:[0,2],wrap:!0,children:null==s?void 0:s.map(e=>(0,n.jsx)(i.j8w,{children:e},e))})}):(0,n.jsxs)(a,{italic:!0,children:["no known ",e.toLowerCase()]})]});return(0,n.jsxs)(i.u_l,{isOpen:s,onClose:t,size:"xxl",returnFocusOnClose:!1,isCentered:!0,children:[(0,n.jsx)(i.ZAr,{}),(0,n.jsxs)(i.hzk,{maxWidth:"800px",children:[(0,n.jsx)(i.xBx,{children:c?null==c?void 0:c.name:"Vendor"}),(0,n.jsx)(i.fef,{children:d?(0,n.jsx)(i.jqI,{className:"h-80 w-full",align:"center",justify:"center",children:(0,n.jsx)(i.$jN,{})}):!!c&&(0,n.jsxs)(i.AntTypography,{children:[(0,n.jsx)(r,{level:5,children:"Purposes"}),Object.entries(c.purposes||{}).length>0?(0,n.jsx)(i.UQy,{allowMultiple:!0,children:Object.entries(c.purposes).map((e,s)=>{let[t]=e;return(0,n.jsx)(i.Qdk,{children:e=>{let{isExpanded:s}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.KFZ,{backgroundColor:s?"gray.50":"unset",children:[(0,n.jsx)(i.xuv,{flex:"1",textAlign:"left",children:t}),(0,n.jsx)(i.XEm,{})]}),(0,n.jsxs)(i.Hk3,{backgroundColor:"gray.50",children:[(0,n.jsx)(i.jqI,{className:"my-4",vertical:!0,children:u("Data uses",c.purposes[t].data_uses)}),(0,n.jsx)(i.jqI,{className:"my-4",vertical:!0,children:u("Legal basis",c.purposes[t].legal_bases)})]})]})}},s)})}):(0,n.jsx)(a,{italic:!0,children:"no known purposes"}),(0,n.jsx)("div",{className:"my-4",children:u("Features",c.features)}),(0,n.jsx)("div",{className:"my-4",children:u("Data categories",c.data_categories)})]})}),(0,n.jsxs)(i.mzw,{children:[(0,n.jsx)(i.wpx,{size:"small",onClick:t,children:"Close"}),(0,n.jsx)(i.LZC,{})]})]})]})}},47672:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var n=t(24246),i=t(96306),l=t(27378),a=t(77213),r=t(58754),o=t(92222),c=t(59003),d=t(25980),u=t(47935),p=t(86677);let x=(e,s)=>{let t=e.filter(e=>e.isChecked);return t.length>0?"".concat(s,"=").concat(t.map(e=>e.value).join("&".concat(s,"="))):void 0},h=e=>{let{value:s,displayText:t,isChecked:l,onCheckboxChange:a}=e;return(0,n.jsx)(i.XZJ,{value:s,height:"20px",mb:"25px",isChecked:l,onChange:e=>{let{target:t}=e;a(s,t.checked)},_focusWithin:{bg:"gray.100"},colorScheme:"complimentary",children:(0,n.jsx)(i.xvT,{fontSize:"sm",lineHeight:5,textOverflow:"ellipsis",overflow:"hidden",children:t})},s)},g=e=>{let{options:s,header:t,onCheckboxChange:a,columns:r=3,numDefaultOptions:o=15}=e,[c,d]=(0,l.useState)(!1),u=c?s:s.slice(0,o),p=s.length>o;return(0,n.jsxs)(i.Qdk,{border:"0px",padding:"12px 8px 8px 12px",children:[(0,n.jsx)(i.X6q,{height:"56px",children:(0,n.jsxs)(i.KFZ,{height:"100%",children:[(0,n.jsx)(i.xuv,{flex:"1",alignItems:"center",justifyContent:"center",textAlign:"left",fontWeight:600,children:t}),(0,n.jsx)(i.XEm,{})]})}),(0,n.jsxs)(i.Hk3,{id:"panel-".concat(t),children:[(0,n.jsx)(i.MIq,{columns:r,children:u.map(e=>(0,n.jsx)(h,{...e,onCheckboxChange:a},e.value))}),!c&&p?(0,n.jsx)(i.wpx,{type:"text",onClick:()=>{d(!0)},children:"View more"}):null,c&&p?(0,n.jsx)(i.wpx,{type:"text",onClick:()=>{d(!1)},children:"View less"}):null]})]})},j=e=>{let{heading:s,children:t}=e;return(0,n.jsxs)(i.xuv,{padding:"12px 8px 8px 12px",maxHeight:600,children:[s?(0,n.jsx)(i.X6q,{size:"md",lineHeight:6,fontWeight:"bold",mb:2,children:s}):null,t]})},m=e=>{let{resetFilters:s,isOpen:t,onClose:l,children:a,...r}=e;return(0,n.jsxs)(i.u_l,{isOpen:t,onClose:l,isCentered:!0,size:"2xl",...r,children:[(0,n.jsx)(i.ZAr,{}),(0,n.jsxs)(i.hzk,{children:[(0,n.jsx)(i.xBx,{children:"Filters"}),(0,n.jsx)(i.olH,{}),(0,n.jsx)(i.izJ,{}),(0,n.jsx)(i.fef,{maxH:"85vh",padding:"0px",overflowX:"auto",style:{scrollbarGutter:"stable"},children:a}),(0,n.jsx)(i.mzw,{children:(0,n.jsxs)(i.xuv,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,n.jsx)(i.wpx,{onClick:s,className:"mr-3 grow",children:"Reset filters"}),(0,n.jsx)(i.wpx,{type:"primary",onClick:l,className:"grow",children:"Done"})]})})]})]})};var f=t(77830),C=t(23923),v=t(16134),y=t(6675),b=t(28079);let k=()=>{let{isOpen:e,onClose:s,onOpen:t}=(0,i.qY0)();(0,b.fd)();let n=(0,v.C)(b.U3);(0,y.a4)();let a=(0,v.C)(y.ZS),[r,o]=(0,l.useState)([]),[c,d]=(0,l.useState)([]),[u,p]=(0,l.useState)([{displayText:"Consent",value:"Consent",isChecked:!1},{displayText:"Legitimate Interest",value:"Legitimate interests",isChecked:!1}]),[x,h]=(0,l.useState)([{displayText:"Advertising",value:"advertising",isChecked:!1},{displayText:"Analytics",value:"analytics",isChecked:!1},{displayText:"Functional",value:"functional",isChecked:!1},{displayText:"Essential",value:"essential",isChecked:!1}]);(0,l.useEffect)(()=>{0===c.length&&d(n.map(e=>({value:e.fides_key,displayText:e.name||e.fides_key,isChecked:!1})))},[n,c,d]),(0,l.useEffect)(()=>{0===r.length&&o([...Object.entries(a.purposes).map(e=>({value:"normal.".concat(e[0]),displayText:e[1].name,isChecked:!1})),...Object.entries(a.special_purposes).map(e=>({value:"special.".concat(e[0]),displayText:e[1].name,isChecked:!1}))])},[a,r,d]);let g=(e,s,t,n)=>{n(t.map(t=>t.value===e?{...t,isChecked:s}:t))};return{isOpen:e,onClose:s,onOpen:t,resetFilters:()=>{d(e=>e.map(e=>({...e,isChecked:!1}))),p(e=>e.map(e=>({...e,isChecked:!1}))),o(e=>e.map(e=>({...e,isChecked:!1}))),h(e=>e.map(e=>({...e,isChecked:!1})))},purposeOptions:r,onPurposeChange:(e,s)=>{g(e,s,r,o)},dataUseOptions:c,onDataUseChange:(e,s)=>{g(e,s,c,d)},legalBasisOptions:u,onLegalBasisChange:(e,s)=>{g(e,s,u,p)},consentCategoryOptions:x,onConsentCategoryChange:(e,s)=>{g(e,s,x,h)}}},w=e=>{let{isOpen:s,isTcfEnabled:t,onClose:l,resetFilters:a,purposeOptions:r,onPurposeChange:o,dataUseOptions:c,onDataUseChange:d,legalBasisOptions:u,onLegalBasisChange:p,consentCategoryOptions:x,onConsentCategoryChange:h}=e;return(0,n.jsx)(m,{isOpen:s,onClose:l,resetFilters:a,children:(0,n.jsx)(i.UQy,{children:(0,n.jsxs)(j,{children:[t?(0,n.jsx)(g,{options:r,onCheckboxChange:o,header:"TCF purposes",columns:1,numDefaultOptions:5}):null,(0,n.jsx)(g,{options:c,onCheckboxChange:d,header:"Data uses"}),t?(0,n.jsx)(g,{options:u,onCheckboxChange:p,header:"Legal basis"}):null,t?null:(0,n.jsx)(g,{options:x,onCheckboxChange:h,header:"Consent categories"})]})})})};var _=t(48347),S=t(32885);let T=(0,o.Cl)(),O={items:[],total:0,page:1,size:25,pages:1},R=()=>{let{tcf:e,dictionaryService:s}=(0,d.hz)(),{isLoading:t}=(0,S.x8)(),{isOpen:a,onOpen:r,onClose:h}=(0,_.W)(),g=(0,p.useRouter)(),[j,m]=(0,l.useState)(),{isOpen:v,onOpen:y,onClose:b,resetFilters:R,purposeOptions:z,onPurposeChange:N,dataUseOptions:F,onDataUseChange:P,legalBasisOptions:q,onLegalBasisChange:I,consentCategoryOptions:E,onConsentCategoryChange:L}=k(),Z=(0,l.useMemo)(()=>x(F,"data_uses"),[F]),M=(0,l.useMemo)(()=>x(q,"legal_bases"),[q]),V=(0,l.useMemo)(()=>x(z.filter(e=>e.value.includes("normal")).map(e=>({...e,value:e.value.split(".")[1]})),"purposes"),[z]),A=(0,l.useMemo)(()=>x(z.filter(e=>e.value.includes("special")).map(e=>({...e,value:e.value.split(".")[1]})),"special_purposes"),[z]),B=(0,l.useMemo)(()=>x(E,"consent_category"),[E]),{PAGE_SIZES:D,pageSize:U,setPageSize:W,onPreviousPageClick:H,isPreviousPageDisabled:X,onNextPageClick:Q,isNextPageDisabled:K,startRange:G,endRange:J,pageIndex:Y,setTotalPages:$,resetPageIndexToDefault:ee}=(0,u.oi)(),[es,et]=(0,l.useState)(),en=(0,l.useCallback)(e=>{ee(),et(e)},[ee,et]),{isFetching:ei,isLoading:el,data:ea}=(0,S.de)({pageIndex:Y,pageSize:U,dataUses:Z,search:es,legalBasis:M,purposes:V,specialPurposes:A,consentCategories:B}),{items:er,total:eo,pages:ec}=(0,l.useMemo)(()=>ea||O,[ea]);(0,l.useEffect)(()=>{$(ec)},[ec,$]);let ed=(0,l.useMemo)(()=>[T.accessor(e=>e.name,{id:"name",cell:e=>(0,n.jsx)(u.G3,{value:e.getValue()}),header:e=>(0,n.jsx)(u.Rr,{value:"Vendor",...e})}),T.accessor(e=>e.data_uses,{id:"tcf_purpose",cell:e=>(0,n.jsx)(u.CI,{plSuffix:"purposes",singSuffix:"purpose",count:e.getValue()}),header:e=>(0,n.jsx)(u.Rr,{value:"TCF purpose",...e})}),T.accessor(e=>e.data_uses,{id:"data_uses",cell:e=>(0,n.jsx)(u.CI,{plSuffix:"data uses",singSuffix:"data use",count:e.getValue()}),header:e=>(0,n.jsx)(u.Rr,{value:"Data use",...e})}),T.accessor(e=>e.legal_bases,{id:"legal_bases",cell:e=>(0,n.jsx)(u.CI,{plSuffix:"bases",singSuffix:"basis",count:e.getValue()}),header:e=>(0,n.jsx)(u.Rr,{value:"Legal basis",...e})}),T.accessor(e=>e.consent_categories,{id:"consent_categories",cell:e=>(0,n.jsx)(u.CI,{plSuffix:"categories",singSuffix:"category",count:e.getValue()}),header:e=>(0,n.jsx)(u.Rr,{value:"Categories",...e})}),T.accessor(e=>e.cookies,{id:"cookies",cell:e=>(0,n.jsx)(u.CI,{plSuffix:"cookies",singSuffix:"cookie",count:e.getValue()}),header:e=>(0,n.jsx)(u.Rr,{value:"Cookies",...e})})],[]),eu=(0,c.b7)({columns:ed,data:er,state:{columnVisibility:{tcf_purpose:e,data_uses:e,legal_bases:e,consent_categories:!e,cookies:!e}},getCoreRowModel:(0,o.sC)(),columnResizeMode:"onChange",enableColumnResizing:!0});return el||t?(0,n.jsx)(u.I4,{rowHeight:36,numRows:15}):(0,n.jsxs)(i.kCb,{flex:1,direction:"column",overflow:"auto",children:[a&&j?(0,n.jsx)(_.m,{isOpen:a,fidesKey:j,onClose:h}):null,(0,n.jsxs)(u.Q$,{children:[(0,n.jsx)(u.HO,{globalFilter:es,setGlobalFilter:en,placeholder:"Search"}),(0,n.jsx)(w,{isOpen:v,isTcfEnabled:e,onClose:b,resetFilters:R,purposeOptions:z,onPurposeChange:N,dataUseOptions:F,onDataUseChange:P,legalBasisOptions:q,onLegalBasisChange:I,consentCategoryOptions:E,onConsentCategoryChange:L}),(0,n.jsxs)(i.Ugi,{alignItems:"center",spacing:2,children:[(0,n.jsx)(C.Z,{buttonLabel:"Add vendors",onButtonClick:s?()=>{g.push(f.Gg)}:void 0}),(0,n.jsx)(i.wpx,{onClick:y,"data-testid":"filter-multiple-systems-btn",children:"Filter"})]})]}),(0,n.jsx)(u.ZK,{tableInstance:eu,onRowClick:e=>{m(e.fides_key),r()}}),(0,n.jsx)(u.s8,{totalRows:eo||0,pageSizes:D,setPageSize:W,onPreviousPageClick:H,isPreviousPageDisabled:X||ei,onNextPageClick:Q,isNextPageDisabled:K||ei,startRange:G,endRange:J})]})},{Text:z}=i.AntTypography;var N=()=>(0,n.jsxs)(a.Z,{title:"Vendors",children:[(0,n.jsx)(r.Z,{heading:"Vendors",children:(0,n.jsx)(z,{className:"block w-1/2",children:"Use the table below to manage your vendors. Modify the legal basis for a vendor if permitted and view and group your views by applying different filters"})}),(0,n.jsx)(R,{})]})}},function(e){e.O(0,[401,3923,2888,9774,179],function(){return e(e.s=54727)}),_N_E=e.O()}]);