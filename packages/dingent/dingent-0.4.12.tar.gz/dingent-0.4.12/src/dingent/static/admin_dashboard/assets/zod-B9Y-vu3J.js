import{R as b,a4 as qr,a5 as Hr,a6 as $r}from"./index-BRZ4tpHq.js";var _e=e=>e.type==="checkbox",oe=e=>e instanceof Date,$=e=>e==null;const Fr=e=>typeof e=="object";var N=e=>!$(e)&&!Array.isArray(e)&&Fr(e)&&!oe(e),Ar=e=>N(e)&&e.target?_e(e.target)?e.target.checked:e.target.value:e,zr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,xr=(e,s)=>e.has(zr(s)),Kr=e=>{const s=e.constructor&&e.constructor.prototype;return N(s)&&s.hasOwnProperty("isPrototypeOf")},ze=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let s;const r=Array.isArray(e),t=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(ze&&(e instanceof Blob||t))&&(r||N(e)))if(s=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!Kr(e))s=e;else for(const n in e)e.hasOwnProperty(n)&&(s[n]=M(e[n]));else return e;return s}var pe=e=>/^\w*$/.test(e),U=e=>e===void 0,we=e=>Array.isArray(e)?e.filter(Boolean):[],Ke=e=>we(e.replace(/["|']|\]/g,"").split(/\.|\[/)),f=(e,s,r)=>{if(!s||!N(e))return r;const t=(pe(s)?[s]:Ke(s)).reduce((n,u)=>$(n)?n:n[u],e);return U(t)||t===e?U(e[s])?r:e[s]:t},G=e=>typeof e=="boolean",S=(e,s,r)=>{let t=-1;const n=pe(s)?[s]:Ke(s),u=n.length,l=u-1;for(;++t<u;){const c=n[t];let p=r;if(t!==l){const A=e[c];p=N(A)||Array.isArray(A)?A:isNaN(+n[t+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=p,e=e[c]}};const Ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},J={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ze=b.createContext(null);Ze.displayName="HookFormContext";const Ee=()=>b.useContext(Ze),ht=e=>{const{children:s,...r}=e;return b.createElement(Ze.Provider,{value:r},s)};var pr=(e,s,r,t=!0)=>{const n={defaultValues:s._defaultValues};for(const u in e)Object.defineProperty(n,u,{get:()=>{const l=u;return s._proxyFormState[l]!==J.all&&(s._proxyFormState[l]=!t||J.all),r&&(r[l]=!0),e[l]}});return n};const Se=typeof window<"u"?b.useLayoutEffect:b.useEffect;function Zr(e){const s=Ee(),{control:r=s.control,disabled:t,name:n,exact:u}=e||{},[l,c]=b.useState(r._formState),p=b.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Se(()=>r._subscribe({name:n,formState:p.current,exact:u,callback:A=>{!t&&c({...r._formState,...A})}}),[n,t,u]),b.useEffect(()=>{p.current.isValid&&r._setValid(!0)},[r]),b.useMemo(()=>pr(l,r,p.current,!1),[l,r])}var te=e=>typeof e=="string",wr=(e,s,r,t,n)=>te(e)?(t&&s.watch.add(e),f(r,e,n)):Array.isArray(e)?e.map(u=>(t&&s.watch.add(u),f(r,u))):(t&&(s.watchAll=!0),r),We=e=>$(e)||!Fr(e);function ie(e,s,r=new WeakSet){if(We(e)||We(s))return e===s;if(oe(e)&&oe(s))return e.getTime()===s.getTime();const t=Object.keys(e),n=Object.keys(s);if(t.length!==n.length)return!1;if(r.has(e)||r.has(s))return!0;r.add(e),r.add(s);for(const u of t){const l=e[u];if(!n.includes(u))return!1;if(u!=="ref"){const c=s[u];if(oe(l)&&oe(c)||N(l)&&N(c)||Array.isArray(l)&&Array.isArray(c)?!ie(l,c,r):l!==c)return!1}}return!0}function Gr(e){const s=Ee(),{control:r=s.control,name:t,defaultValue:n,disabled:u,exact:l,compute:c}=e||{},p=b.useRef(n),A=b.useRef(c),F=b.useRef(void 0);A.current=c;const w=b.useMemo(()=>r._getWatch(t,p.current),[r,t]),[_,Z]=b.useState(A.current?A.current(w):w);return Se(()=>r._subscribe({name:t,formState:{values:!0},exact:l,callback:W=>{if(!u){const C=wr(t,r._names,W.values||r._formValues,!1,p.current);if(A.current){const I=A.current(C);ie(I,F.current)||(Z(I),F.current=I)}else Z(C)}}}),[r,u,t,l]),b.useEffect(()=>r._removeUnmounted()),_}function Yr(e){const s=Ee(),{name:r,disabled:t,control:n=s.control,shouldUnregister:u,defaultValue:l}=e,c=xr(n._names.array,r),p=b.useMemo(()=>f(n._formValues,r,f(n._defaultValues,r,l)),[n,r,l]),A=Gr({control:n,name:r,defaultValue:p,exact:!0}),F=Zr({control:n,name:r,exact:!0}),w=b.useRef(e),_=b.useRef(n.register(r,{...e.rules,value:A,...G(e.disabled)?{disabled:e.disabled}:{}}));w.current=e;const Z=b.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(F.errors,r)},isDirty:{enumerable:!0,get:()=>!!f(F.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!f(F.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!f(F.validatingFields,r)},error:{enumerable:!0,get:()=>f(F.errors,r)}}),[F,r]),W=b.useCallback(V=>_.current.onChange({target:{value:Ar(V),name:r},type:Ve.CHANGE}),[r]),C=b.useCallback(()=>_.current.onBlur({target:{value:f(n._formValues,r),name:r},type:Ve.BLUR}),[r,n._formValues]),I=b.useCallback(V=>{const B=f(n._fields,r);B&&V&&(B._f.ref={focus:()=>V.focus&&V.focus(),select:()=>V.select&&V.select(),setCustomValidity:P=>V.setCustomValidity(P),reportValidity:()=>V.reportValidity()})},[n._fields,r]),ae=b.useMemo(()=>({name:r,value:A,...G(t)||F.disabled?{disabled:F.disabled||t}:{},onChange:W,onBlur:C,ref:I}),[r,t,F.disabled,W,C,I,A]);return b.useEffect(()=>{const V=n._options.shouldUnregister||u;n.register(r,{...w.current.rules,...G(w.current.disabled)?{disabled:w.current.disabled}:{}});const B=(P,h)=>{const m=f(n._fields,P);m&&m._f&&(m._f.mount=h)};if(B(r,!0),V){const P=M(f(n._options.defaultValues,r));S(n._defaultValues,r,P),U(f(n._formValues,r))&&S(n._formValues,r,P)}return!c&&n.register(r),()=>{(c?V&&!n._state.action:V)?n.unregister(r):B(r,!1)}},[r,n,c,u]),b.useEffect(()=>{n._setDisabledField({disabled:t,name:r})},[t,r,n]),b.useMemo(()=>({field:ae,formState:F,fieldState:Z}),[ae,F,Z])}const _t=e=>e.render(Yr(e));var Ge=(e,s,r,t,n)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[t]:n||!0}}:{},K=e=>Array.isArray(e)?e:[e],or=()=>{let e=[];return{get observers(){return e},next:n=>{for(const u of e)u.next&&u.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(u=>u!==n)}}),unsubscribe:()=>{e=[]}}},H=e=>N(e)&&!Object.keys(e).length,Ye=e=>e.type==="file",Q=e=>typeof e=="function",Fe=e=>{if(!ze)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Er=e=>e.type==="select-multiple",Je=e=>e.type==="radio",Jr=e=>Je(e)||_e(e),Ue=e=>Fe(e)&&e.isConnected;function Qr(e,s){const r=s.slice(0,-1).length;let t=0;for(;t<r;)e=U(e)?t++:e[s[t++]];return e}function Xr(e){for(const s in e)if(e.hasOwnProperty(s)&&!U(e[s]))return!1;return!0}function T(e,s){const r=Array.isArray(s)?s:pe(s)?[s]:Ke(s),t=r.length===1?e:Qr(e,r),n=r.length-1,u=r[n];return t&&delete t[u],n!==0&&(N(t)&&H(t)||Array.isArray(t)&&Xr(t))&&T(e,r.slice(0,-1)),e}var Sr=e=>{for(const s in e)if(Q(e[s]))return!0;return!1};function Ae(e,s={}){const r=Array.isArray(e);if(N(e)||r)for(const t in e)Array.isArray(e[t])||N(e[t])&&!Sr(e[t])?(s[t]=Array.isArray(e[t])?[]:{},Ae(e[t],s[t])):$(e[t])||(s[t]=!0);return s}function kr(e,s,r){const t=Array.isArray(e);if(N(e)||t)for(const n in e)Array.isArray(e[n])||N(e[n])&&!Sr(e[n])?U(s)||We(r[n])?r[n]=Array.isArray(e[n])?Ae(e[n],[]):{...Ae(e[n])}:kr(e[n],$(s)?{}:s[n],r[n]):r[n]=!ie(e[n],s[n]);return r}var ge=(e,s)=>kr(e,s,Ae(s));const lr={value:!1,isValid:!1},cr={value:!0,isValid:!0};var Dr=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!U(e[0].attributes.value)?U(e[0].value)||e[0].value===""?cr:{value:e[0].value,isValid:!0}:cr:lr}return lr},Cr=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:t})=>U(e)?e:s?e===""?NaN:e&&+e:r&&te(e)?new Date(e):t?t(e):e;const dr={isValid:!1,value:null};var Or=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,dr):dr;function fr(e){const s=e.ref;return Ye(s)?s.files:Je(s)?Or(e.refs).value:Er(s)?[...s.selectedOptions].map(({value:r})=>r):_e(s)?Dr(e.refs).value:Cr(U(s.value)?e.ref.value:s.value,e)}var et=(e,s,r,t)=>{const n={};for(const u of e){const l=f(s,u);l&&S(n,u,l._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:t}},xe=e=>e instanceof RegExp,he=e=>U(e)?e:xe(e)?e.source:N(e)?xe(e.value)?e.value.source:e.value:e,de=e=>({isOnSubmit:!e||e===J.onSubmit,isOnBlur:e===J.onBlur,isOnChange:e===J.onChange,isOnAll:e===J.all,isOnTouch:e===J.onTouched});const yr="AsyncFunction";var rt=e=>!!e&&!!e.validate&&!!(Q(e.validate)&&e.validate.constructor.name===yr||N(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===yr)),tt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),qe=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const fe=(e,s,r,t)=>{for(const n of r||Object.keys(e)){const u=f(e,n);if(u){const{_f:l,...c}=u;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],n)&&!t)return!0;if(l.ref&&s(l.ref,l.name)&&!t)return!0;if(fe(c,s))break}else if(N(c)&&fe(c,s))break}}};function gr(e,s,r){const t=f(e,r);if(t||pe(r))return{error:t,name:r};const n=r.split(".");for(;n.length;){const u=n.join("."),l=f(s,u),c=f(e,u);if(l&&!Array.isArray(l)&&r!==u)return{name:r};if(c&&c.type)return{name:u,error:c};if(c&&c.root&&c.root.type)return{name:`${u}.root`,error:c.root};n.pop()}return{name:r}}var st=(e,s,r,t)=>{r(e);const{name:n,...u}=e;return H(u)||Object.keys(u).length>=Object.keys(s).length||Object.keys(u).find(l=>s[l]===(!t||J.all))},it=(e,s,r)=>!e||!s||e===s||K(e).some(t=>t&&(r?t===s:t.startsWith(s)||s.startsWith(t))),at=(e,s,r,t,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(s||e):(r?t.isOnBlur:n.isOnBlur)?!e:(r?t.isOnChange:n.isOnChange)?e:!0,nt=(e,s)=>!we(f(e,s)).length&&T(e,s),Mr=(e,s,r)=>{const t=K(f(e,r));return S(t,"root",s[r]),S(e,r,t),e},be=e=>te(e);function hr(e,s,r="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||G(e)&&!e)return{type:r,message:be(e)?e:"",ref:s}}var ce=e=>N(e)&&!xe(e)?e:{value:e,message:""},He=async(e,s,r,t,n,u)=>{const{ref:l,refs:c,required:p,maxLength:A,minLength:F,min:w,max:_,pattern:Z,validate:W,name:C,valueAsNumber:I,mount:ae}=e._f,V=f(r,C);if(!ae||s.has(C))return{};const B=c?c[0]:l,P=E=>{n&&B.reportValidity&&(B.setCustomValidity(G(E)?"":E||""),B.reportValidity())},h={},m=Je(l),x=_e(l),R=m||x,j=(I||Ye(l))&&U(l.value)&&U(V)||Fe(l)&&l.value===""||V===""||Array.isArray(V)&&!V.length,X=Ge.bind(null,C,t,h),ee=(E,D,L,q=se.maxLength,z=se.minLength)=>{const re=E?D:L;h[C]={type:E?q:z,message:re,ref:l,...X(E?q:z,re)}};if(u?!Array.isArray(V)||!V.length:p&&(!R&&(j||$(V))||G(V)&&!V||x&&!Dr(c).isValid||m&&!Or(c).isValid)){const{value:E,message:D}=be(p)?{value:!!p,message:p}:ce(p);if(E&&(h[C]={type:se.required,message:D,ref:B,...X(se.required,D)},!t))return P(D),h}if(!j&&(!$(w)||!$(_))){let E,D;const L=ce(_),q=ce(w);if(!$(V)&&!isNaN(V)){const z=l.valueAsNumber||V&&+V;$(L.value)||(E=z>L.value),$(q.value)||(D=z<q.value)}else{const z=l.valueAsDate||new Date(V),re=me=>new Date(new Date().toDateString()+" "+me),ye=l.type=="time",le=l.type=="week";te(L.value)&&V&&(E=ye?re(V)>re(L.value):le?V>L.value:z>new Date(L.value)),te(q.value)&&V&&(D=ye?re(V)<re(q.value):le?V<q.value:z<new Date(q.value))}if((E||D)&&(ee(!!E,L.message,q.message,se.max,se.min),!t))return P(h[C].message),h}if((A||F)&&!j&&(te(V)||u&&Array.isArray(V))){const E=ce(A),D=ce(F),L=!$(E.value)&&V.length>+E.value,q=!$(D.value)&&V.length<+D.value;if((L||q)&&(ee(L,E.message,D.message),!t))return P(h[C].message),h}if(Z&&!j&&te(V)){const{value:E,message:D}=ce(Z);if(xe(E)&&!V.match(E)&&(h[C]={type:se.pattern,message:D,ref:l,...X(se.pattern,D)},!t))return P(D),h}if(W){if(Q(W)){const E=await W(V,r),D=hr(E,B);if(D&&(h[C]={...D,...X(se.validate,D.message)},!t))return P(D.message),h}else if(N(W)){let E={};for(const D in W){if(!H(E)&&!t)break;const L=hr(await W[D](V,r),B,D);L&&(E={...L,...X(D,L.message)},P(L.message),t&&(h[C]=E))}if(!H(E)&&(h[C]={ref:B,...E},!t))return h}}return P(!0),h};const ut={mode:J.onSubmit,reValidateMode:J.onChange,shouldFocusError:!0};function ot(e={}){let s={...ut,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Q(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},t={},n=N(s.defaultValues)||N(s.values)?M(s.defaultValues||s.values)||{}:{},u=s.shouldUnregister?{}:M(n),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,A=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...F};const _={array:or(),state:or()},Z=s.criteriaMode===J.all,W=i=>a=>{clearTimeout(A),A=setTimeout(i,a)},C=async i=>{if(!s.disabled&&(F.isValid||w.isValid||i)){const a=s.resolver?H((await x()).errors):await j(t,!0);a!==r.isValid&&_.state.next({isValid:a})}},I=(i,a)=>{!s.disabled&&(F.isValidating||F.validatingFields||w.isValidating||w.validatingFields)&&((i||Array.from(c.mount)).forEach(o=>{o&&(a?S(r.validatingFields,o,a):T(r.validatingFields,o))}),_.state.next({validatingFields:r.validatingFields,isValidating:!H(r.validatingFields)}))},ae=(i,a=[],o,g,y=!0,d=!0)=>{if(g&&o&&!s.disabled){if(l.action=!0,d&&Array.isArray(f(t,i))){const v=o(f(t,i),g.argA,g.argB);y&&S(t,i,v)}if(d&&Array.isArray(f(r.errors,i))){const v=o(f(r.errors,i),g.argA,g.argB);y&&S(r.errors,i,v),nt(r.errors,i)}if((F.touchedFields||w.touchedFields)&&d&&Array.isArray(f(r.touchedFields,i))){const v=o(f(r.touchedFields,i),g.argA,g.argB);y&&S(r.touchedFields,i,v)}(F.dirtyFields||w.dirtyFields)&&(r.dirtyFields=ge(n,u)),_.state.next({name:i,isDirty:ee(i,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else S(u,i,a)},V=(i,a)=>{S(r.errors,i,a),_.state.next({errors:r.errors})},B=i=>{r.errors=i,_.state.next({errors:r.errors,isValid:!1})},P=(i,a,o,g)=>{const y=f(t,i);if(y){const d=f(u,i,U(o)?f(n,i):o);U(d)||g&&g.defaultChecked||a?S(u,i,a?d:fr(y._f)):L(i,d),l.mount&&C()}},h=(i,a,o,g,y)=>{let d=!1,v=!1;const k={name:i};if(!s.disabled){if(!o||g){(F.isDirty||w.isDirty)&&(v=r.isDirty,r.isDirty=k.isDirty=ee(),d=v!==k.isDirty);const O=ie(f(n,i),a);v=!!f(r.dirtyFields,i),O?T(r.dirtyFields,i):S(r.dirtyFields,i,!0),k.dirtyFields=r.dirtyFields,d=d||(F.dirtyFields||w.dirtyFields)&&v!==!O}if(o){const O=f(r.touchedFields,i);O||(S(r.touchedFields,i,o),k.touchedFields=r.touchedFields,d=d||(F.touchedFields||w.touchedFields)&&O!==o)}d&&y&&_.state.next(k)}return d?k:{}},m=(i,a,o,g)=>{const y=f(r.errors,i),d=(F.isValid||w.isValid)&&G(a)&&r.isValid!==a;if(s.delayError&&o?(p=W(()=>V(i,o)),p(s.delayError)):(clearTimeout(A),p=null,o?S(r.errors,i,o):T(r.errors,i)),(o?!ie(y,o):y)||!H(g)||d){const v={...g,...d&&G(a)?{isValid:a}:{},errors:r.errors,name:i};r={...r,...v},_.state.next(v)}},x=async i=>{I(i,!0);const a=await s.resolver(u,s.context,et(i||c.mount,t,s.criteriaMode,s.shouldUseNativeValidation));return I(i),a},R=async i=>{const{errors:a}=await x(i);if(i)for(const o of i){const g=f(a,o);g?S(r.errors,o,g):T(r.errors,o)}else r.errors=a;return a},j=async(i,a,o={valid:!0})=>{for(const g in i){const y=i[g];if(y){const{_f:d,...v}=y;if(d){const k=c.array.has(d.name),O=y._f&&rt(y._f);O&&F.validatingFields&&I([g],!0);const Y=await He(y,c.disabled,u,Z,s.shouldUseNativeValidation&&!a,k);if(O&&F.validatingFields&&I([g]),Y[d.name]&&(o.valid=!1,a))break;!a&&(f(Y,d.name)?k?Mr(r.errors,Y,d.name):S(r.errors,d.name,Y[d.name]):T(r.errors,d.name))}!H(v)&&await j(v,a,o)}}return o.valid},X=()=>{for(const i of c.unMount){const a=f(t,i);a&&(a._f.refs?a._f.refs.every(o=>!Ue(o)):!Ue(a._f.ref))&&ke(i)}c.unMount=new Set},ee=(i,a)=>!s.disabled&&(i&&a&&S(u,i,a),!ie(me(),n)),E=(i,a,o)=>wr(i,c,{...l.mount?u:U(a)?n:te(i)?{[i]:a}:a},o,a),D=i=>we(f(l.mount?u:n,i,s.shouldUnregister?f(n,i,[]):[])),L=(i,a,o={})=>{const g=f(t,i);let y=a;if(g){const d=g._f;d&&(!d.disabled&&S(u,i,Cr(a,d)),y=Fe(d.ref)&&$(a)?"":a,Er(d.ref)?[...d.ref.options].forEach(v=>v.selected=y.includes(v.value)):d.refs?_e(d.ref)?d.refs.forEach(v=>{(!v.defaultChecked||!v.disabled)&&(Array.isArray(y)?v.checked=!!y.find(k=>k===v.value):v.checked=y===v.value||!!y)}):d.refs.forEach(v=>v.checked=v.value===y):Ye(d.ref)?d.ref.value="":(d.ref.value=y,d.ref.type||_.state.next({name:i,values:M(u)})))}(o.shouldDirty||o.shouldTouch)&&h(i,y,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&le(i)},q=(i,a,o)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const y=a[g],d=i+"."+g,v=f(t,d);(c.array.has(i)||N(y)||v&&!v._f)&&!oe(y)?q(d,y,o):L(d,y,o)}},z=(i,a,o={})=>{const g=f(t,i),y=c.array.has(i),d=M(a);S(u,i,d),y?(_.array.next({name:i,values:M(u)}),(F.isDirty||F.dirtyFields||w.isDirty||w.dirtyFields)&&o.shouldDirty&&_.state.next({name:i,dirtyFields:ge(n,u),isDirty:ee(i,d)})):g&&!g._f&&!$(d)?q(i,d,o):L(i,d,o),qe(i,c)&&_.state.next({...r,name:i}),_.state.next({name:l.mount?i:void 0,values:M(u)})},re=async i=>{l.mount=!0;const a=i.target;let o=a.name,g=!0;const y=f(t,o),d=O=>{g=Number.isNaN(O)||oe(O)&&isNaN(O.getTime())||ie(O,f(u,o,O))},v=de(s.mode),k=de(s.reValidateMode);if(y){let O,Y;const ve=a.type?fr(y._f):Ar(i),ne=i.type===Ve.BLUR||i.type===Ve.FOCUS_OUT,Br=!tt(y._f)&&!s.resolver&&!f(r.errors,o)&&!y._f.deps||at(ne,f(r.touchedFields,o),r.isSubmitted,k,v),Oe=qe(o,c,ne);S(u,o,ve),ne?(!a||!a.readOnly)&&(y._f.onBlur&&y._f.onBlur(i),p&&p(0)):y._f.onChange&&y._f.onChange(i);const Me=h(o,ve,ne),jr=!H(Me)||Oe;if(!ne&&_.state.next({name:o,type:i.type,values:M(u)}),Br)return(F.isValid||w.isValid)&&(s.mode==="onBlur"?ne&&C():ne||C()),jr&&_.state.next({name:o,...Oe?{}:Me});if(!ne&&Oe&&_.state.next({...r}),s.resolver){const{errors:nr}=await x([o]);if(d(ve),g){const Wr=gr(r.errors,t,o),ur=gr(nr,t,Wr.name||o);O=ur.error,o=ur.name,Y=H(nr)}}else I([o],!0),O=(await He(y,c.disabled,u,Z,s.shouldUseNativeValidation))[o],I([o]),d(ve),g&&(O?Y=!1:(F.isValid||w.isValid)&&(Y=await j(t,!0)));g&&(y._f.deps&&le(y._f.deps),m(o,Y,O,Me))}},ye=(i,a)=>{if(f(r.errors,a)&&i.focus)return i.focus(),1},le=async(i,a={})=>{let o,g;const y=K(i);if(s.resolver){const d=await R(U(i)?i:y);o=H(d),g=i?!y.some(v=>f(d,v)):o}else i?(g=(await Promise.all(y.map(async d=>{const v=f(t,d);return await j(v&&v._f?{[d]:v}:v)}))).every(Boolean),!(!g&&!r.isValid)&&C()):g=o=await j(t);return _.state.next({...!te(i)||(F.isValid||w.isValid)&&o!==r.isValid?{}:{name:i},...s.resolver||!i?{isValid:o}:{},errors:r.errors}),a.shouldFocus&&!g&&fe(t,ye,i?y:c.mount),g},me=i=>{const a={...l.mount?u:n};return U(i)?a:te(i)?f(a,i):i.map(o=>f(a,o))},Qe=(i,a)=>({invalid:!!f((a||r).errors,i),isDirty:!!f((a||r).dirtyFields,i),error:f((a||r).errors,i),isValidating:!!f(r.validatingFields,i),isTouched:!!f((a||r).touchedFields,i)}),Ur=i=>{i&&K(i).forEach(a=>T(r.errors,a)),_.state.next({errors:i?r.errors:{}})},Xe=(i,a,o)=>{const g=(f(t,i,{_f:{}})._f||{}).ref,y=f(r.errors,i)||{},{ref:d,message:v,type:k,...O}=y;S(r.errors,i,{...O,...a,ref:g}),_.state.next({name:i,errors:r.errors,isValid:!1}),o&&o.shouldFocus&&g&&g.focus&&g.focus()},Rr=(i,a)=>Q(i)?_.state.subscribe({next:o=>"values"in o&&i(E(void 0,a),o)}):E(i,a,!0),er=i=>_.state.subscribe({next:a=>{it(i.name,a.name,i.exact)&&st(a,i.formState||F,Ir,i.reRenderRoot)&&i.callback({values:{...u},...r,...a,defaultValues:n})}}).unsubscribe,Lr=i=>(l.mount=!0,w={...w,...i.formState},er({...i,formState:w})),ke=(i,a={})=>{for(const o of i?K(i):c.mount)c.mount.delete(o),c.array.delete(o),a.keepValue||(T(t,o),T(u,o)),!a.keepError&&T(r.errors,o),!a.keepDirty&&T(r.dirtyFields,o),!a.keepTouched&&T(r.touchedFields,o),!a.keepIsValidating&&T(r.validatingFields,o),!s.shouldUnregister&&!a.keepDefaultValue&&T(n,o);_.state.next({values:M(u)}),_.state.next({...r,...a.keepDirty?{isDirty:ee()}:{}}),!a.keepIsValid&&C()},rr=({disabled:i,name:a})=>{(G(i)&&l.mount||i||c.disabled.has(a))&&(i?c.disabled.add(a):c.disabled.delete(a))},De=(i,a={})=>{let o=f(t,i);const g=G(a.disabled)||G(s.disabled);return S(t,i,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:i}},name:i,mount:!0,...a}}),c.mount.add(i),o?rr({disabled:G(a.disabled)?a.disabled:s.disabled,name:i}):P(i,!0,a.value),{...g?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:he(a.min),max:he(a.max),minLength:he(a.minLength),maxLength:he(a.maxLength),pattern:he(a.pattern)}:{},name:i,onChange:re,onBlur:re,ref:y=>{if(y){De(i,a),o=f(t,i);const d=U(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,v=Jr(d),k=o._f.refs||[];if(v?k.find(O=>O===d):d===o._f.ref)return;S(t,i,{_f:{...o._f,...v?{refs:[...k.filter(Ue),d,...Array.isArray(f(n,i))?[{}]:[]],ref:{type:d.type,name:i}}:{ref:d}}}),P(i,!1,void 0,d)}else o=f(t,i,{}),o._f&&(o._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(xr(c.array,i)&&l.action)&&c.unMount.add(i)}}},Ce=()=>s.shouldFocusError&&fe(t,ye,c.mount),Tr=i=>{G(i)&&(_.state.next({disabled:i}),fe(t,(a,o)=>{const g=f(t,o);g&&(a.disabled=g._f.disabled||i,Array.isArray(g._f.refs)&&g._f.refs.forEach(y=>{y.disabled=g._f.disabled||i}))},0,!1))},tr=(i,a)=>async o=>{let g;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let y=M(u);if(_.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:v}=await x();r.errors=d,y=M(v)}else await j(t);if(c.disabled.size)for(const d of c.disabled)T(y,d);if(T(r.errors,"root"),H(r.errors)){_.state.next({errors:{}});try{await i(y,o)}catch(d){g=d}}else a&&await a({...r.errors},o),Ce(),setTimeout(Ce);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:H(r.errors)&&!g,submitCount:r.submitCount+1,errors:r.errors}),g)throw g},Nr=(i,a={})=>{f(t,i)&&(U(a.defaultValue)?z(i,M(f(n,i))):(z(i,a.defaultValue),S(n,i,M(a.defaultValue))),a.keepTouched||T(r.touchedFields,i),a.keepDirty||(T(r.dirtyFields,i),r.isDirty=a.defaultValue?ee(i,M(f(n,i))):ee()),a.keepError||(T(r.errors,i),F.isValid&&C()),_.state.next({...r}))},sr=(i,a={})=>{const o=i?M(i):n,g=M(o),y=H(i),d=y?n:g;if(a.keepDefaultValues||(n=o),!a.keepValues){if(a.keepDirtyValues){const v=new Set([...c.mount,...Object.keys(ge(n,u))]);for(const k of Array.from(v))f(r.dirtyFields,k)?S(d,k,f(u,k)):z(k,f(d,k))}else{if(ze&&U(i))for(const v of c.mount){const k=f(t,v);if(k&&k._f){const O=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(Fe(O)){const Y=O.closest("form");if(Y){Y.reset();break}}}}if(a.keepFieldsRef)for(const v of c.mount)z(v,f(d,v));else t={}}u=s.shouldUnregister?a.keepDefaultValues?M(n):{}:M(d),_.array.next({values:{...d}}),_.state.next({values:{...d}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!F.isValid||!!a.keepIsValid||!!a.keepDirtyValues,l.watch=!!s.shouldUnregister,_.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:y?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!ie(i,n)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:y?{}:a.keepDirtyValues?a.keepDefaultValues&&u?ge(n,u):r.dirtyFields:a.keepDefaultValues&&i?ge(n,i):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},ir=(i,a)=>sr(Q(i)?i(u):i,a),Pr=(i,a={})=>{const o=f(t,i),g=o&&o._f;if(g){const y=g.refs?g.refs[0]:g.ref;y.focus&&(y.focus(),a.shouldSelect&&Q(y.select)&&y.select())}},Ir=i=>{r={...r,...i}},ar={control:{register:De,unregister:ke,getFieldState:Qe,handleSubmit:tr,setError:Xe,_subscribe:er,_runSchema:x,_focusError:Ce,_getWatch:E,_getDirty:ee,_setValid:C,_setFieldArray:ae,_setDisabledField:rr,_setErrors:B,_getFieldArray:D,_reset:sr,_resetDefaultValues:()=>Q(s.defaultValues)&&s.defaultValues().then(i=>{ir(i,s.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:X,_disableForm:Tr,_subjects:_,_proxyFormState:F,get _fields(){return t},get _formValues(){return u},get _state(){return l},set _state(i){l=i},get _defaultValues(){return n},get _names(){return c},set _names(i){c=i},get _formState(){return r},get _options(){return s},set _options(i){s={...s,...i}}},subscribe:Lr,trigger:le,register:De,handleSubmit:tr,watch:Rr,setValue:z,getValues:me,reset:ir,resetField:Nr,clearErrors:Ur,unregister:ke,setError:Xe,setFocus:Pr,getFieldState:Qe};return{...ar,formControl:ar}}var ue=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const r=(Math.random()*16+e)%16|0;return(s=="x"?r:r&3|8).toString(16)})},Re=(e,s,r={})=>r.shouldFocus||U(r.shouldFocus)?r.focusName||`${e}.${U(r.focusIndex)?s:r.focusIndex}.`:"",Le=(e,s)=>[...e,...K(s)],Te=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ne(e,s,r){return[...e.slice(0,s),...K(r),...e.slice(s)]}var Pe=(e,s,r)=>Array.isArray(e)?(U(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(s,1)[0]),e):[],Ie=(e,s)=>[...K(s),...K(e)];function lt(e,s){let r=0;const t=[...e];for(const n of s)t.splice(n-r,1),r++;return we(t).length?t:[]}var Be=(e,s)=>U(s)?[]:lt(e,K(s).sort((r,t)=>r-t)),je=(e,s,r)=>{[e[s],e[r]]=[e[r],e[s]]},_r=(e,s,r)=>(e[s]=r,e);function mt(e){const s=Ee(),{control:r=s.control,name:t,keyName:n="id",shouldUnregister:u,rules:l}=e,[c,p]=b.useState(r._getFieldArray(t)),A=b.useRef(r._getFieldArray(t).map(ue)),F=b.useRef(c),w=b.useRef(!1);F.current=c,r._names.array.add(t),b.useMemo(()=>l&&r.register(t,l),[r,l,t]),Se(()=>r._subjects.array.subscribe({next:({values:h,name:m})=>{if(m===t||!m){const x=f(h,t);Array.isArray(x)&&(p(x),A.current=x.map(ue))}}}).unsubscribe,[r,t]);const _=b.useCallback(h=>{w.current=!0,r._setFieldArray(t,h)},[r,t]),Z=(h,m)=>{const x=K(M(h)),R=Le(r._getFieldArray(t),x);r._names.focus=Re(t,R.length-1,m),A.current=Le(A.current,x.map(ue)),_(R),p(R),r._setFieldArray(t,R,Le,{argA:Te(h)})},W=(h,m)=>{const x=K(M(h)),R=Ie(r._getFieldArray(t),x);r._names.focus=Re(t,0,m),A.current=Ie(A.current,x.map(ue)),_(R),p(R),r._setFieldArray(t,R,Ie,{argA:Te(h)})},C=h=>{const m=Be(r._getFieldArray(t),h);A.current=Be(A.current,h),_(m),p(m),!Array.isArray(f(r._fields,t))&&S(r._fields,t,void 0),r._setFieldArray(t,m,Be,{argA:h})},I=(h,m,x)=>{const R=K(M(m)),j=Ne(r._getFieldArray(t),h,R);r._names.focus=Re(t,h,x),A.current=Ne(A.current,h,R.map(ue)),_(j),p(j),r._setFieldArray(t,j,Ne,{argA:h,argB:Te(m)})},ae=(h,m)=>{const x=r._getFieldArray(t);je(x,h,m),je(A.current,h,m),_(x),p(x),r._setFieldArray(t,x,je,{argA:h,argB:m},!1)},V=(h,m)=>{const x=r._getFieldArray(t);Pe(x,h,m),Pe(A.current,h,m),_(x),p(x),r._setFieldArray(t,x,Pe,{argA:h,argB:m},!1)},B=(h,m)=>{const x=M(m),R=_r(r._getFieldArray(t),h,x);A.current=[...R].map((j,X)=>!j||X===h?ue():A.current[X]),_(R),p([...R]),r._setFieldArray(t,R,_r,{argA:h,argB:x},!0,!1)},P=h=>{const m=K(M(h));A.current=m.map(ue),_([...m]),p([...m]),r._setFieldArray(t,[...m],x=>x,{},!0,!1)};return b.useEffect(()=>{if(r._state.action=!1,qe(t,r._names)&&r._subjects.state.next({...r._formState}),w.current&&(!de(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!de(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([t]).then(h=>{const m=f(h.errors,t),x=f(r._formState.errors,t);(x?!m&&x.type||m&&(x.type!==m.type||x.message!==m.message):m&&m.type)&&(m?S(r._formState.errors,t,m):T(r._formState.errors,t),r._subjects.state.next({errors:r._formState.errors}))});else{const h=f(r._fields,t);h&&h._f&&!(de(r._options.reValidateMode).isOnSubmit&&de(r._options.mode).isOnSubmit)&&He(h,r._names.disabled,r._formValues,r._options.criteriaMode===J.all,r._options.shouldUseNativeValidation,!0).then(m=>!H(m)&&r._subjects.state.next({errors:Mr(r._formState.errors,m,t)}))}r._subjects.state.next({name:t,values:M(r._formValues)}),r._names.focus&&fe(r._fields,(h,m)=>{if(r._names.focus&&m.startsWith(r._names.focus)&&h.focus)return h.focus(),1}),r._names.focus="",r._setValid(),w.current=!1},[c,t,r]),b.useEffect(()=>(!f(r._formValues,t)&&r._setFieldArray(t),()=>{const h=(m,x)=>{const R=f(r._fields,m);R&&R._f&&(R._f.mount=x)};r._options.shouldUnregister||u?r.unregister(t):h(t,!1)}),[t,r,n,u]),{swap:b.useCallback(ae,[_,t,r]),move:b.useCallback(V,[_,t,r]),prepend:b.useCallback(W,[_,t,r]),append:b.useCallback(Z,[_,t,r]),remove:b.useCallback(C,[_,t,r]),insert:b.useCallback(I,[_,t,r]),update:b.useCallback(B,[_,t,r]),replace:b.useCallback(P,[_,t,r]),fields:b.useMemo(()=>c.map((h,m)=>({...h,[n]:A.current[m]||ue()})),[c,n])}}function vt(e={}){const s=b.useRef(void 0),r=b.useRef(void 0),[t,n]=b.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:t},e.defaultValues&&!Q(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...c}=ot(e);s.current={...c,formState:t}}const u=s.current.control;return u._options=e,Se(()=>{const l=u._subscribe({formState:u._proxyFormState,callback:()=>n({...u._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),u._formState.isReady=!0,l},[u]),b.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),b.useEffect(()=>{e.mode&&(u._options.mode=e.mode),e.reValidateMode&&(u._options.reValidateMode=e.reValidateMode)},[u,e.mode,e.reValidateMode]),b.useEffect(()=>{e.errors&&(u._setErrors(e.errors),u._focusError())},[u,e.errors]),b.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,e.shouldUnregister]),b.useEffect(()=>{if(u._proxyFormState.isDirty){const l=u._getDirty();l!==t.isDirty&&u._subjects.state.next({isDirty:l})}},[u,t.isDirty]),b.useEffect(()=>{e.values&&!ie(e.values,r.current)?(u._reset(e.values,{keepFieldsRef:!0,...u._options.resetOptions}),r.current=e.values,n(l=>({...l}))):u._resetDefaultValues()},[u,e.values]),b.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),s.current.formState=pr(t,u),s.current}const mr=(e,s,r)=>{if(e&&"reportValidity"in e){const t=f(r,s);e.setCustomValidity(t&&t.message||""),e.reportValidity()}},$e=(e,s)=>{for(const r in s.fields){const t=s.fields[r];t&&t.ref&&"reportValidity"in t.ref?mr(t.ref,r,e):t&&t.refs&&t.refs.forEach(n=>mr(n,r,e))}},vr=(e,s)=>{s.shouldUseNativeValidation&&$e(e,s);const r={};for(const t in e){const n=f(s.fields,t),u=Object.assign(e[t]||{},{ref:n&&n.ref});if(ct(s.names||Object.keys(e),t)){const l=Object.assign({},f(r,t));S(l,"root",u),S(r,t,l)}else S(r,t,u)}return r},ct=(e,s)=>{const r=br(s);return e.some(t=>br(t).match(`^${r}\\.\\d+`))};function br(e){return e.replace(/\]|\[/g,"")}function Vr(e,s){try{var r=e()}catch(t){return s(t)}return r&&r.then?r.then(void 0,s):r}function dt(e,s){for(var r={};e.length;){var t=e[0],n=t.code,u=t.message,l=t.path.join(".");if(!r[l])if("unionErrors"in t){var c=t.unionErrors[0].errors[0];r[l]={message:c.message,type:c.code}}else r[l]={message:u,type:n};if("unionErrors"in t&&t.unionErrors.forEach(function(F){return F.errors.forEach(function(w){return e.push(w)})}),s){var p=r[l].types,A=p&&p[t.code];r[l]=Ge(l,s,r,n,A?[].concat(A,t.message):t.message)}e.shift()}return r}function ft(e,s){for(var r={};e.length;){var t=e[0],n=t.code,u=t.message,l=t.path.join(".");if(!r[l])if(t.code==="invalid_union"&&t.errors.length>0){var c=t.errors[0][0];r[l]={message:c.message,type:c.code}}else r[l]={message:u,type:n};if(t.code==="invalid_union"&&t.errors.forEach(function(F){return F.forEach(function(w){return e.push(w)})}),s){var p=r[l].types,A=p&&p[t.code];r[l]=Ge(l,s,r,n,A?[].concat(A,t.message):t.message)}e.shift()}return r}function bt(e,s,r){if(r===void 0&&(r={}),(function(t){return"_def"in t&&typeof t._def=="object"&&"typeName"in t._def})(e))return function(t,n,u){try{return Promise.resolve(Vr(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](t,s)).then(function(l){return u.shouldUseNativeValidation&&$e({},u),{errors:{},values:r.raw?Object.assign({},t):l}})},function(l){if((function(c){return Array.isArray(c?.issues)})(l))return{values:{},errors:vr(dt(l.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw l}))}catch(l){return Promise.reject(l)}};if((function(t){return"_zod"in t&&typeof t._zod=="object"})(e))return function(t,n,u){try{return Promise.resolve(Vr(function(){return Promise.resolve((r.mode==="sync"?qr:Hr)(e,t,s)).then(function(l){return u.shouldUseNativeValidation&&$e({},u),{errors:{},values:r.raw?Object.assign({},t):l}})},function(l){if((function(c){return c instanceof $r})(l))return{values:{},errors:vr(ft(l.issues,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}export{_t as C,ht as F,bt as a,mt as b,Ee as c,Zr as d,vt as u};
