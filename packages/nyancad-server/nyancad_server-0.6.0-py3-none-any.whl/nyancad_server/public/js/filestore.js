import { $APP, shadow$provide } from "./common.js";
var yI=function(a){$APP.yi($APP.M(["Saving notebook to database"]));return $APP.X.s(vI,$APP.W,[wI,":notebook.py"].join(""),new $APP.l(null,2,[$APP.pw,a,xI,(new Date).toISOString()],null))},zI=function(){$APP.yi($APP.M(["Reading notebook from database"]));return $APP.Hf($APP.u(vI),new $APP.U(null,2,5,$APP.V,[[wI,":notebook.py"].join(""),$APP.pw],null))},DI=function(){var a={saveFile:yI,readFile:zI};window.__MARIMO_MOUNT_CONFIG__.config.save=$APP.nl(new $APP.l(null,3,[AI,"after_delay",BI,2E3,CI,!0],
null));return window.__MARIMO_MOUNT_CONFIG__.fileStores=$APP.nl(new $APP.U(null,1,5,$APP.V,[a],null))},BI=new $APP.P(null,"autosave_delay","autosave_delay",-540817600),CI=new $APP.P(null,"format_on_save","format_on_save",-218481126),xI=new $APP.P(null,"lastModified","lastModified",-1993155246),AI=new $APP.P(null,"autosave","autosave",-879866416);var EI=new URLSearchParams(window.location.search),FI=$APP.r,GI=FI.g,HI=EI.get("schem"),wI=[GI.call(FI,$APP.m(HI)?HI:"myschem"),"$notebook"].join(""),II=new $APP.oA("schematics"),vI=$APP.Ym(II,wI,$APP.Gl($APP.R));$APP.Wm(II,$APP.M([vI]));$APP.ja("nyancad.mosaic.filestore.init",DI);DI();