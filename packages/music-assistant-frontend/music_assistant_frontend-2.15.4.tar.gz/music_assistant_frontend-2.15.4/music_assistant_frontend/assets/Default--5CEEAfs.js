import{B as pe,z as fa,m as wt}from"./Button-kSJGA_Pw.js";import{D as pa}from"./constants-BXWEQHoz.js";import{_ as ha,s as ve,c as $,a as xe,o as Ae,w as J,b as Le,C as ga,u as Se,d as _a,e as ot,f as ba,g as ce,p as de,h as st,i as Ue,j as nt,k as Me,l as rt,m as ut,n as ct,q as Aa,r as Ge,t as je,v as Ot,x as M,y as wa,z as X,A as Pa,B as dt,D as me,E as w,F as u,G as j,H as ka,T as Ca,I as W,J as ze,K as Ve,L as mt,M as vt,N as Ia,O as Qa,P as we,Q as yt,R as Ke,V as We,S as xa,U as q,W as V,X as r,Y as y,Z as be,$ as Ne,a0 as g,a1 as se,a2 as e,a3 as Ie,a4 as t,a5 as Ce,a6 as B,a7 as z,a8 as Pt,a9 as He,aa as Z,ab as Q,ac as Je,ad as k,ae as Va,af as $a,ag as H,ah as ie,ai as Sa,aj as Ta,ak as Ba,al as Dt,am as qt,an as Wt,ao as Ea,ap as Nt,aq as ae,ar as le,as as D,at as ft,au as pt,av as Ht,aw as Ma,ax as Yt,ay as La,az as Xt,aA as za,aB as Fa,aC as Ra,aD as Oa,aE as Da,aF as qa,aG as Wa,aH as Na,aI as Ha,aJ as Ya,aK as Xa,aL as kt,aM as Ua,aN as Ga,aO as ja,aP as Ka,aQ as Za,aR as Qe,aS as re,aT as Te,aU as et,aV as Be,aW as Ut,aX as Ye,aY as Ja,aZ as Fe,a_ as Re,a$ as Xe,b0 as tt,b1 as $e,b2 as he,b3 as Gt,b4 as jt,b5 as Kt,b6 as Ct,b7 as It,b8 as el,b9 as tl,ba as al,bb as De,bc as ll,bd as Qt,be as xt,bf as Vt,bg as $t,bh as _e,bi as Zt,bj as il,bk as ol,bl as sl,bm as nl}from"./index-B-lUZalq.js";import{u as ht,m as gt,a as rl,c as ul,b as cl}from"./layout-BuzUTwrQ.js";import{_ as ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as Ee}from"./MediaItemThumb-DapaMoP4.js";import{T as dl,V as at}from"./Toolbar-BvxWbi_E.js";import{V as Jt}from"./VDialog-CAgq0L03.js";import{V as ml,a as vl}from"./VInfiniteScroll-CKZj-VKd.js";import{V as yl,a as ge,m as fl,b as ea}from"./VBtn-BPJ1JKW-.js";import{V as pl,P as _t,g as hl,a as Oe}from"./PlayerCard-5XdZCTyl.js";import{V as gl}from"./VSlider-BCIrn4it.js";import{L as _l}from"./ListItem-LV_WU--g.js";import{M as oe,a as lt}from"./marquee_text_sync-D7pvlIaW.js";import{_ as bl}from"./NowPlayingBadge.vue_vue_type_style_index_0_lang-DnroVGI-.js";import{V as Al}from"./VToolbar-RljK0PC9.js";import{V as wl}from"./VVirtualScroll-CceW16X7.js";import{V as Pl,a as St,b as Tt,c as Bt}from"./VExpansionPanels-CR_eBB13.js";import"./VInput-BWBQqjuk.js";const kl=ue(ha,[["__scopeId","data-v-2703e550"]]),Cl="data:image/png;base64,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";function Il(a){let{rootEl:l,isSticky:i,layoutItemStyles:o}=a;const n=ve(!1),s=ve(0),c=$(()=>{const v=typeof n.value=="boolean"?"top":n.value;return[i.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[v]:xe(s.value)}:{top:o.value.top}]});Ae(()=>{J(i,v=>{v?window.addEventListener("scroll",f,{passive:!0}):window.removeEventListener("scroll",f)},{immediate:!0})}),Le(()=>{window.removeEventListener("scroll",f)});let m=0;function f(){const v=m>window.scrollY?"up":"down",T=l.value.getBoundingClientRect(),b=parseFloat(o.value.top??0),d=window.scrollY-Math.max(0,s.value-b),I=T.height+Math.max(s.value,b)-window.scrollY-window.innerHeight,C=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;T.height<window.innerHeight-b?(n.value="top",s.value=b):v==="up"&&n.value==="bottom"||v==="down"&&n.value==="top"?(s.value=window.scrollY+T.top-C,n.value=!0):v==="down"&&I<=0?(s.value=0,n.value="bottom"):v==="up"&&d<=0&&(C?n.value!=="top"&&(s.value=-d+C+b,n.value="top"):(s.value=T.top+d,n.value="top")),m=window.scrollY}return{isStuck:n,stickyStyles:c}}const Ql=100,xl=20;function Et(a){return(a<0?-1:1)*Math.sqrt(Math.abs(a))*1.41421356237}function Mt(a){if(a.length<2)return 0;if(a.length===2)return a[1].t===a[0].t?0:(a[1].d-a[0].d)/(a[1].t-a[0].t);let l=0;for(let i=a.length-1;i>0;i--){if(a[i].t===a[i-1].t)continue;const o=Et(l),n=(a[i].d-a[i-1].d)/(a[i].t-a[i-1].t);l+=(n-o)*Math.abs(n),i===a.length-1&&(l*=.5)}return Et(l)*1e3}function Vl(){const a={};function l(n){Array.from(n.changedTouches).forEach(s=>{(a[s.identifier]??(a[s.identifier]=new ga(xl))).push([n.timeStamp,s])})}function i(n){Array.from(n.changedTouches).forEach(s=>{delete a[s.identifier]})}function o(n){const s=a[n]?.values().reverse();if(!s)throw new Error(`No samples for touch id ${n}`);const c=s[0],m=[],f=[];for(const v of s){if(c[0]-v[0]>Ql)break;m.push({t:v[0],d:v[1].clientX}),f.push({t:v[0],d:v[1].clientY})}return{x:Mt(m),y:Mt(f),get direction(){const{x:v,y:T}=this,[b,d]=[Math.abs(v),Math.abs(T)];return b>d&&v>=0?"right":b>d&&v<=0?"left":d>b&&T>=0?"down":d>b&&T<=0?"up":$l()}}}return{addMovement:l,endTouch:i,getVelocity:o}}function $l(){throw new Error}function Sl(a){let{el:l,isActive:i,isTemporary:o,width:n,touchless:s,position:c}=a;Ae(()=>{window.addEventListener("touchstart",ee,{passive:!0}),window.addEventListener("touchmove",N,{passive:!1}),window.addEventListener("touchend",R,{passive:!0})}),Le(()=>{window.removeEventListener("touchstart",ee),window.removeEventListener("touchmove",N),window.removeEventListener("touchend",R)});const m=$(()=>["left","right"].includes(c.value)),{addMovement:f,endTouch:v,getVelocity:T}=Vl();let b=!1;const d=ve(!1),I=ve(0),C=ve(0);let E;function F(h,S){return(c.value==="left"?h:c.value==="right"?document.documentElement.clientWidth-h:c.value==="top"?h:c.value==="bottom"?document.documentElement.clientHeight-h:ke())-(S?n.value:0)}function U(h){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const x=c.value==="left"?(h-C.value)/n.value:c.value==="right"?(document.documentElement.clientWidth-h-C.value)/n.value:c.value==="top"?(h-C.value)/n.value:c.value==="bottom"?(document.documentElement.clientHeight-h-C.value)/n.value:ke();return S?_a(x):x}function ee(h){if(s.value)return;const S=h.changedTouches[0].clientX,x=h.changedTouches[0].clientY,L=25,G=c.value==="left"?S<L:c.value==="right"?S>document.documentElement.clientWidth-L:c.value==="top"?x<L:c.value==="bottom"?x>document.documentElement.clientHeight-L:ke(),A=i.value&&(c.value==="left"?S<n.value:c.value==="right"?S>document.documentElement.clientWidth-n.value:c.value==="top"?x<n.value:c.value==="bottom"?x>document.documentElement.clientHeight-n.value:ke());(G||A||i.value&&o.value)&&(E=[S,x],C.value=F(m.value?S:x,i.value),I.value=U(m.value?S:x),b=C.value>-20&&C.value<80,v(h),f(h))}function N(h){const S=h.changedTouches[0].clientX,x=h.changedTouches[0].clientY;if(b){if(!h.cancelable){b=!1;return}const G=Math.abs(S-E[0]),A=Math.abs(x-E[1]);(m.value?G>A&&G>3:A>G&&A>3)?(d.value=!0,b=!1):(m.value?A:G)>3&&(b=!1)}if(!d.value)return;h.preventDefault(),f(h);const L=U(m.value?S:x,!1);I.value=Math.max(0,Math.min(1,L)),L>1?C.value=F(m.value?S:x,!0):L<0&&(C.value=F(m.value?S:x,!1))}function R(h){if(b=!1,!d.value)return;f(h),d.value=!1;const S=T(h.changedTouches[0].identifier),x=Math.abs(S.x),L=Math.abs(S.y);(m.value?x>L&&x>400:L>x&&L>3)?i.value=S.direction===({left:"right",right:"left",top:"down",bottom:"up"}[c.value]||ke()):i.value=I.value>.5}const _=$(()=>d.value?{transform:c.value==="left"?`translateX(calc(-100% + ${I.value*n.value}px))`:c.value==="right"?`translateX(calc(100% - ${I.value*n.value}px))`:c.value==="top"?`translateY(calc(-100% + ${I.value*n.value}px))`:c.value==="bottom"?`translateY(calc(100% - ${I.value*n.value}px))`:ke(),transition:"none"}:void 0);return Se(d,()=>{const h=l.value?.style.transform??null,S=l.value?.style.transition??null;ot(()=>{l.value?.style.setProperty("transform",_.value?.transform||"none"),l.value?.style.setProperty("transition",_.value?.transition||null)}),ba(()=>{l.value?.style.setProperty("transform",h),l.value?.style.setProperty("transition",S)})}),{isDragging:d,dragProgress:I,dragStyles:_}}function ke(){throw new Error}const Tl=["start","end","left","right","top","bottom"],Bl=de({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:a=>Tl.includes(a)},sticky:Boolean,...yt(),...we(),...Qa(),...Ia({mobile:null}),...vt(),...gt(),...mt(),...Ve({tag:"nav"}),...ze()},"VNavigationDrawer"),ta=ce()({name:"VNavigationDrawer",props:Bl(),emits:{"update:modelValue":a=>!0,"update:rail":a=>!0},setup(a,l){let{attrs:i,emit:o,slots:n}=l;const{isRtl:s}=st(),{themeClasses:c}=Ue(a),{borderClasses:m}=nt(a),{backgroundColorClasses:f,backgroundColorStyles:v}=Me(()=>a.color),{elevationClasses:T}=rt(a),{displayClasses:b,mobile:d}=ut(a),{roundedClasses:I}=ct(a),C=Aa(),E=Ge(a,"modelValue",null,Y=>!!Y),{ssrBootStyles:F}=je(),{scopeId:U}=Ot(),ee=M(),N=ve(!1),{runOpenDelay:R,runCloseDelay:_}=ka(a,Y=>{N.value=Y}),h=$(()=>a.rail&&a.expandOnHover&&N.value?Number(a.width):Number(a.rail?a.railWidth:a.width)),S=$(()=>wa(a.location,s.value)),x=X(()=>a.persistent),L=$(()=>!a.permanent&&(d.value||a.temporary)),G=$(()=>a.sticky&&!L.value&&S.value!=="bottom");Se(()=>a.expandOnHover&&a.rail!=null,()=>{J(N,Y=>o("update:rail",!Y))}),Se(()=>!a.disableResizeWatcher,()=>{J(L,Y=>!a.permanent&&Ke(()=>E.value=!Y))}),Se(()=>!a.disableRouteWatcher&&!!C,()=>{J(C.currentRoute,()=>L.value&&(E.value=!1))}),J(()=>a.permanent,Y=>{Y&&(E.value=!0)}),a.modelValue==null&&!L.value&&(E.value=a.permanent||!d.value);const{isDragging:A,dragProgress:p}=Sl({el:ee,isActive:E,isTemporary:L,width:h,touchless:X(()=>a.touchless),position:S}),P=$(()=>{const Y=L.value?0:a.rail&&a.expandOnHover?Number(a.railWidth):h.value;return A.value?Y*p.value:Y}),{layoutItemStyles:O,layoutItemScrimStyles:K}=ht({id:a.name,order:$(()=>parseInt(a.order,10)),position:S,layoutSize:P,elementSize:h,active:Pa(E),disableTransitions:X(()=>A.value),absolute:$(()=>a.absolute||G.value&&typeof te.value!="string")}),{isStuck:te,stickyStyles:ye}=Il({rootEl:ee,isSticky:G,layoutItemStyles:O}),ne=Me(()=>typeof a.scrim=="string"?a.scrim:null),fe=$(()=>({...A.value?{opacity:p.value*.2,transition:"none"}:void 0,...K.value}));return dt({VList:{bgColor:"transparent"}}),me(()=>{const Y=n.image||a.image;return w(W,null,[u(a.tag,j({ref:ee,onMouseenter:R,onMouseleave:_,class:["v-navigation-drawer",`v-navigation-drawer--${S.value}`,{"v-navigation-drawer--expand-on-hover":a.expandOnHover,"v-navigation-drawer--floating":a.floating,"v-navigation-drawer--is-hovering":N.value,"v-navigation-drawer--rail":a.rail,"v-navigation-drawer--temporary":L.value,"v-navigation-drawer--persistent":x.value,"v-navigation-drawer--active":E.value,"v-navigation-drawer--sticky":G.value},c.value,f.value,m.value,b.value,T.value,I.value,a.class],style:[v.value,O.value,F.value,ye.value,a.style]},U,i),{default:()=>[Y&&w("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?u(xa,{key:"image-defaults",disabled:!a.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:a.image}}},n.image):u(We,{key:"image-img",alt:"",cover:!0,height:"inherit",src:a.image},null)]),n.prepend&&w("div",{class:"v-navigation-drawer__prepend"},[n.prepend?.()]),w("div",{class:"v-navigation-drawer__content"},[n.default?.()]),n.append&&w("div",{class:"v-navigation-drawer__append"},[n.append?.()])]}),u(Ca,{name:"fade-transition"},{default:()=>[L.value&&(A.value||E.value)&&!!a.scrim&&w("div",j({class:["v-navigation-drawer__scrim",ne.backgroundColorClasses.value],style:[fe.value,ne.backgroundColorStyles.value],onClick:()=>{x.value||(E.value=!1)}},U),null)]})])}),{isStuck:te}}}),aa=function(){const a=localStorage.getItem("frontend.settings.menu_items"),l=a?a.split(","):pa,i=[];for(const o of l)o==="home"&&i.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),o==="search"&&i.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),o==="artists"&&i.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0,hidden:t.libraryArtistsCount===0}),o==="albums"&&i.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0,hidden:t.libraryAlbumsCount===0}),o==="tracks"&&i.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0,hidden:t.libraryTracksCount===0}),o==="playlists"&&i.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0,hidden:t.libraryPlaylistsCount===0}),o==="podcasts"&&i.push({label:"podcasts",icon:"mdi-podcast",path:"/podcasts",isLibraryNode:!0,hidden:t.libraryPodcastsCount===0}),o==="audiobooks"&&i.push({label:"audiobooks",icon:"mdi-book-play-outline",path:"/audiobooks",isLibraryNode:!0,hidden:t.libraryAudiobooksCount===0}),o==="radios"&&i.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0,hidden:t.libraryRadiosCount===0}),o==="browse"&&i.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),o==="settings"&&i.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0});return i},El=q({__name:"DrawerNavigation",setup(a){const l=M(localStorage.getItem("show_navigation_menu")==="true"),i=aa();return J(()=>l.value,o=>{localStorage.setItem("show_navigation_menu",o.toString())}),(o,n)=>(r(),V(ta,{app:"",rail:!l.value,width:280,permanent:""},{default:y(()=>[u(be,{style:{height:"55px"},active:!1},{prepend:y(()=>[...n[1]||(n[1]=[w("img",{class:"logo_icon",size:"40",src:Cl},null,-1)])]),title:y(()=>[...n[2]||(n[2]=[w("div",{class:"logo_text"},"Music Assistant",-1)])]),_:1}),u(Ne),u(Ie,{lines:"one",density:"compact",nav:""},{default:y(()=>[(r(!0),g(W,null,se(e(i).filter(s=>!s.hidden),s=>(r(),V(be,{key:s.path,nav:"",density:"compact",height:15,title:o.$t(s.label),"prepend-icon":s.icon,to:s.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),u(pe,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:l.value?"mdi-chevron-left":"mdi-chevron-right",title:o.$t("tooltip.show_menu"),onClick:n[0]||(n[0]=s=>l.value=!l.value)},null,8,["icon","title"])]),_:1},8,["rail"]))}}),Ml=ue(El,[["__scopeId","data-v-46dc003b"]]),Ll={class:"media-thumb"},zl={style:{"margin-left":"-10px","padding-right":"5px"}},Fl=q({__name:"AddToPlaylistDialog",setup(a){const l=M(!1),i=M([]),o=M([]),n=M(),s=M([]);Ae(()=>{Ce.on("playlistdialog",async T=>{l.value=!0,s.value=T.items,n.value=T.parentItem,await c()}),Le(()=>{Ce.off("playlistdialog")})});const c=async function(){i.value=[],o.value=[];const T=await B.getLibraryPlaylists();let b=s.value.length?s.value[0]:void 0;if(b){"provider_mappings"in b||(b=await B.getItem(b.media_type,b.item_id,b.provider));for(const d of T){if(!d.provider_mappings.filter(C=>C.available).length||!d.is_editable||n.value&&n.value.media_type===z.PLAYLIST&&d.item_id===n.value.item_id)continue;const I=B.providers[d.provider_mappings[0].provider_instance];I&&(I.domain=="builtin"||I.is_streaming_provider||b?.provider_mappings.filter(C=>C.provider_instance==I.instance_id).length)&&i.value.push(d)}for(const d of Object.values(B.providers))d.supported_features.includes(Pt.PLAYLIST_CREATE)&&d.supported_features.includes(Pt.PLAYLIST_TRACKS_EDIT)&&(d.domain=="builtin"||d.is_streaming_provider||b?.provider_mappings.filter(I=>I.provider_instance==d.instance_id).length)&&o.value.push(d.instance_id)}},m=async function(T){B.addPlaylistTracks(T.item_id,s.value.map(b=>b.uri)),v(),t.activeAlert={type:Va.INFO,message:Z("background_task_added"),persistent:!1}},f=async function(T){const b=prompt(Z("new_playlist_name"));if(!b)return;const d=await B.createPlaylist(b,T);m(d)},v=function(){l.value=!1};return(T,b)=>(r(),V(Jt,{modelValue:l.value,"onUpdate:modelValue":[b[0]||(b[0]=d=>l.value=d),b[1]||(b[1]=d=>{e(t).dialogActive=d})],fullscreen:"",transition:"dialog-bottom-transition"},{default:y(()=>[u(He,null,{default:y(()=>[u(dl,{icon:"mdi-playlist-plus",title:e(Z)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:v}]},null,8,["title","menu-items"]),u(Ne),b[4]||(b[4]=w("br",null,null,-1)),u(Ie,null,{default:y(()=>[(r(!0),g(W,null,se(i.value,d=>(r(),g("div",{key:d.item_id},[u(be,{onClick:I=>m(d)},{prepend:y(()=>[w("div",Ll,[u(Ee,{item:d,size:50},null,8,["item"])])]),title:y(()=>[w("div",null,k(d.name),1)]),subtitle:y(()=>[w("div",null,k(d.owner),1)]),append:y(()=>[d.provider_mappings?(r(),V(Je,{key:0,domain:d.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):Q("",!0)]),_:2},1032,["onClick"])]))),128)),b[2]||(b[2]=w("div",{style:{height:"30px"}},null,-1)),u(Ne),b[3]||(b[3]=w("div",{style:{height:"30px"}},null,-1)),(r(!0),g(W,null,se(o.value,d=>(r(),g("div",{key:d},[u(be,{onClick:I=>f(d)},{prepend:y(()=>[w("div",zl,[u(Je,{domain:e(B).providers[d].domain,size:50},null,8,["domain"])])]),title:y(()=>[w("div",null,k(e(Z)("new_playlist")),1)]),subtitle:y(()=>[w("div",null,k(e(Z)("create_playlist_on",[e(B).providers[d].name])),1)]),append:y(()=>[u(Je,{domain:e(B).providers[d].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Rl=ue(Fl,[["__scopeId","data-v-bd014719"]]),Ol=de({scrollable:Boolean,...we(),...Sa(),...Ve({tag:"main"})},"VMain"),Dl=ce()({name:"VMain",props:Ol(),setup(a,l){let{slots:i}=l;const{dimensionStyles:o}=$a(a),{mainStyles:n}=rl(),{ssrBootStyles:s}=je();return me(()=>u(a.tag,{class:ie(["v-main",{"v-main--scrollable":a.scrollable},a.class]),style:H([n.value,s.value,o.value,a.style])},{default:()=>[a.scrollable?w("div",{class:"v-main__scroller"},[i.default?.()]):i.default?.()]})),{}}}),Lt=q({__name:"View",setup(a){return(l,i)=>{const o=Ba("router-view");return r(),V(Dl,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:y(()=>[e(t).navigationMenuStyle=="vertical"&&!e(t).frameless?(r(),V(Ml,{key:0})):Q("",!0),u(o,null,{default:y(({Component:n})=>[(r(),V(Ta(n)))]),_:1}),u(Rl),u(kl),u(ml,{"model-value":e(t).activeAlert!==void 0,color:e(t).activeAlert?.type||"grey",text:e(t).activeAlert?.message,"close-on-content-click":"",position:"sticky",timeout:e(t).activeAlert?.persistent?-1:5e3,"z-index":"999999",style:{"z-index":"999999"},"onUpdate:modelValue":i[0]||(i[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]),_:1})}}}),ql=de({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...yt(),...we(),...Nt(),...vt(),...mt(),...gt({name:"bottom-navigation"}),...Ve({tag:"header"}),...Ea({selectedClass:"v-btn--selected"}),...ze()},"VBottomNavigation"),Wl=ce()({name:"VBottomNavigation",props:ql(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,l){let{slots:i}=l;const{themeClasses:o}=Dt(),{borderClasses:n}=nt(a),{backgroundColorClasses:s,backgroundColorStyles:c}=Me(()=>a.bgColor),{densityClasses:m}=qt(a),{elevationClasses:f}=rt(a),{roundedClasses:v}=ct(a),{ssrBootStyles:T}=je(),b=$(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),d=Ge(a,"active",a.active),{layoutItemStyles:I}=ht({id:a.name,order:$(()=>parseInt(a.order,10)),position:X(()=>"bottom"),layoutSize:X(()=>d.value?b.value:0),elementSize:b,active:d,absolute:X(()=>a.absolute)});return Wt(a,yl),dt({VBtn:{baseColor:X(()=>a.baseColor),color:X(()=>a.color),density:X(()=>a.density),stacked:X(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),me(()=>u(a.tag,{class:ie(["v-bottom-navigation",{"v-bottom-navigation--active":d.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},o.value,s.value,n.value,m.value,f.value,v.value,a.class]),style:H([c.value,I.value,{height:xe(b.value)},T.value,a.style])},{default:()=>[i.default&&w("div",{class:"v-bottom-navigation__content"},[i.default()])]})),{}}}),Nl={class:"menuButton"},Hl={class:"menuButton"},Yl={class:"menuButton"},Xl=q({__name:"BottomNavigation",props:{height:{}},setup(a){const l=aa(),i=M(!1);return(o,n)=>(r(),V(Wl,{height:o.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"},role:"navigation"},{default:y(()=>[e(ae)("tablet")?(r(!0),g(W,{key:0},se(e(l),s=>(r(),V(ge,{key:s.label,to:s.path,"aria-label":o.$t(s.label),tabindex:"0"},{default:y(()=>[u(le,{size:"xx-large"},{default:y(()=>[D(k(s.icon),1)]),_:2},1024),w("span",Nl,k(o.$t(s.label)),1)]),_:2},1032,["to","aria-label"]))),128)):(r(),g(W,{key:1},[(r(!0),g(W,null,se(e(l).filter(s=>!s.isLibraryNode),s=>(r(),V(ge,{key:s.label,to:s.path,"aria-label":o.$t(s.label),tabindex:"0"},{default:y(()=>[u(le,{size:"xx-large"},{default:y(()=>[D(k(s.icon),1)]),_:2},1024),w("span",Hl,k(o.$t(s.label)),1)]),_:2},1032,["to","aria-label"]))),128)),u(ft,null,{activator:y(({props:s})=>[u(ge,j(s,{"aria-haspopup":"true","aria-expanded":i.value.toString(),"aria-label":"Open library menu"}),{default:y(()=>[u(le,{size:"xx-large"},{default:y(()=>[...n[0]||(n[0]=[D("mdi-bookshelf",-1)])]),_:1}),w("span",Yl,k(o.$t("library")),1)]),_:1},16,["aria-expanded"])]),default:y(()=>[u(Ie,null,{default:y(()=>[(r(!0),g(W,null,se(e(l).filter(s=>s.isLibraryNode),s=>(r(),V(be,{key:s.label,title:o.$t(s.label),"prepend-icon":s.icon,to:s.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})],64))]),_:1},8,["height"]))}}),Ul=ue(Xl,[["__scopeId","data-v-5c8e33d1"]]),Gl=a=>{const l=$(()=>{const{variant:s,width:c,height:m,staticWidth:f,staticHeight:v,maxWidth:T,maxHeight:b,minWidth:d,minHeight:I,badge:C,...E}=a,F={...E,size:a.size||f||void 0||v||void 0||(a.maxHeight?a.maxHeight:void 0)||(a.maxWidth?a.maxWidth:void 0)||"24px"};return fa(s).with("button",()=>({...F,class:a.class?`icon-button ${a.class}`:"icon-button"})).with("responsive",()=>({...F,class:a.class?`icon-responsive ${a.class}`:"icon-responsive"})).with("default",()=>({...F,class:a.class?`icon-default ${a.class}`:"icon-default"})).otherwise(()=>({...F,class:a.class?`icon-default ${a.class}`:"icon-default"}))}),i=$(()=>{const s={};if(a.staticWidth?s.width=a.staticWidth:a.width&&(s.width=a.width),a.staticHeight?s.height=a.staticHeight:a.height&&(s.height=a.height),a.maxWidth&&(s.maxWidth=a.maxWidth),a.maxHeight&&(s.maxHeight=a.maxHeight),a.minWidth&&(s.minWidth=a.minWidth),a.minHeight&&(s.minHeight=a.minHeight),typeof a.style=="object")Object.assign(s,a.style);else if(typeof a.style=="string"){const c=a.style.split(";").reduce((m,f)=>{const[v,T]=f.split(":").map(b=>b.trim());return v&&T&&(m[v]=T),m},{});Object.assign(s,c)}return s}),o=$(()=>wt("icon-container",a.variant&&`icon-container--${a.variant}`,a.disabled&&"icon-container--disabled")),n=$(()=>wt("icon",a.variant&&`icon--${a.variant}`));return{iconProps:l,containerStyle:i,containerClasses:o,iconClasses:n}},jl={variant:"default",minWidth:"24px",minHeight:"24px",badge:!1,disabled:!1},Kl=de({...we(),...pt(cl(),["fullHeight"]),...ze()},"VApp"),Zl=ce()({name:"VApp",props:Kl(),setup(a,l){let{slots:i}=l;const o=Ue(a),{layoutClasses:n,getLayoutItem:s,items:c,layoutRef:m}=ul({...a,fullHeight:!0}),{rtlClasses:f}=st();return me(()=>w("div",{ref:m,class:ie(["v-application",o.themeClasses.value,n.value,f.value,a.class]),style:H([a.style])},[w("div",{class:"v-application__wrap"},[i.default?.()])])),{getLayoutItem:s,items:c,theme:o}}}),Jl=a=>{const{touchstartX:l,touchendX:i,touchstartY:o,touchendY:n}=a,s=.5,c=16;a.offsetX=i-l,a.offsetY=n-o,Math.abs(a.offsetY)<s*Math.abs(a.offsetX)&&(a.left&&i<l-c&&a.left(a),a.right&&i>l+c&&a.right(a)),Math.abs(a.offsetX)<s*Math.abs(a.offsetY)&&(a.up&&n<o-c&&a.up(a),a.down&&n>o+c&&a.down(a))};function ei(a,l){const i=a.changedTouches[0];l.touchstartX=i.clientX,l.touchstartY=i.clientY,l.start?.({originalEvent:a,...l})}function ti(a,l){const i=a.changedTouches[0];l.touchendX=i.clientX,l.touchendY=i.clientY,l.end?.({originalEvent:a,...l}),Jl(l)}function ai(a,l){const i=a.changedTouches[0];l.touchmoveX=i.clientX,l.touchmoveY=i.clientY,l.move?.({originalEvent:a,...l})}function li(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:i=>ei(i,l),touchend:i=>ti(i,l),touchmove:i=>ai(i,l)}}function ii(a,l){const i=l.value,o=i?.parent?a.parentElement:a,n=i?.options??{passive:!0},s=l.instance?.$.uid;if(!o||s===void 0)return;const c=li(l.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[s]=c,Ht(c).forEach(m=>{o.addEventListener(m,c[m],n)})}function oi(a,l){const i=l.value?.parent?a.parentElement:a,o=l.instance?.$.uid;if(!i?._touchHandlers||o===void 0)return;const n=i._touchHandlers[o];Ht(n).forEach(s=>{i.removeEventListener(s,n[s])}),delete i._touchHandlers[o]}const it={mounted:ii,unmounted:oi},la=Symbol.for("vuetify:v-window"),ia=Symbol.for("vuetify:v-window-group"),oa=de({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...we(),...Ve(),...ze()},"VWindow"),zt=ce()({name:"VWindow",directives:{vTouch:it},props:oa(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:i}=l;const{themeClasses:o}=Ue(a),{isRtl:n}=st(),{t:s}=Ma(),c=Wt(a,ia),m=M(),f=$(()=>n.value?!a.reverse:a.reverse),v=ve(!1),T=$(()=>{const R=a.direction==="vertical"?"y":"x",h=(f.value?!v.value:v.value)?"-reverse":"";return`v-window-${R}${h}-transition`}),b=ve(0),d=M(void 0),I=$(()=>c.items.value.findIndex(R=>c.selected.value.includes(R.id)));J(I,(R,_)=>{const h=c.items.value.length,S=h-1;h<=2?v.value=R<_:R===S&&_===0?v.value=!0:R===0&&_===S?v.value=!1:v.value=R<_}),La(la,{transition:T,isReversed:v,transitionCount:b,transitionHeight:d,rootRef:m});const C=X(()=>a.continuous||I.value!==0),E=X(()=>a.continuous||I.value!==c.items.value.length-1);function F(){C.value&&c.prev()}function U(){E.value&&c.next()}const ee=$(()=>{const R=[],_={icon:n.value?a.nextIcon:a.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:c.prev,"aria-label":s("$vuetify.carousel.prev")};R.push(C.value?i.prev?i.prev({props:_}):u(ge,_,null):w("div",null,null));const h={icon:n.value?a.prevIcon:a.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:c.next,"aria-label":s("$vuetify.carousel.next")};return R.push(E.value?i.next?i.next({props:h}):u(ge,h,null):w("div",null,null)),R}),N=$(()=>a.touch===!1?a.touch:{...{left:()=>{f.value?F():U()},right:()=>{f.value?U():F()},start:_=>{let{originalEvent:h}=_;h.stopPropagation()}},...a.touch===!0?{}:a.touch});return me(()=>Yt(u(a.tag,{ref:m,class:ie(["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover","v-window--vertical-arrows":!!a.verticalArrows},o.value,a.class]),style:H(a.style)},{default:()=>[w("div",{class:"v-window__container",style:{height:d.value}},[i.default?.({group:c}),a.showArrows!==!1&&w("div",{class:ie(["v-window__controls",{"v-window__controls--left":a.verticalArrows==="left"||a.verticalArrows===!0},{"v-window__controls--right":a.verticalArrows==="right"}])},[ee.value])]),i.additional?.({group:c})]}),[[it,N.value]])),{group:c}}}),sa=de({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...we(),...qa(),...Da()},"VWindowItem"),Ft=ce()({name:"VWindowItem",directives:{vTouch:it},props:sa(),emits:{"group:selected":a=>!0},setup(a,l){let{slots:i}=l;const o=Xt(la),n=za(a,ia),{isBooted:s}=je();if(!o||!n)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const c=ve(!1),m=$(()=>s.value&&(o.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function f(){!c.value||!o||(c.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,o.transitionCount.value===0&&(o.transitionHeight.value=void 0)))}function v(){c.value||!o||(c.value=!0,o.transitionCount.value===0&&(o.transitionHeight.value=xe(o.rootRef.value?.clientHeight)),o.transitionCount.value+=1)}function T(){f()}function b(C){c.value&&Ke(()=>{!m.value||!c.value||!o||(o.transitionHeight.value=xe(C.clientHeight))})}const d=$(()=>{const C=o.isReversed.value?a.reverseTransition:a.transition;return m.value?{name:typeof C!="string"?o.transition.value:C,onBeforeEnter:v,onAfterEnter:f,onEnterCancelled:T,onBeforeLeave:v,onAfterLeave:f,onLeaveCancelled:T,onEnter:b}:!1}),{hasContent:I}=Fa(a,n.isSelected);return me(()=>u(Oa,{transition:d.value,disabled:!s.value},{default:()=>[Yt(w("div",{class:ie(["v-window-item",n.selectedClass.value,a.class]),style:H(a.style)},[I.value&&i.default?.()]),[[Ra,n.isSelected.value]])]})),{groupItem:n}}}),si=de({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...yt(),...we(),...vt(),...gt(),...mt(),...Ve({tag:"footer"}),...ze()},"VFooter"),ni=ce()({name:"VFooter",props:si(),setup(a,l){let{slots:i}=l;const o=M(),{themeClasses:n}=Ue(a),{backgroundColorClasses:s,backgroundColorStyles:c}=Me(()=>a.color),{borderClasses:m}=nt(a),{elevationClasses:f}=rt(a),{roundedClasses:v}=ct(a),T=ve(32),{resizeRef:b}=Wa(I=>{I.length&&(T.value=I[0].target.clientHeight)}),d=$(()=>a.height==="auto"?T.value:parseInt(a.height,10));return Se(()=>a.app,()=>{const I=ht({id:a.name,order:$(()=>parseInt(a.order,10)),position:X(()=>"bottom"),layoutSize:d,elementSize:$(()=>a.height==="auto"?void 0:d.value),active:X(()=>a.app),absolute:X(()=>a.absolute)});ot(()=>{o.value=I.layoutItemStyles.value})}),me(()=>u(a.tag,{ref:b,class:ie(["v-footer",n.value,s.value,m.value,f.value,v.value,a.class]),style:H([c.value,a.app?o.value:{height:xe(a.height)},a.style])},i)),{}}}),bt=Symbol.for("vuetify:v-tabs"),ri=de({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...pt(fl({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),qe=ce()({name:"VTab",props:ri(),setup(a,l){let{slots:i,attrs:o}=l;const{textColorClasses:n,textColorStyles:s}=Na(()=>a.sliderColor),c=M(),m=M(),f=$(()=>a.direction==="horizontal"),v=$(()=>c.value?.group?.isSelected.value??!1);function T(b){let{value:d}=b;if(d){const I=c.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),C=m.value;if(!I||!C)return;const E=getComputedStyle(I).color,F=I.getBoundingClientRect(),U=C.getBoundingClientRect(),ee=f.value?"x":"y",N=f.value?"X":"Y",R=f.value?"right":"bottom",_=f.value?"width":"height",h=F[ee],S=U[ee],x=h>S?F[R]-U[R]:F[ee]-U[ee],L=Math.sign(x)>0?f.value?"right":"bottom":Math.sign(x)<0?f.value?"left":"top":"center",A=(Math.abs(x)+(Math.sign(x)<0?F[_]:U[_]))/Math.max(F[_],U[_])||0,p=F[_]/U[_]||0,P=1.5;Ya(C,{backgroundColor:[E,"currentcolor"],transform:[`translate${N}(${x}px) scale${N}(${p})`,`translate${N}(${x/P}px) scale${N}(${(A-1)/P+1})`,"none"],transformOrigin:Array(3).fill(L)},{duration:225,easing:Xa})}}return me(()=>{const b=ge.filterProps(a);return u(ge,j({symbol:bt,ref:c,class:["v-tab",a.class],style:a.style,tabindex:v.value?0:-1,role:"tab","aria-selected":String(v.value),active:!1},b,o,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":T}),{...i,default:()=>w(W,null,[i.default?.()??a.text,!a.hideSlider&&w("div",{ref:m,class:ie(["v-tab__slider",n.value]),style:H(s.value)},null)])})}),Ha({},c)}}),ui=de({...pt(oa(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),ci=ce()({name:"VTabsWindow",props:ui(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:i}=l;const o=Xt(bt,null),n=Ge(a,"modelValue"),s=$({get(){return n.value!=null||!o?n.value:o.items.value.find(c=>o.selected.value.includes(c.id))?.value},set(c){n.value=c}});return me(()=>{const c=zt.filterProps(a);return u(zt,j({_as:"VTabsWindow"},c,{modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),i)}),{}}}),di=de({...sa()},"VTabsWindowItem"),mi=ce()({name:"VTabsWindowItem",props:di(),setup(a,l){let{slots:i}=l;return me(()=>{const o=Ft.filterProps(a);return u(Ft,j({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",a.class],style:a.style}),i)}),{}}});function vi(a){return a?a.map(l=>Ga(l)?l:{text:l,value:l}):[]}const yi=de({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ua({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Nt(),...Ve()},"VTabs"),fi=ce()({name:"VTabs",props:yi(),emits:{"update:modelValue":a=>!0},setup(a,l){let{attrs:i,slots:o}=l;const n=Ge(a,"modelValue"),s=$(()=>vi(a.items)),{densityClasses:c}=qt(a),{backgroundColorClasses:m,backgroundColorStyles:f}=Me(()=>a.bgColor),{scopeId:v}=Ot();return dt({VTab:{color:X(()=>a.color),direction:X(()=>a.direction),stacked:X(()=>a.stacked),fixed:X(()=>a.fixedTabs),sliderColor:X(()=>a.sliderColor),hideSlider:X(()=>a.hideSlider)}}),me(()=>{const T=kt.filterProps(a),b=!!(o.window||a.items.length>0);return w(W,null,[u(kt,j(T,{modelValue:n.value,"onUpdate:modelValue":d=>n.value=d,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},c.value,m.value,a.class],style:[{"--v-tabs-height":xe(a.height)},f.value,a.style],role:"tablist",symbol:bt},v,i),{default:()=>[o.default?.()??s.value.map(d=>o.tab?.({item:d})??u(qe,j(d,{key:d.text,value:d.value}),{default:o[`tab.${d.value}`]?()=>o[`tab.${d.value}`]?.({item:d}):void 0}))]}),b&&u(ci,j({modelValue:n.value,"onUpdate:modelValue":d=>n.value=d,key:"tabs-window"},v),{default:()=>[s.value.map(d=>o.item?.({item:d})??u(mi,{value:d.value},{default:()=>o[`item.${d.value}`]?.({item:d})})),o.window?.()]})])}),{}}}),pi=q({__name:"Icon",props:ja({variant:{},width:{},height:{},staticWidth:{},staticHeight:{},maxWidth:{},maxHeight:{},minWidth:{},minHeight:{},icon:{},color:{},disabled:{type:Boolean},size:{},badge:{type:Boolean},class:{},style:{}},jl),emits:["click"],setup(a,{emit:l}){const i=a,o=l,{iconProps:n,containerStyle:s,containerClasses:c,iconClasses:m}=Gl(i),f=M(),v=M(),T=async()=>{if(!(i.variant!=="responsive"||!f.value||!v.value)){await Ke();try{const d=f.value.offsetWidth,I=f.value.offsetHeight,C=Math.min(d,I);v.value.$el&&(v.value.$el.style.fontSize=`${C}px`)}catch(d){console.error("Icon sizing adjustment failed:",d)}}},b=d=>{if(i.disabled){d.preventDefault(),d.stopPropagation();return}o("click",d)};return Ae(()=>{i.variant==="responsive"&&(T(),window.addEventListener("resize",T))}),Le(()=>{i.variant==="responsive"&&window.removeEventListener("resize",T)}),(d,I)=>(r(),g("div",{ref_key:"iconContainer",ref:f,class:ie(e(c)),style:H(e(s)),onClick:b},[u(at,{"model-value":d.badge===!0,color:"error",dot:""},{default:y(()=>[u(e(le),j({ref_key:"iconElement",ref:v},e(n),{class:e(m)}),Ka({_:2},[se(d.$slots,(C,E)=>({name:E,fn:y(()=>[Za(d.$slots,E,{},void 0,!0)])}))]),1040,["class"])]),_:3},8,["model-value"])],6))}}),Pe=ue(pi,[["__scopeId","data-v-3db51b10"]]),na=q({__name:"RepeatBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,i)=>l.isVisible&&l.playerQueue?(r(),V(Pe,j({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Qe)(l.icon?.color,[[l.playerQueue.repeat_mode==e(re).OFF,null],[l.playerQueue.repeat_mode==e(re).ALL,"primary"],[l.playerQueue.repeat_mode==e(re).ONE,"primary"]]),icon:e(Qe)(l.icon?.icon,[[l.playerQueue.repeat_mode==e(re).OFF,"mdi-repeat-off"],[l.playerQueue.repeat_mode==e(re).ALL,"mdi-repeat"],[l.playerQueue.repeat_mode==e(re).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),variant:"button",onClick:i[0]||(i[0]=o=>e(B).queueCommandRepeat(l.playerQueue.queue_id||"",e(Qe)(null,[[l.playerQueue.repeat_mode==e(re).OFF,e(re).ONE],[l.playerQueue.repeat_mode==e(re).ALL,e(re).OFF],[l.playerQueue.repeat_mode==e(re).ONE,e(re).ALL]])))}),null,16,["disabled","color","icon"])):Q("",!0)}}),ra=q({__name:"NextBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,i=$(()=>l.playerQueue?.active?(l.playerQueue.current_index||0)<l.playerQueue.items-1:!1),o=$(()=>!l.player||l.playerQueue?.active||!l.player.current_media?!1:l.player.supported_features.includes(Te.NEXT_PREVIOUS));return(n,s)=>n.isVisible&&n.player?(r(),V(Pe,j({key:0},n.icon,{disabled:!i.value&&!o.value,icon:"mdi-skip-next-outline",variant:"button",onClick:s[0]||(s[0]=c=>e(B).playerCommandNext(n.player.player_id))}),null,16,["disabled"])):Q("",!0)}}),ua=q({__name:"PlayBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0},iconStyle:{default:"circle"}},setup(a){const l=a,i=$(()=>l.playerQueue?l.playerQueue.items>0:!1),o=$(()=>!(!l.player||l.playerQueue?.active||!l.player.current_media)),n=$(()=>l.player?.playback_state==et.PLAYING?"mdi-pause":"mdi-play");return(s,c)=>s.isVisible&&s.player?(r(),V(Pe,j({key:0},s.icon,{disabled:!i.value&&!o.value,icon:s.iconStyle?`${n.value}-${s.iconStyle}`:n.value,variant:"button",onClick:c[0]||(c[0]=m=>e(B).playerCommandPlayPause(s.player.player_id))}),null,16,["disabled","icon"])):Q("",!0)}}),ca=q({__name:"PreviousBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,i=$(()=>!l.playerQueue?.active||!l.playerQueue?.items||!l.playerQueue.current_index?!1:l.playerQueue.current_index>0),o=$(()=>!l.player||l.playerQueue?.active||!l.player.current_media?!1:l.player.supported_features.includes(Te.NEXT_PREVIOUS));return(n,s)=>n.isVisible&&n.player?(r(),V(Pe,j({key:0},n.icon,{disabled:!i.value&&!o.value,icon:"mdi-skip-previous-outline",variant:"button",onClick:s[0]||(s[0]=c=>e(B).playerCommandPrevious(n.player.player_id))}),null,16,["disabled"])):Q("",!0)}}),da=q({__name:"ShuffleBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,i)=>l.isVisible&&l.playerQueue?(r(),V(Pe,j({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Qe)(l.icon?.color,[[l.playerQueue.shuffle_enabled,"primary",""]]),icon:e(Qe)(l.icon?.icon,[[l.playerQueue.shuffle_enabled,"mdi-shuffle"],[l.playerQueue.shuffle_enabled==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),variant:"button",onClick:i[0]||(i[0]=o=>e(B).queueCommandShuffle(l.playerQueue.queue_id,!l.playerQueue.shuffle_enabled))}),null,16,["disabled","color","icon"])):Q("",!0)}}),hi={key:0,class:"player-controls"},gi={key:0,class:"player-controls-elements"},_i={key:1,class:"player-controls-elements"},bi={key:2},Ai={key:3,class:"player-controls-elements"},wi={key:4,class:"player-controls-elements"},Rt=q({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){return(l,i)=>l.visibleComponents?(r(),g("div",hi,[l.visibleComponents&&l.visibleComponents.shuffle?.isVisible?(r(),g("div",gi,[u(da,{"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["player-queue","icon"])])):Q("",!0),l.visibleComponents&&l.visibleComponents.previous?.isVisible?(r(),g("div",_i,[u(ca,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["player","player-queue","icon"])])):Q("",!0),l.visibleComponents&&l.visibleComponents.play?.isVisible?(r(),g("div",bi,[u(ua,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","icon-style":l.visibleComponents.play.withCircle?"circle":"",icon:l.visibleComponents.play.icon},null,8,["player","player-queue","icon-style","icon"])])):Q("",!0),l.visibleComponents&&l.visibleComponents.next?.isVisible?(r(),g("div",Ai,[u(ra,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["player","player-queue","icon"])])):Q("",!0),l.visibleComponents&&l.visibleComponents.repeat?.isVisible?(r(),g("div",wi,[u(na,{"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["player-queue","icon"])])):Q("",!0)])):Q("",!0)}}),ma=q({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(i,o)=>i.isVisible?(r(),V(Pe,j({key:0},i.icon,{disabled:!e(t).activePlayerId||e(t).showFullscreenPlayer&&!e(t).curQueueItem&&!e(t).showQueueItems,icon:"mdi-playlist-play",color:e(Qe)(i.icon?.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),variant:"button",onClick:l}),null,16,["disabled","color"])):Q("",!0)}}),va=q({__name:"SpeakerBtn",props:{color:{}},setup(a){return(l,i)=>(r(),V(pe,{variant:"icon",ripple:!1,icon:"",onClick:i[0]||(i[0]=o=>e(t).showPlayersMenu=!0)},{default:y(()=>[u(le,{color:l.color?l.color:"",size:24,icon:e(t).activePlayer?.group_members.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]),_:1}))}}),Pi={key:0},ki={key:0},Ci={class:"text-caption"},Ii={key:1},Qi=q({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const l=a,i=M(!1);return(o,n)=>l.isVisible&&e(t).activePlayer?(r(),g("div",Pi,[u(ft,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=s=>i.value=s),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:o.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:y(({props:s})=>[e(ae)("bp6")||!o.responsiveVolumeSize?(r(),g("div",ki,[u(_t,{style:"margin-right: 0px; margin-left: 0px;",width:o.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_members.length>0?Math.round(e(t).activePlayer?.group_volume||0):Math.round(e(t).activePlayer?.volume_level||0),"allow-wheel":!0,"onUpdate:modelValue":n[0]||(n[0]=c=>e(t).activePlayer.group_members.length>0?e(B).playerCommandGroupVolume(e(t).activePlayer?.player_id||"",c):e(B).playerCommandVolumeSet(e(t).activePlayer?.player_id||"",c))},{prepend:y(()=>[u(pe,j({variant:"icon",size:"48",ripple:!1},{...s}),{default:y(()=>[u(le,{color:l.color?o.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),w("div",Ci,k(e(t).activePlayer.group_members.length>0?Math.round(e(t).activePlayer?.group_volume||0):Math.round(e(t).activePlayer?.volume_level||0)),1)]),_:1},16)]),_:2},1032,["width","model-value"])])):(r(),g("div",Ii,[u(pe,j({...s},{size:"48",variant:"icon"}),{default:y(()=>[u(le,{color:l.color?o.color:"",icon:"mdi-volume-high"},null,8,["color"]),w("div",{class:"text-caption",style:H({color:l.color?o.color:""})},k(e(t).activePlayer.group_members.length>0?Math.round(e(t).activePlayer?.group_volume||0):Math.round(e(t).activePlayer?.volume_level||0)),5)]),_:1},16)]))]),default:y(()=>[u(He,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:y(()=>[e(t).activePlayer?(r(),V(pl,{key:0,player:e(t).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"show-heading-row":!0,"show-volume-control":!0,"allow-wheel":!0,style:{"margin-left":"18px"}},null,8,["player"])):Q("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):Q("",!0)}}),xi=ue(Qi,[["__scopeId","data-v-70c82677"]]),Vi=q({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(l,i)=>(r(),g(W,null,[l.player&&l.player.isVisible?(r(),V(va,{key:0,color:l.player.color},null,8,["color"])):Q("",!0),l.queue&&l.queue.isVisible?(r(),V(ma,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):Q("",!0),l.volume&&l.volume.isVisible?(r(),V(xi,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):Q("",!0)],64))}}),$i={style:{width:"auto"}},Si={key:0,style:{width:"100%"}},Ti=["onClick"],Bi={key:0,class:"time-text-row"},Ei={class:"text-caption time-text-right"},Mi=q({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1},color:{default:void 0}},setup(a){const l=M(!1),i=M(!0),o=M(!1),n=M(0),s=M(0),c=$(()=>t.curQueueItem?l.value?`-${Be(t.curQueueItem.duration-f.value)}`:`${Be(f.value)}`:"0:00"),m=$(()=>{if(!t.curQueueItem||!t.curQueueItem.duration||t.curQueueItem.media_item?.media_type==z.RADIO)return"";const I=t.curQueueItem.duration;return Be(I)}),f=$(()=>o.value?(s.value=n.value,n.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0),v=$(()=>{const I={};return t.curQueueItem?.media_item?.metadata?.chapters&&t.curQueueItem.media_item.metadata.chapters.forEach(C=>{I[C.start]=C.name}),I});J(f,I=>{o.value||(n.value=I)});const T=function(){o.value=!0},b=()=>{o.value=!1,!o.value&&t.activePlayer&&B.playerCommandSeek(t.activePlayer.player_id,Math.round(s.value))},d=function(I){if(t.curQueueItem?.media_item?.metadata?.chapters){for(const C of t.curQueueItem.media_item.metadata.chapters)if(C.start==I){B.playMedia(t.curQueueItem.media_item.uri,void 0,void 0,C.position.toString());return}}};return(I,C)=>(r(),g("div",$i,[e(t).activePlayerQueue?(r(),g("div",Si,[u(gl,{modelValue:n.value,"onUpdate:modelValue":C[0]||(C[0]=E=>n.value=E),disabled:!e(t).curQueueItem||!e(t).curQueueItem.media_item||!e(t).curQueueItem.duration||e(t).curQueueItem.media_item.media_type==e(z).RADIO||e(t).activePlayer?.powered==!1,style:{width:"100%"},min:0,max:e(t).curQueueItem?.duration,"hide-details":"","track-size":2,"thumb-size":i.value?0:10,"show-ticks":v.value?"always":!1,ticks:v.value,"tick-size":"4",color:I.color,onTouchstart:C[1]||(C[1]=E=>i.value=!1),onTouchend:C[2]||(C[2]=E=>i.value=!0),onMouseenter:C[3]||(C[3]=E=>i.value=!1),onMouseleave:C[4]||(C[4]=E=>i.value=!0),onStart:T,onEnd:b},{"tick-label":y(({tick:E})=>[I.showLabels&&!i.value&&Object.values(v.value).length<6?(r(),g("a",{key:0,class:"text-caption",onClick:F=>d(E.value)},k(E.label),9,Ti)):Q("",!0)]),_:1},8,["modelValue","disabled","max","thumb-size","show-ticks","ticks","color"]),I.showLabels?(r(),g("div",Bi,[w("div",{class:"text-caption time-text-left",onClick:C[5]||(C[5]=E=>l.value?l.value=!1:l.value=!0)},k(c.value),1),w("div",Ei,k(m.value),1)])):Q("",!0)])):Q("",!0)]))}}),ya=ue(Mi,[["__scopeId","data-v-5386447e"]]),Li={class:"lyrics-container"},zi={key:0,class:"lyrics-loading"},Fi={key:1,class:"lyrics-empty"},Ri={key:2,class:"lyrics-intro"},Oi={class:"song-title"},Di={class:"artist-name"},qi={class:"lyrics-coming-soon"},Wi=q({__name:"LyricsViewer",props:{mediaItem:{default:void 0},position:{default:void 0},duration:{default:void 0},streamDetails:{default:void 0},textColor:{default:"#FFFFFF"},debugMode:{type:Boolean,default:!1}},setup(a){Ut(_=>({"762ad436":_.textColor}));const l=a,i=(_,h=!0)=>{if(h&&!l.debugMode)return;(h?console.debug:console.log)(`[lyricSynch] ${_}`)},o=M([]),n=M(!1),s=M(-1),c=M(null),m=M(!1),f=M(0),v=M(0),T=$(()=>{if(!d.value||!o.value.length)return!1;const _=o.value[0].time,h=l.position||0;return s.value===-1&&h<_}),b=$(()=>{if(!l.mediaItem)return"";if("media_type"in l.mediaItem&&l.mediaItem.media_type==="track"){const _=l.mediaItem;if(_.artists?.length)return _.artists.map(h=>h.name).join(", ")}return"media_type"in l.mediaItem&&l.mediaItem.media_type==="artist"?l.mediaItem.name:""});$(()=>{const _=l.mediaItem?.metadata?.lyrics,h=l.mediaItem?.metadata?.lrc_lyrics;return!!_&&_.trim().length>0||!!h&&h.trim().length>0});const d=$(()=>l.mediaItem?.metadata?.lrc_lyrics?!0:!l.mediaItem?.metadata?.lrc_lyrics&&l.mediaItem?.metadata?.lyrics?!1:o.value.some(_=>_.time>0)),I=_=>{const h=_.match(/\[(\d+):(\d+)([.:]\d+)?\](.*)/);if(h){const S=parseInt(h[1]);let x=parseInt(h[2]),L=0;if(h[3]){const p=h[3].replace(/[.:]/,".");L=Math.round(parseFloat(p)*1e3)}return{time:(S*60*1e3+x*1e3+L)/1e3,text:h[4].trim()||" "}}return{time:0,text:_.trim()||" "}},C=()=>{if(!l.mediaItem){o.value=[];return}n.value=!0;try{const _=l.mediaItem.metadata?.lrc_lyrics||"",h=l.mediaItem.metadata?.lyrics||"";if(_){const S=_.split(`
`).filter(x=>x.trim());o.value=S.map(x=>I(x)).filter(x=>x.text).sort((x,L)=>x.time-L.time),i(`Loaded ${o.value.length} synchronized lyrics lines`,!1),i(`Processed synced lyrics: ${o.value.length} lines`)}else if(h){const S=h.split(`
`).filter(x=>x.trim());o.value=S.map(x=>({time:0,text:x.trim()||" "})).filter(x=>x.text),i(`Loaded ${o.value.length} plain text lyrics lines`,!1),i(`Processed plain lyrics: ${o.value.length} lines`)}else o.value=[]}catch(_){i(`Error processing lyrics: ${_}`,!1),o.value=[]}finally{n.value=!1}},E=_=>{const h=_;i(`Calculating look-ahead at ${_.toFixed(3)}s`);let S=-1,x=-1;for(let ne=0;ne<o.value.length;ne++)if(o.value[ne].time<=h)S=ne;else{x=ne;break}if(i(`Current lyric index: ${S}, Next lyric index: ${x}`),x===0){const fe=o.value[0].time-h;if(i(`Pre-lyrics intro: ${fe.toFixed(2)}s until first lyric`),fe>5){i("Long intro - using fixed look-ahead: 0.3s"),f.value=.3;return}else if(fe>2){const Y=Math.min(1,fe*.15);i(`Medium intro - calculated look-ahead: ${Y.toFixed(2)}s`),f.value=Y;return}i("Short intro - using standard calculation")}if(x===-1||S===-1){i("Cannot determine appropriate look-ahead, using default: 0.3s"),f.value=.3;return}const L=o.value[S].time,G=o.value[x].time,A=G-L,p=f.value;i(`Gap analysis:
    - Current lyric time: ${L.toFixed(3)}s
    - Next lyric time: ${G.toFixed(3)}s
    - Gap between lyrics: ${A.toFixed(3)}s
    - Previous look-ahead: ${p.toFixed(3)}s`);let P;A<.5?(P=.3,i(`Very rapid lyrics detected (${A.toFixed(2)}s gap) - using 30% look-ahead`)):A<.8?(P=.1,i(`Fast lyrics detected (${A.toFixed(2)}s gap) - using 10% look-ahead`)):A<1.5?(P=.2,i(`Medium lyrics detected (${A.toFixed(2)}s gap) - using 20% look-ahead`)):A<3?(P=.3,i(`Slower lyrics detected (${A.toFixed(2)}s gap) - using 30% look-ahead`)):A>10?(P=.02,i(`Very slow lyrics detected (${A.toFixed(2)}s gap) - using 2% look-ahead`)):(P=.4,i(`Slow lyrics detected (${A.toFixed(2)}s gap) - using 40% look-ahead`));const O=Math.min(1.5,A*P);i(`Target look-ahead: ${O.toFixed(3)}s`);const K=Math.abs(O-p),te=Math.min(.8,.3+K*.5),ye=p*(1-te)+O*te;i(`Smoothed look-ahead: ${ye.toFixed(3)}s (adaptation rate: ${(te*100).toFixed(0)}%)`),Math.abs(ye-p)>.3&&i(`Look-ahead adjusted: ${p.toFixed(2)}s  ${ye.toFixed(2)}s`,!1),f.value=ye},F=_=>_===void 0||!o.value.length||!d.value||m.value,U=_=>{const h=Math.round((_+f.value)*1e3);let S=-1;for(let x=0;x<o.value.length&&Math.round(o.value[x].time*1e3)<=h;x++)S=x;return S},ee=(_,h)=>{_<0||_===s.value||(i(`Lyric activated: "${o.value[_].text}"`),i(`Activating lyric at ${h.toFixed(2)}s (adjusted: ${(h+f.value).toFixed(2)}s):
    - Index: ${_}
    - Lyric time: ${o.value[_].time.toFixed(2)}s`),i(`Transition details:
    - Raw position: ${h.toFixed(3)}s
    - Dynamic look-ahead: ${f.value.toFixed(3)}s
    - Adjusted position: ${(h+f.value).toFixed(3)}s`),_>0&&N(_,h),v.value=h,s.value=_,Ke(()=>R()))},N=(_,h)=>{const S=h-v.value,x=o.value[_].time-o.value[_-1].time;i(`Timing analysis:
    - Expected gap: ${x.toFixed(3)}s
    - Actual gap: ${S.toFixed(3)}s
    - Difference: ${(S-x).toFixed(3)}s`)},R=()=>{const _=document.querySelector(".lyrics-line.active"),h=c.value;_&&h&&_.scrollIntoView({behavior:"smooth",block:"center"})};return J(()=>l.mediaItem?.item_id,()=>{C()},{immediate:!0}),J(()=>l.position,_=>{if(F(_))return;const h=_??0;E(h);const S=U(h);S!==s.value&&ee(S,h)}),Ae(()=>{const _=c.value;_&&_.addEventListener("scroll",()=>{m.value=!0,setTimeout(()=>{m.value=!1},8e3)},{passive:!0})}),(_,h)=>(r(),g("div",Li,[n.value?(r(),g("div",zi,[u(ea,{indeterminate:"",color:_.textColor},null,8,["color"]),w("div",null,k(e(Z)("loading_lyrics")),1)])):o.value.length?T.value&&d.value?(r(),g("div",Ri,[w("div",Oi,k(l.mediaItem?.name),1),w("div",Di,k(b.value),1),w("div",qi,k(e(Z)("lyrics_will_appear_soon")),1)])):(r(),g("div",{key:3,ref_key:"lyricsContainer",ref:c,class:ie(["lyrics-scroll-container",{"static-lyrics":!d.value}])},[(r(!0),g(W,null,se(o.value,(S,x)=>(r(),g("div",{key:x,class:ie(["lyrics-line",{active:s.value===x||!d.value}])},k(S.text),3))),128))],2)):(r(),g("div",Fi,k(e(Z)("no_lyrics_available")),1))]))}}),Ni=ue(Wi,[["__scopeId","data-v-73a4fec0"]]),Hi=["onClick"],Yi={class:"main"},Xi={key:0,class:"main-media-details"},Ui={key:0,class:"main-media-details-image"},Gi={class:"main-media-details-track-info"},ji={key:0},Ki={key:0},Zi={key:12,style:{margin:"auto","padding-top":"20px"}},Ji={key:1,class:"main-queue-items"},eo={class:"queue-items-scroll-box"},to={class:"media-thumb listitem-media-thumb"},ao={class:"title-row"},lo={class:"d-flex"},io={style:{"white-space":"nowrap"},class:"pr-1"},oo={key:0},so={key:0,style:{"margin-left":"50px"}},no={key:0,class:"text-caption"},ro={key:1,class:"lyrics-wrapper"},uo={key:2,class:"main-queue-items"},co={class:"main-media-details-image main-media-details-image-alt"},mo={class:"player-bottom"},vo={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},yo={class:"media-controls"},fo={key:0,class:"row",style:{"margin-left":"5%","margin-right":"5%"}},po={key:1,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},ho=q({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{name:l}=ut(),i=a,o=new lt,n=M(-1),s=new lt,c=M([]),m=M(0),f=M(!1),v=$(()=>t.activePlayerQueue?c.value.slice(t.activePlayerQueue.current_index):[]),T=$(()=>t.activePlayerQueue?c.value.slice(0,t.activePlayerQueue.current_index).reverse():[]),b=$(()=>{const A=t.curQueueItem?.media_item?.metadata?.lyrics,p=t.curQueueItem?.media_item?.metadata?.lrc_lyrics;return!!A&&A.trim().length>0||!!p&&p.trim().length>0}),d=$(()=>{switch(l.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),I=$(()=>{switch(l.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),C=$(()=>Ye.display.height.value>800),E=function(A){t.showFullscreenPlayer=!1,Ct.push({name:A.media_type,params:{itemId:A.item_id,provider:A.provider}})},F=function(A){t.globalSearchTerm=A,Ct.push({name:"search"}),t.showFullscreenPlayer=!1},U=function(A,p){const P=c.value.indexOf(p),O=[{label:"play_now",labelArgs:[],action:()=>{N(p,"play_now")},icon:"mdi-play-circle-outline",disabled:P===t.activePlayerQueue?.current_index||P===t.activePlayerQueue?.index_in_buffer},{label:"play_next",labelArgs:[],action:()=>{N(p,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:P<=(t.activePlayerQueue?.index_in_buffer||0)},{label:"queue_move_up",labelArgs:[],action:()=>{N(p,"up")},icon:"mdi-arrow-up",disabled:P<=(t.activePlayerQueue?.index_in_buffer||0)},{label:"queue_move_down",labelArgs:[],action:()=>{N(p,"down")},icon:"mdi-arrow-down",disabled:P<=(t.activePlayerQueue?.index_in_buffer||0)},{label:"queue_delete",labelArgs:[],action:()=>{N(p,"delete")},icon:"mdi-delete",disabled:P<=(t.activePlayerQueue?.index_in_buffer||0)}];p?.media_item?.media_type==z.TRACK&&O.push({label:"show_info",labelArgs:[],action:()=>{E(p.media_item)},icon:"mdi-information-outline",disabled:!1}),Ce.emit("contextmenu",{items:O,posX:A.clientX,posY:A.clientY})},ee=function(A){t.activePlayer&&Ce.emit("contextmenu",{items:hl(t.activePlayer,t.activePlayerQueue),posX:A.clientX,posY:A.clientY})},N=function(A,p){!A||!t.activePlayerQueue||(p=="play_now"?B.queueCommandPlayIndex(t.activePlayerQueue?.queue_id,A.queue_item_id):p=="move_next"?B.queueCommandMoveNext(t.activePlayerQueue?.queue_id,A.queue_item_id):p=="up"?B.queueCommandMoveUp(t.activePlayerQueue?.queue_id,A.queue_item_id):p=="down"?B.queueCommandMoveDown(t.activePlayerQueue?.queue_id,A.queue_item_id):p=="delete"&&B.queueCommandDelete(t.activePlayerQueue?.queue_id,A.queue_item_id))},R=async function(){f.value=!0,c.value=[],await It(100),f.value=!1},_=async function({done:A}){if(!t.activePlayerQueue||t.activePlayerQueue.items==0){A("empty");return}if(c.value.length>=t.activePlayerQueue?.items){A("empty");return}const p=c.value.length,P=(t.activePlayerQueue.current_index||0)+50,O=await B.getPlayerQueueItems(t.activePlayerQueue.queue_id,P,p);c.value.push(...O),O.length<50?A("empty"):A("ok")};Ae(()=>{const A=B.subscribe(Ja.QUEUE_ITEMS_UPDATED,p=>{p.object_id==t.activePlayerQueue?.queue_id&&(p.data,R())});Le(A)});const h=async function(A){if(!t.curQueueItem?.media_item)return;if(!t.curQueueItem.media_item.favorite){B.toggleFavorite(t.curQueueItem.media_item);return}let p=t.curQueueItem.media_item;(p.provider!="library"||!("provider_mappings"in p))&&[z.ALBUM,z.ARTIST,z.AUDIOBOOK,z.PLAYLIST,z.PODCAST,z.RADIO,z.TRACK].includes(p.media_type)&&(p=await B.getLibraryItem(p.media_type,p.item_id,p.provider)||p);const P=[];"favorite"in p&&p.favorite&&p.provider=="library"&&[z.ALBUM,z.ARTIST,z.AUDIOBOOK,z.PLAYLIST,z.PODCAST,z.RADIO,z.TRACK].includes(p.media_type)&&P.push({label:"favorites_remove",labelArgs:[],action:()=>{B.removeItemFromFavorites(p.media_type,p.item_id),p.favorite=!1,t.curQueueItem.media_item.favorite=!1},icon:"mdi-heart"}),[z.ALBUM,z.ARTIST,z.AUDIOBOOK,z.PLAYLIST,z.PODCAST,z.RADIO,z.TRACK].includes(p.media_type)&&P.push({label:"add_playlist",labelArgs:[],action:()=>{Ce.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}),Ce.emit("contextmenu",{items:P,posX:A.clientX,posY:A.clientY})},S=function(){f.value=!0,It(100).then(()=>{f.value=!1})},x=function(A,p){B.playMedia(A.uri,el.PLAY,void 0,p.position.toString())};J(()=>t.activePlayerId,A=>{R()},{immediate:!0});const L=M(void 0),G=M(void 0);return ot(()=>{const A=Fe("white"),p=Fe("black"),P=5,O=.05,K=Ye.theme.current.value.dark?i.colorPalette.darkColor||"#000":i.colorPalette.lightColor||"#fff";let te=Fe(K);const ye=A.contrast(te),ne=p.contrast(te),fe=ye>=ne;let Y=fe?A:p,Ze=Math.max(ye,ne);if(Ze<P){let At=O;for(;Ze<P&&At<=.5;)fe?te=te.darken(O):te=te.lighten(O),Ze=Fe(Y).contrast(te),At+=O}document.documentElement.style.setProperty("--text-color",Y.hex()),L.value=Y.hex(),G.value=te.hex()}),(A,p)=>(r(),V(Jt,{modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":p[13]||(p[13]=P=>e(t).showFullscreenPlayer=P),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:y(()=>[u(He,{color:G.value},{default:y(()=>[u(Al,{class:"v-toolbar-default",color:"transparent"},{prepend:y(()=>[u(pe,{icon:"",onClick:p[0]||(p[0]=P=>e(t).showFullscreenPlayer=!1)},{default:y(()=>[u(le,{icon:"mdi-chevron-down"})]),_:1})]),append:y(()=>[e(t).activePlayerQueue?.radio_source.length?(r(),V(ft,{key:0,scrim:""},{activator:y(({props:P})=>[u(pe,j(P,{icon:""}),{default:y(()=>[u(le,{color:"accent",icon:"mdi-radio-tower"})]),_:1},16)]),default:y(()=>[u(He,{title:e(Z)("queue_radio_enabled"),subtitle:e(Z)("queue_radio_based_on")},{text:y(()=>[(r(!0),g(W,null,se(e(t).activePlayerQueue?.radio_source,P=>(r(),g("div",{key:P.uri},[w("a",{onClick:O=>E(P)},k(P.name),9,Hi)]))),128))]),_:1},8,["title","subtitle"])]),_:1})):Q("",!0),C.value?Q("",!0):(r(),V(va,{key:1})),u(pe,{icon:"",onClick:Re(ee,["stop"])},{default:y(()=>[u(le,{icon:"mdi-dots-vertical"})]),_:1})]),_:1}),w("div",Yi,[e(ae)("bp7")||!e(t).showQueueItems?(r(),g("div",Xi,[A.$vuetify.display.height>600?(r(),g("div",Ui,[e(t).activePlayer?.powered!=!1&&e(t).curQueueItem?(r(),V(Ee,{key:0,item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"},fallback:A.$vuetify.theme.current.dark?e(Xe):e(tt)},null,8,["item","fallback"])):e(t).activePlayer?.powered!=!1&&!e(t).curQueueItem?.image&&e(t).activePlayer?.current_media?.image_url?(r(),V(We,{key:1,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(t).activePlayer.current_media.image_url},null,8,["src"])):(r(),V(We,{key:2,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:A.$vuetify.theme.current.dark?e(Xe):e(tt)},null,8,["src"]))])):Q("",!0),w("div",Gi,[e(t).activePlayer?.powered==!1?(r(),V($e,{key:0,style:H(`font-size: ${d.value};`)},{default:y(()=>[D(k(e(t).activePlayer?.name),1)]),_:1},8,["style"])):e(t).curQueueItem?.media_item?(r(),V($e,{key:1,style:H(`font-size: ${d.value};cursor:pointer;`),onClick:p[1]||(p[1]=P=>E(e(t).curQueueItem.media_item))},{default:y(()=>[u(oe,{sync:e(o)},{default:y(()=>[D(k(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(r(),g("span",ji,"("+k(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)]),_:1},8,["sync"])]),_:1},8,["style"])):!e(t).activePlayerQueue&&e(t).activePlayer?.current_media?.title?(r(),V($e,{key:2},{default:y(()=>[e(t).activePlayer?.current_media?.artist?(r(),g("div",Ki,[u(oe,{sync:e(o)},{default:y(()=>[D(k(e(t).activePlayer?.current_media?.artist),1)]),_:1},8,["sync"])])):Q("",!0),e(t).activePlayer?.current_media?.title?(r(),g("div",{key:1,style:H(`font-size: ${I.value};`)},[u(oe,{sync:e(o)},{default:y(()=>[D(k(e(t).activePlayer?.current_media?.title),1)]),_:1},8,["sync"])],4)):Q("",!0)]),_:1})):(r(),V($e,{key:3,style:H(`font-size: ${d.value};cursor:pointer;`),onClick:p[2]||(p[2]=P=>e(t).showPlayersMenu=!0)},{default:y(()=>[u(oe,{sync:e(o)},{default:y(()=>[D(k(e(t).activePlayer?.name||e(Z)("no_player")),1)]),_:1},8,["sync"])]),_:1},8,["style"])),e(t).activePlayer?.powered==!1?(r(),V(he,{key:4,class:"text-h6 text-md-h5 text-lg-h4"},{default:y(()=>[D(k(e(Z)("off")),1)]),_:1})):Q("",!0),e(t).curQueueItem?.streamdetails?.stream_metadata&&e(t).curQueueItem?.streamdetails?.stream_metadata.title&&e(t).curQueueItem?.streamdetails?.stream_metadata.artist?(r(),V(he,{key:5,class:"text-h6 text-md-h5 text-lg-h4",onClick:p[3]||(p[3]=P=>F(`${e(t).curQueueItem?.streamdetails?.stream_metadata.artist} - ${e(t).curQueueItem?.streamdetails?.stream_metadata.title}`))},{default:y(()=>[u(oe,{sync:e(o)},{default:y(()=>[D(k(e(t).curQueueItem?.streamdetails?.stream_metadata.artist)+" - "+k(e(t).curQueueItem?.streamdetails?.stream_metadata.title),1)]),_:1},8,["sync"])]),_:1})):Q("",!0),e(t).curQueueItem?.streamdetails?.stream_metadata&&e(t).curQueueItem?.streamdetails?.stream_metadata.title?(r(),V(he,{key:6,class:"text-h6 text-md-h5 text-lg-h4",onClick:p[4]||(p[4]=P=>F(e(t).curQueueItem?.streamdetails?.stream_metadata.title))},{default:y(()=>[u(oe,{sync:e(o)},{default:y(()=>[D(k(e(t).curQueueItem?.streamdetails?.stream_metadata.title),1)]),_:1},8,["sync"])]),_:1})):Q("",!0),e(t).curQueueItem?.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&e(t).activePlayer?.powered!=!1?(r(),V(he,{key:7,style:H(`font-size: ${I.value};cursor:pointer;`),onClick:p[5]||(p[5]=P=>E(e(t).curQueueItem.media_item.album))},{default:y(()=>[u(oe,{sync:e(o)},{default:y(()=>[D(k(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):Q("",!0),e(t).curQueueItem?.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length&&e(t).activePlayer?.powered!=!1?(r(),V(he,{key:8,style:H(`font-size: ${I.value};cursor:pointer;`),onClick:p[6]||(p[6]=P=>E(e(t).curQueueItem.media_item.artists[0]))},{default:y(()=>[u(oe,{sync:e(o)},{default:y(()=>[D(k(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):Q("",!0),e(t).curQueueItem?.media_item&&"podcast"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.podcast?(r(),V(he,{key:9,style:H(`font-size: ${I.value};`)},{default:y(()=>[u(oe,{sync:e(o)},{default:y(()=>[D(k(e(t).curQueueItem.media_item.podcast.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):e(t).activePlayer&&e(t).activePlayer?.active_source!=e(t).activePlayer?.player_id&&e(t).activePlayer?.powered!=!1?(r(),V(he,{key:10},{default:y(()=>[D(k(e(Z)("external_source_active",[e(Gt)(e(t).activePlayer)])),1)]),_:1})):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0&&e(t).activePlayer?.powered!=!1?(r(),V(he,{key:11,style:H(`font-size: ${I.value}`)},{default:y(()=>[D(k(e(Z)("queue_empty")),1)]),_:1},8,["style"])):Q("",!0),e(t).activePlayer?.powered!=!1?(r(),g("div",Zi,[u(jt)])):Q("",!0)])])):Q("",!0),e(t).showQueueItems?(r(),g("div",Ji,[u(fi,{modelValue:m.value,"onUpdate:modelValue":p[7]||(p[7]=P=>m.value=P),"hide-slider":"",density:"compact",onClick:S},{default:y(()=>[u(qe,{value:0},{default:y(()=>[D(k(e(Z)("queue"))+" ",1),u(at,{color:"grey",content:(e(t).activePlayerQueue?.items||0)-(e(t).activePlayerQueue?.current_index||0),inline:""},null,8,["content"])]),_:1}),u(qe,{value:1},{default:y(()=>[D(k(e(Z)("played"))+" ",1),u(at,{color:"grey",content:e(t).activePlayerQueue?.current_index,inline:""},null,8,["content"])]),_:1}),b.value?(r(),V(qe,{key:0,value:2},{default:y(()=>[D(k(e(Z)("lyrics")),1)]),_:1})):Q("",!0)]),_:1},8,["modelValue"]),w("div",eo,[!f.value&&m.value!==2?(r(),V(vl,{key:0,onLoad:_,"empty-text":"",height:"100%"},{default:y(()=>[u(wl,{"item-height":70,"max-height":"90%",items:m.value==0?v.value:T.value},{default:y(({item:P,index:O})=>[u(_l,{link:"","show-menu-btn":!0,disabled:!P.available,onClick:Re(K=>U(K,P),["stop"]),onMenu:Re(K=>U(K,P),["stop"]),onMouseenter:K=>n.value=O,onMouseleave:p[8]||(p[8]=K=>n.value=-1)},{prepend:y(()=>[w("div",to,[u(Ee,{size:"50",item:P},null,8,["item"])])]),title:y(()=>[w("div",ao,[u(oe,{sync:O==0&&m.value==0?e(o):e(s),disabled:!(O==0&&m.value==0||n.value==O)},{default:y(()=>[w("span",{class:ie({"is-playing":P.queue_item_id===e(t).curQueueItem?.queue_item_id})},k(P.name),3)]),_:2},1032,["sync","disabled"])])]),subtitle:y(()=>[w("div",lo,[w("span",io,k(e(Be)(P.duration))+" | ",1),u(oe,{sync:O==0&&m.value==0?e(o):e(s),disabled:!(O==0&&m.value==0||n.value==O)},{default:y(()=>[P.media_item&&"album"in P.media_item&&P.media_item.album?(r(),g("span",oo,k(P.media_item.album.name),1)):Q("",!0)]),_:2},1032,["sync","disabled"])])]),append:y(()=>[P.queue_item_id===e(t).curQueueItem?.queue_item_id?(r(),V(bl,{key:0})):Q("",!0),P.available?Q("",!0):(r(),V(le,{key:1},{default:y(()=>[...p[14]||(p[14]=[D("mdi-alert",-1)])]),_:1}))]),_:2},1032,["disabled","onClick","onMenu","onMouseenter"]),P.queue_item_id==e(t).curQueueItem?.queue_item_id&&P.media_item?.metadata?.chapters?.length?(r(),g("div",so,[(r(!0),g(W,null,se(P.media_item.metadata?.chapters,K=>(r(),V(be,{key:K.position,onClick:Re(te=>x(P.media_item,K),["stop"])},{title:y(()=>[w("div",null,k(K.name),1)]),append:y(()=>[K.end?(r(),g("span",no,k(e(Be)(K.end-K.start)),1)):Q("",!0)]),_:2},1032,["onClick"]))),128))])):Q("",!0)]),_:1},8,["items"])]),_:1})):Q("",!0),m.value===2?(r(),g("div",ro,[u(Ni,{"media-item":e(t).curQueueItem?.media_item,position:e(t).activePlayerQueue?.elapsed_time,duration:e(t).curQueueItem?.duration,"stream-details":e(t).curQueueItem?.streamdetails,"text-color":L.value},null,8,["media-item","position","duration","stream-details","text-color"])])):Q("",!0)])])):Q("",!0),!e(t).showQueueItems&&A.$vuetify.display.height<=600?(r(),g("div",uo,[w("div",co,[u(Ee,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):Q("",!0)]),w("div",mo,[w("div",vo,[u(ya,{"show-labels":!0,color:L.value},null,8,["color"])]),w("div",yo,[e(t).activePlayerQueue?(r(),V(Pe,{key:0,disabled:!e(t).curQueueItem?.media_item,icon:e(t).curQueueItem?.media_item?.favorite?"mdi-heart":"mdi-heart-outline",title:e(Z)("tooltip.favorite"),variant:"button",class:"media-controls-item","max-height":"30px",onClick:h},null,8,["disabled","icon","title"])):Q("",!0),A.$vuetify.display.mdAndUp?(r(),V(da,{key:1,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"30px"},null,8,["player-queue"])):Q("",!0),u(ca,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),u(ua,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"70px"},null,8,["player","player-queue"]),u(ra,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),A.$vuetify.display.mdAndUp?(r(),V(na,{key:2,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"35px"},null,8,["player-queue"])):Q("",!0),e(t).activePlayerQueue?(r(),V(ma,{key:3,class:"media-controls-item","max-height":"30px"})):Q("",!0)]),e(t).activePlayer?(r(),g("div",fo,[u(_t,{width:"100%","is-powered":e(t).activePlayer?.powered!=!1,disabled:!e(t).activePlayer||!e(t).activePlayer?.available,"model-value":Math.round(e(t).activePlayer?.group_volume||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus",color:L.value,"allow-wheel":!0,"onUpdate:modelValue":p[9]||(p[9]=P=>e(t).activePlayer.group_members.length>0?e(B).playerCommandGroupVolume(e(t).activePlayerId,P):e(B).playerCommandVolumeSet(e(t).activePlayerId,P)),"onClick:prepend":p[10]||(p[10]=P=>e(t).activePlayer.group_members.length>0?e(B).playerCommandGroupVolumeDown(e(t).activePlayerId):e(B).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":p[11]||(p[11]=P=>e(t).activePlayer.group_members.length>0?e(B).playerCommandGroupVolumeUp(e(t).activePlayerId):e(B).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value","color"])])):Q("",!0),C.value?(r(),g("div",po,[u(ge,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:p[12]||(p[12]=P=>e(t).showPlayersMenu=!0)},{default:y(()=>[u(le,{icon:e(t).activePlayer?.icon||"mdi-speaker"},null,8,["icon"]),D(" "+k(e(t).activePlayer?e(Kt)(e(t).activePlayer):""),1)]),_:1})])):Q("",!0)])]),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),go=ue(ho,[["__scopeId","data-v-753a03fa"]]),_o={key:1},bo={key:2,class:"icon-thumb"},Ao={key:0},wo={key:2},Po={key:3},ko={key:4},Co={key:0,class:"pl-4"},Io={key:0},Qo={key:1},xo={key:2},Vo={key:3},$o={key:4},So={key:5},To={key:6,class:"line-clamp-1"},Bo={key:7},Eo={key:8,class:"line-clamp-1"},Mo={key:9,class:"line-clamp-1"},Lo={key:0},zo=q({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const l=new lt,i=a,o=$(()=>t.activePlayerQueue?.current_item?.streamdetails);return(n,s)=>(r(),g(W,null,[u(be,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:y(()=>[w("div",{class:"media-thumb player-media-thumb",style:H(`cursor: pointer;height: ${e(ae)({breakpoint:"phone"})?50:64}px; width: ${e(ae)({breakpoint:"phone"})?50:64}px; `),onClick:s[0]||(s[0]=c=>e(t).showFullscreenPlayer=!0)},[e(t).activePlayer?.powered!=!1&&e(t).curQueueItem?(r(),V(Ee,{key:0,item:e(t).curQueueItem,fallback:e(Xe)},null,8,["item","fallback"])):e(t).activePlayer?.powered!=!1&&e(t).activePlayer?.current_media?.image_url?(r(),g("div",_o,[u(We,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(t).activePlayer.current_media.image_url},null,8,["src"])])):(r(),g("div",bo,[u(le,{size:"35",icon:e(t).activePlayer?.type==e(De).PLAYER&&e(t).activePlayer?.group_members.length?"mdi-speaker-multiple":e(t).activePlayer?.icon||"mdi-speaker",style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))],4)]),title:y(()=>[w("div",{style:H({cursor:"pointer",color:n.primaryColor})},[e(t).activePlayer?.powered==!1?(r(),g("div",{key:0,onClick:s[1]||(s[1]=c=>e(t).showPlayersMenu=!0)},k(e(t).activePlayer?.name),1)):e(t).curQueueItem?.media_item?(r(),g("div",{key:1,onClick:s[2]||(s[2]=c=>e(t).showFullscreenPlayer=!0)},[u(oe,{sync:e(l)},{default:y(()=>[D(k(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(r(),g("span",Ao,"("+k(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)]),_:1},8,["sync"])])):e(t).curQueueItem?(r(),g("div",wo,k(e(t).curQueueItem.name),1)):!e(t).activePlayerQueue&&e(t).activePlayer?.current_media?.title?(r(),g("div",Po,k(e(t).activePlayer.current_media.title),1)):e(t).activePlayer?(r(),g("div",ko,k(e(t).activePlayer?.name),1)):(r(),g("div",{key:5,onClick:s[3]||(s[3]=c=>e(t).showPlayersMenu=!0)},k(n.$t("no_player")),1))],4)]),append:y(()=>[o.value?.audio_format.content_type&&!e(ae)({breakpoint:"phone"})&&n.showQualityDetailsBtn?(r(),g("div",Co,[u(jt)])):Q("",!0)]),subtitle:y(()=>[w("div",{style:H({cursor:"pointer",color:n.primaryColor}),class:"line-clamp-1",onClick:s[4]||(s[4]=c=>e(t).showFullscreenPlayer=!0)},[u(oe,{sync:e(l)},{default:y(()=>[e(t).activePlayer?.powered==!1?(r(),g("div",Io,k(n.$t("off")),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item?.media_type==e(z).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!i.showOnlyArtist?(r(),g("div",Qo,k(e(tl)(e(t).curQueueItem.media_item.artists))+"  "+k(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem?.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(r(),g("div",xo,k(e(t).curQueueItem.media_item.artists[0].name),1)):e(t).curQueueItem?.media_item&&"podcast"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.podcast?.name?(r(),g("div",Vo,k(e(t).curQueueItem.media_item.podcast.name),1)):e(t).curQueueItem?.streamdetails?.stream_metadata&&e(t).curQueueItem?.streamdetails?.stream_metadata.title&&e(t).curQueueItem?.streamdetails?.stream_metadata.artist?(r(),g("div",$o,k(e(t).curQueueItem?.streamdetails?.stream_metadata.artist)+" - "+k(e(t).curQueueItem?.streamdetails?.stream_metadata.title),1)):e(t).curQueueItem?.streamdetails?.stream_metadata&&e(t).curQueueItem?.streamdetails?.stream_metadata.title?(r(),g("div",So,k(e(t).curQueueItem?.streamdetails?.stream_metadata.title),1)):e(t).curQueueItem?.media_item?.metadata.description?(r(),g("div",To,k(e(al)(e(t).curQueueItem.media_item.metadata.description,100)),1)):!e(t).activePlayerQueue&&e(t).activePlayer?.active_source&&e(t).activePlayer?.current_media?.artist?(r(),g("div",Bo,k(e(t).activePlayer.current_media.artist),1)):!e(t).activePlayerQueue&&e(t).activePlayer?.active_source?(r(),g("div",Eo,k(n.$t("external_source_active",[e(Gt)(e(t).activePlayer)])),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(r(),g("div",Mo,k(n.$t("queue_empty")),1)):Q("",!0)]),_:1},8,["sync"]),e(t).activePlayer&&e(t).activePlayer?.powered!=!1?(r(),g("div",Lo,k(e(Kt)(e(t).activePlayer)),1)):Q("",!0)],4)]),_:1}),u(go,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":n.colorPalette},null,8,["show-fullscreen","color-palette"])],64))}}),Fo=["data-floating"],Ro=["data-mobile"],Oo={class:"mediacontrols-left"},Do={class:"mediacontrols-bottom-center"},qo={class:"mediacontrols-bottom-right"},Wo={key:0,class:"volume-slider"},No=q({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){Ut(s=>({"692f32e8":n.value})),Dt();const{mobile:l}=ut({mobileBreakpoint:576}),i=M({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),o=new Image;o.src=Ye.theme.current.value.dark?Xe:tt,o.crossOrigin="Anonymous",o.addEventListener("load",function(){i.value=ll(o)});const n=$(()=>Ye.theme.current.value.dark?i.value&&i.value.darkColor?i.value.darkColor+"26":"CCCCCC26":i.value&&i.value.lightColor?i.value.lightColor+"26":"CCCCCC26");return J(()=>t.curQueueItem?.queue_item_id,()=>{t.curQueueItem?.media_item?o.src=xt(t.curQueueItem.media_item,Vt.THUMB)||"":t.curQueueItem?o.src=xt(t.curQueueItem,Vt.THUMB)||"":o.src=""}),(s,c)=>(r(),g(W,null,[w("div",{class:"mediacontrols-bg","data-floating":s.useFloatingPlayer},null,8,Fo),w("div",{class:"mediacontrols","data-mobile":e(l)},[w("div",Oo,[u(zo,{"show-quality-details-btn":!!e(ae)("bp8"),"show-only-artist":!e(ae)("bp7"),"color-palette":i.value,"primary-color":s.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),w("div",Do,[u(Rt,{"visible-components":{repeat:{isVisible:e(ae)("bp3")},shuffle:{isVisible:e(ae)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"},withCircle:s.useFloatingPlayer},previous:{isVisible:e(ae)("bp3")},next:{isVisible:e(ae)("bp3")}}},null,8,["visible-components"]),e(ae)("bp6")?(r(),V(ya,{key:0,"is-progress-bar":!1,disabled:!e(t).activePlayerQueue?.active||e(t).activePlayerQueue?.current_item?.media_item?.media_type!==e(z).TRACK},null,8,["disabled"])):Q("",!0)]),w("div",qo,[w("div",null,[u(Vi,{queue:{isVisible:e(ae)("bp3"),color:s.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:s.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(l)&&(e(t).activePlayer?.volume_control!=e(Qt)||e(t).activePlayer?.group_members.length>0),color:s.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),u(Rt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(ae)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:s.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,Ro),e(l)&&(e(t).activePlayer?.volume_control!=e(Qt)||e(t).activePlayer?.group_members.length>0)?(r(),g("div",Wo,[u(_t,{width:"100%",color:"secondary","is-powered":e(t).activePlayer?.powered!=!1,disabled:!e(t).activePlayer||!e(t).activePlayer?.available,"model-value":Math.round(e(t).activePlayer?.group_volume||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":c[0]||(c[0]=m=>e(t).activePlayer.group_members.length>0?e(B).playerCommandGroupVolume(e(t).activePlayerId,m):e(B).playerCommandVolumeSet(e(t).activePlayerId,m)),"onClick:prepend":c[1]||(c[1]=m=>e(t).activePlayer.group_members.length>0?e(B).playerCommandGroupVolumeDown(e(t).activePlayerId):e(B).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":c[2]||(c[2]=m=>e(t).activePlayer.group_members.length>0?e(B).playerCommandGroupVolumeUp(e(t).activePlayerId):e(B).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value"])])):Q("",!0)],64))}}),Ho=ue(No,[["__scopeId","data-v-910c83d5"]]),Yo=q({__name:"Footer",setup(a){const l=$(()=>t.navigationMenuStyle=="horizontal"),i=$(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),o=$(()=>l.value?i.value+5:0);return(n,s)=>(r(),g(W,null,[l.value?(r(),g("div",{key:0,class:ie(n.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:H(`
      position: fixed;
      width: 100%;
      height: ${i.value+(e(ae)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):Q("",!0),e(t).navigationMenuStyle=="horizontal"?(r(),V(Ul,{key:1,height:i.value},null,8,["height"])):Q("",!0),u(ni,{bottom:"",fixed:"",class:ie(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:H(`bottom: ${o.value}px;`),elevation:"10",app:""},{default:y(()=>[u(Ho,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),Xo={style:{float:"right","margin-right":"-20px"}},Uo=q({__name:"PlayerSelect",setup(a){const l=M(!1),i=M(null),o=$(()=>Object.values(B.players).filter(m=>$t(m)).filter(m=>m.player_id!==_e.player_id).sort((m,f)=>m.name.toUpperCase()>f.name?.toUpperCase()?1:-1));J(()=>t.activePlayerId,m=>{m&&localStorage.setItem("mass.LastPlayerId",m)}),J(()=>B.players,m=>{m&&!t.activePlayer&&s()},{deep:!0}),J(()=>B.state,m=>{m.value!=ol.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});function n(m,f=!1){t.activePlayerId==m.player_id?l.value=!l.value:(l.value=!1,t.activePlayerId=m.player_id),f&&(t.showPlayersMenu=!1)}Ae(()=>{s()});const s=function(){if(t.activePlayer&&$t(t.activePlayer))return;const m=c();m&&(t.activePlayerId=m)},c=function(){const m=localStorage.getItem("mass.LastPlayerId");if(m&&m in B.players&&B.players[m].available)return m};return(m,f)=>(r(),g(W,null,[u(Zt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":f[0]||(f[0]=v=>e(t).showPlayersMenu=v)},null,8,["modelValue"]),e(t).showPlayersMenu?(r(),V(ta,{key:0,modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":f[4]||(f[4]=v=>e(t).showPlayersMenu=v),location:"right",app:"",clipped:"",temporary:"",width:460,style:{"z-index":"99999"},"z-index":"99999"},{default:y(()=>[w("div",null,[u($e,{class:"title",style:{"padding-top":"20px","padding-bottom":"20px"}},{default:y(()=>[w("b",null,k(m.$t("players")),1),w("div",Xo,[u(pe,{variant:"icon",to:{name:"playersettings"}},{default:y(()=>[u(le,{size:"30"},{default:y(()=>[...f[5]||(f[5]=[D("mdi-cog-outline",-1)])]),_:1})]),_:1}),u(pe,{variant:"icon",onClick:f[1]||(f[1]=v=>e(t).showPlayersMenu=!1)},{default:y(()=>[u(le,{size:"30"},{default:y(()=>[...f[6]||(f[6]=[D("mdi-window-close",-1)])]),_:1})]),_:1})])]),_:1}),u(Ne),u(Ie,{flat:"",style:{margin:"0px 15px 5px 15px"}},{default:y(()=>[e(_e).mode===e(il).BUILTIN&&e(_e).player_id&&e(B).players[e(_e).player_id]?(r(),V(Oe,{key:0,id:e(_e).player_id,player:e(B).players[e(_e).player_id],"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":!1,"show-sync-controls":!1,"allow-power-control":!0,onClick:f[2]||(f[2]=v=>n(e(B).players[e(_e).player_id]))},null,8,["id","player"])):Q("",!0),(r(!0),g(W,null,se(o.value.filter(v=>[e(et).PLAYING,e(et).PAUSED].includes(v.playback_state)||e(B).queues[v.player_id]?.items>0&&v.powered!=!1),v=>(r(),V(Oe,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(Te).SET_MEMBERS),"allow-power-control":!0,onClick:T=>n(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),u(Pl,{modelValue:i.value,"onUpdate:modelValue":f[3]||(f[3]=v=>i.value=v),variant:"accordion",flat:"",class:"expansion"},{default:y(()=>[u(St,{style:{padding:"0"}},{default:y(()=>[u(Tt,null,{default:y(()=>[w("h3",null,k(m.$t("all_players")),1)]),_:1}),u(Bt,{style:{padding:"0"}},{default:y(()=>[u(Ie,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:y(()=>[(r(!0),g(W,null,se(o.value.filter(v=>v.type!=e(De).GROUP),v=>(r(),V(Oe,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(Te).SET_MEMBERS),"allow-power-control":!0,onClick:T=>n(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1}),o.value.filter(v=>v.type==e(De).GROUP).length?(r(),V(St,{key:0,style:{padding:"0"}},{default:y(()=>[u(Tt,null,{default:y(()=>[w("h3",null,k(m.$t("all_groups")),1)]),_:1}),u(Bt,{style:{padding:"0"}},{default:y(()=>[u(Ie,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:y(()=>[(r(!0),g(W,null,se(o.value.filter(v=>v.type==e(De).GROUP),v=>(r(),V(Oe,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(Te).SET_MEMBERS),"allow-power-control":!0,onClick:T=>n(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1})):Q("",!0)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])):Q("",!0)],64))}}),Go=ue(Uo,[["__scopeId","data-v-2ed448d7"]]);function jo(a={}){const{immediate:l=!1,onNeedRefresh:i,onOfflineReady:o,onRegistered:n,onRegisteredSW:s,onRegisterError:c}=a;let m,f,v;const T=async(d=!0)=>{await f,v?.()};async function b(){if("serviceWorker"in navigator){if(m=await sl(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[],import.meta.url).then(({Workbox:d})=>new d("./sw.js",{scope:"./",type:"classic"})).catch(d=>{c?.(d)}),!m)return;v=()=>{m?.messageSkipWaiting()};{let d=!1;const I=()=>{d=!0,m?.addEventListener("controlling",C=>{C.isUpdate&&window.location.reload()}),i?.()};m.addEventListener("installed",C=>{typeof C.isUpdate>"u"?typeof C.isExternal<"u"&&C.isExternal?I():!d&&o?.():C.isUpdate||o?.()}),m.addEventListener("waiting",I)}m.register({immediate:l}).then(d=>{s?s("./sw.js",d):n?.(d)}).catch(d=>{c?.(d)})}}return f=b(),T}function Ko(a={}){const{immediate:l=!0,onNeedRefresh:i,onOfflineReady:o,onRegistered:n,onRegisteredSW:s,onRegisterError:c}=a,m=M(!1),f=M(!1);return{updateServiceWorker:jo({immediate:l,onNeedRefresh(){m.value=!0,i?.()},onOfflineReady(){f.value=!0,o?.()},onRegistered:n,onRegisteredSW:s,onRegisterError:c}),offlineReady:f,needRefresh:m}}const Zo={key:0,class:"pwa-toast",role:"alert"},Jo={class:"message"},es={key:0},ts={key:1},as=q({__name:"ReloadPrompt",setup(a){const{offlineReady:l,needRefresh:i,updateServiceWorker:o}=Ko(),n=async()=>{l.value=!1,i.value=!1};return(s,c)=>e(l)||e(i)?(r(),g("div",Zo,[w("div",Jo,[e(l)?(r(),g("span",es," App ready to work offline ")):(r(),g("span",ts," New content available, click on reload button to update. "))]),e(i)?(r(),g("button",{key:0,onClick:c[0]||(c[0]=m=>e(o)())},"Reload")):Q("",!0),w("button",{onClick:n},"Close")])):Q("",!0)}}),ls=q({__name:"Default",setup(a){const l=nl();return J([()=>l.query.player,()=>Object.keys(B.players).length],([i])=>{if(!i)return;const o=i.toString().toLowerCase(),n=Object.values(B.players).find(s=>s.player_id.toLowerCase()===o||s.name.toLowerCase()===o)?.player_id;n&&(t.activePlayerId=n)},{immediate:!0}),J(()=>l.query.showFullscreenPlayer,i=>{t.showFullscreenPlayer=!!i},{immediate:!0}),J(()=>l.query.frameless,i=>{i&&(t.frameless=!0)},{immediate:!0}),(i,o)=>(r(),g(W,null,[e(t).connected?(r(),V(Zl,{key:0},{default:y(()=>[e(t).frameless?(r(),V(Lt,{key:0})):(r(),g(W,{key:1},[u(Go),u(Yo),u(Lt)],64))]),_:1})):(r(),V(Zt,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(t).connected},{default:y(()=>[w("div",null,[u(ea,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(t).isInStandaloneMode?(r(),V(as,{key:2})):Q("",!0)],64))}}),Ps=ue(ls,[["__scopeId","data-v-51ae78ef"]]);export{Ps as default};
