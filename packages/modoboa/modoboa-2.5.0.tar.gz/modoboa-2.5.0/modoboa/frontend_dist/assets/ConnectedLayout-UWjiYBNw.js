import{_ as ne,r as Oe,c as C,o as k,w as m,a as i,b5 as pe,b6 as Ye,a6 as N,h as V,a2 as He,d as ee,z,aw as we,b7 as Ue,b8 as q,aa as _e,b9 as be,az as ze,I as ke,J as xe,ac as We,al as Ve,Q as Xe,O as Se,g as Y,a7 as te,a0 as Ce,aS as Fe,T as je,e as P,v as J,F as E,am as Te,V as qe,u as Pe,q as Ge,f as O,p as Ze,l as I,s as G,m as Q,k as F,t as R,b as Be,ba as Je,ad as Ke,C as Qe,N as et,bb as tt,P as at,n as ot,bc as nt,x as ce}from"./index-BImkz5Jx.js";import{V as lt}from"./VContainer-B46caNs1.js";import{V as rt,a as it}from"./VApp-CKP-6zGP.js";import{u as st}from"./logos-BswdveCV.js";import{u as ut}from"./layout.store-NXWtFIwL.js";import{x as ct,l as vt,n as Le,y as dt,z as mt,o as Me,p as ft,A as ht,j as Ee,e as Ie,V as Z,c as K,b as gt,B as yt,C as pt,g as wt,a as _t,D as bt,E as kt,F as xt}from"./VAvatar-Cmga0vj6.js";import{V as oe,g as Vt,a as A,h as St,c as ve,b as de,f as Ct}from"./forwardRefs-cvcnlhoK.js";import{u as me}from"./VProgressCircular-BtOPiGCg.js";import{u as $e,c as Tt,b as Pt}from"./tag-B_yWNNJD.js";import{u as Ae,b as Bt,m as Lt,V as ae,a as fe,c as Mt}from"./VMenu-gUG70-zD.js";import{a as Et,b as It,V as $t,u as At}from"./layout-C5FyYCHK.js";import{u as Nt}from"./ssrBoot-CKUX4kcb.js";import{u as Dt}from"./global.store-DbkcI5o2.js";import{V as Rt}from"./VBadge-CixeK87a.js";import{a as he}from"./VCard-CxH9DWoK.js";import{V as Ot,a as Yt}from"./VRow-ozg66L7j.js";import{V as Ht}from"./VSheet-BNx2X4Mk.js";const Ut={__name:"ConnectedView",setup(e){return(r,o)=>{const u=Oe("router-view");return k(),C(rt,null,{default:m(()=>[i(lt,{fluid:"",style:{height:"100%"}},{default:m(()=>[i(u,null,{default:m(({Component:t})=>[i(pe,{name:"fade"},{default:m(()=>[(k(),C(Ye(t)))]),_:2},1024)]),_:1})]),_:1})]),_:1})}}},zt=ne(Ut,[["__scopeId","data-v-b2ffa9e6"]]);function Wt(e){let{rootEl:r,isSticky:o,layoutItemStyles:u}=e;const t=N(!1),v=N(0),l=V(()=>{const w=typeof t.value=="boolean"?"top":t.value;return[o.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[w]:He(v.value)}:{top:u.value.top}]});ee(()=>{z(o,w=>{w?window.addEventListener("scroll",p,{passive:!0}):window.removeEventListener("scroll",p)},{immediate:!0})}),we(()=>{window.removeEventListener("scroll",p)});let y=0;function p(){const w=y>window.scrollY?"up":"down",a=r.value.getBoundingClientRect(),s=parseFloat(u.value.top??0),d=window.scrollY-Math.max(0,v.value-s),n=a.height+Math.max(v.value,s)-window.scrollY-window.innerHeight,c=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;a.height<window.innerHeight-s?(t.value="top",v.value=s):w==="up"&&t.value==="bottom"||w==="down"&&t.value==="top"?(v.value=window.scrollY+a.top-c,t.value=!0):w==="down"&&n<=0?(v.value=0,t.value="bottom"):w==="up"&&d<=0&&(c?t.value!=="top"&&(v.value=-d+c+s,t.value="top"):(v.value=a.top+d,t.value="top")),y=window.scrollY}return{isStuck:t,stickyStyles:l}}const Xt=100,Ft=20;function ge(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ye(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let r=0;for(let o=e.length-1;o>0;o--){if(e[o].t===e[o-1].t)continue;const u=ge(r),t=(e[o].d-e[o-1].d)/(e[o].t-e[o-1].t);r+=(t-u)*Math.abs(t),o===e.length-1&&(r*=.5)}return ge(r)*1e3}function jt(){const e={};function r(t){Array.from(t.changedTouches).forEach(v=>{(e[v.identifier]??(e[v.identifier]=new Ue(Ft))).push([t.timeStamp,v])})}function o(t){Array.from(t.changedTouches).forEach(v=>{delete e[v.identifier]})}function u(t){var w;const v=(w=e[t])==null?void 0:w.values().reverse();if(!v)throw new Error(`No samples for touch id ${t}`);const l=v[0],y=[],p=[];for(const a of v){if(l[0]-a[0]>Xt)break;y.push({t:a[0],d:a[1].clientX}),p.push({t:a[0],d:a[1].clientY})}return{x:ye(y),y:ye(p),get direction(){const{x:a,y:s}=this,[d,n]=[Math.abs(a),Math.abs(s)];return d>n&&a>=0?"right":d>n&&a<=0?"left":n>d&&s>=0?"down":n>d&&s<=0?"up":qt()}}}return{addMovement:r,endTouch:o,getVelocity:u}}function qt(){throw new Error}function Gt(e){let{el:r,isActive:o,isTemporary:u,width:t,touchless:v,position:l}=e;ee(()=>{window.addEventListener("touchstart",M,{passive:!0}),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",W,{passive:!0})}),we(()=>{window.removeEventListener("touchstart",M),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",W)});const y=V(()=>["left","right"].includes(l.value)),{addMovement:p,endTouch:w,getVelocity:a}=jt();let s=!1;const d=N(!1),n=N(0),c=N(0);let S;function D(f,g){return(l.value==="left"?f:l.value==="right"?document.documentElement.clientWidth-f:l.value==="top"?f:l.value==="bottom"?document.documentElement.clientHeight-f:X())-(g?t.value:0)}function H(f){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const _=l.value==="left"?(f-c.value)/t.value:l.value==="right"?(document.documentElement.clientWidth-f-c.value)/t.value:l.value==="top"?(f-c.value)/t.value:l.value==="bottom"?(document.documentElement.clientHeight-f-c.value)/t.value:X();return g?ze(_):_}function M(f){if(v.value)return;const g=f.changedTouches[0].clientX,_=f.changedTouches[0].clientY,b=25,x=l.value==="left"?g<b:l.value==="right"?g>document.documentElement.clientWidth-b:l.value==="top"?_<b:l.value==="bottom"?_>document.documentElement.clientHeight-b:X(),h=o.value&&(l.value==="left"?g<t.value:l.value==="right"?g>document.documentElement.clientWidth-t.value:l.value==="top"?_<t.value:l.value==="bottom"?_>document.documentElement.clientHeight-t.value:X());(x||h||o.value&&u.value)&&(S=[g,_],c.value=D(y.value?g:_,o.value),n.value=H(y.value?g:_),s=c.value>-20&&c.value<80,w(f),p(f))}function B(f){const g=f.changedTouches[0].clientX,_=f.changedTouches[0].clientY;if(s){if(!f.cancelable){s=!1;return}const x=Math.abs(g-S[0]),h=Math.abs(_-S[1]);(y.value?x>h&&x>3:h>x&&h>3)?(d.value=!0,s=!1):(y.value?h:x)>3&&(s=!1)}if(!d.value)return;f.preventDefault(),p(f);const b=H(y.value?g:_,!1);n.value=Math.max(0,Math.min(1,b)),b>1?c.value=D(y.value?g:_,!0):b<0&&(c.value=D(y.value?g:_,!1))}function W(f){if(s=!1,!d.value)return;p(f),d.value=!1;const g=a(f.changedTouches[0].identifier),_=Math.abs(g.x),b=Math.abs(g.y);(y.value?_>b&&_>400:b>_&&b>3)?o.value=g.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||X()):o.value=n.value>.5}const U=V(()=>d.value?{transform:l.value==="left"?`translateX(calc(-100% + ${n.value*t.value}px))`:l.value==="right"?`translateX(calc(100% - ${n.value*t.value}px))`:l.value==="top"?`translateY(calc(-100% + ${n.value*t.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${n.value*t.value}px))`:X(),transition:"none"}:void 0);return q(d,()=>{var _,b;const f=((_=r.value)==null?void 0:_.style.transform)??null,g=((b=r.value)==null?void 0:b.style.transition)??null;_e(()=>{var x,h,L,$;(h=r.value)==null||h.style.setProperty("transform",((x=U.value)==null?void 0:x.transform)||"none"),($=r.value)==null||$.style.setProperty("transition",((L=U.value)==null?void 0:L.transition)||null)}),be(()=>{var x,h;(x=r.value)==null||x.style.setProperty("transform",f),(h=r.value)==null||h.style.setProperty("transition",g)})}),{isDragging:d,dragProgress:n,dragStyles:U}}function X(){throw new Error}const Zt=["start","end","left","right","top","bottom"],Jt=xe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Zt.includes(e)},sticky:Boolean,...ht(),...Pt(),...Lt(),...qe({mobile:null}),...ft(),...It(),...Me(),...Tt({tag:"nav"}),...Te()},"VNavigationDrawer"),Kt=ke()({name:"VNavigationDrawer",props:Jt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,r){let{attrs:o,emit:u,slots:t}=r;const{isRtl:v}=We(),{themeClasses:l}=Ve(e),{borderClasses:y}=ct(e),{backgroundColorClasses:p,backgroundColorStyles:w}=me(()=>e.color),{elevationClasses:a}=vt(e),{displayClasses:s,mobile:d}=Xe(e),{roundedClasses:n}=Le(e),c=dt(),S=Se(e,"modelValue",null,T=>!!T),{ssrBootStyles:D}=Nt(),{scopeId:H}=Ae(),M=Y(),B=N(!1),{runOpenDelay:W,runCloseDelay:U}=Bt(e,T=>{B.value=T}),f=V(()=>e.rail&&e.expandOnHover&&B.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),g=V(()=>mt(e.location,v.value)),_=te(()=>e.persistent),b=V(()=>!e.permanent&&(d.value||e.temporary)),x=V(()=>e.sticky&&!b.value&&g.value!=="bottom");q(()=>e.expandOnHover&&e.rail!=null,()=>{z(B,T=>u("update:rail",!T))}),q(()=>!e.disableResizeWatcher,()=>{z(b,T=>!e.permanent&&Ce(()=>S.value=!T))}),q(()=>!e.disableRouteWatcher&&!!c,()=>{z(c.currentRoute,()=>b.value&&(S.value=!1))}),z(()=>e.permanent,T=>{T&&(S.value=!0)}),e.modelValue==null&&!b.value&&(S.value=e.permanent||!d.value);const{isDragging:h,dragProgress:L}=Gt({el:M,isActive:S,isTemporary:b,width:f,touchless:te(()=>e.touchless),position:g}),$=V(()=>{const T=b.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):f.value;return h.value?T*L.value:T}),{layoutItemStyles:j,layoutItemScrimStyles:Ne}=Et({id:e.name,order:V(()=>parseInt(e.order,10)),position:g,layoutSize:$,elementSize:f,active:Fe(S),disableTransitions:te(()=>h.value),absolute:V(()=>e.absolute||x.value&&typeof le.value!="string")}),{isStuck:le,stickyStyles:De}=Wt({rootEl:M,isSticky:x,layoutItemStyles:j}),re=me(()=>typeof e.scrim=="string"?e.scrim:null),Re=V(()=>({...h.value?{opacity:L.value*.2,transition:"none"}:void 0,...Ne.value}));return je({VList:{bgColor:"transparent"}}),$e(()=>{const T=t.image||e.image;return P(E,null,[i(e.tag,J({ref:M,onMouseenter:W,onMouseleave:U,class:["v-navigation-drawer",`v-navigation-drawer--${g.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":B.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":b.value,"v-navigation-drawer--persistent":_.value,"v-navigation-drawer--active":S.value,"v-navigation-drawer--sticky":x.value},l.value,p.value,y.value,s.value,a.value,n.value,e.class],style:[w.value,j.value,D.value,De.value,e.style]},H,o),{default:()=>{var ie,se,ue;return[T&&P("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?i(Ie,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):i(Ee,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&P("div",{class:"v-navigation-drawer__prepend"},[(ie=t.prepend)==null?void 0:ie.call(t)]),P("div",{class:"v-navigation-drawer__content"},[(se=t.default)==null?void 0:se.call(t)]),t.append&&P("div",{class:"v-navigation-drawer__append"},[(ue=t.append)==null?void 0:ue.call(t)])]}}),i(pe,{name:"fade-transition"},{default:()=>[b.value&&(h.value||S.value)&&!!e.scrim&&P("div",J({class:["v-navigation-drawer__scrim",re.backgroundColorClasses.value],style:[Re.value,re.backgroundColorStyles.value],onClick:()=>{_.value||(S.value=!1)}},H),null)]})])}),{isStuck:le}}}),Qt={class:"d-flex align-center"},ea={__name:"NavBar",props:{color:{type:String,default:"primary"},menuItems:{type:Array,required:!1,default:null},logoRoute:{type:Object,default:null}},setup(e){const r=e,o=Pe(),u=ut(),t=Ge(),{menuLogoPath:v}=st(),l=Y(!1),y=Y(!0),p=V(()=>o.authUser),w=V(()=>o.isAuthenticated);function a(s){return w.value?(s.roles===void 0||s.roles.indexOf(p.value.role)!==-1)&&(s.condition===void 0||s.condition())&&s.activated!==!1:!1}return(s,d)=>(k(),C(Kt,{modelValue:y.value,"onUpdate:modelValue":d[2]||(d[2]=n=>y.value=n),rail:l.value,permanent:"",color:e.color,app:""},{default:m(()=>[P("div",Qt,[i(Ee,{src:O(v),"max-width":"190",class:"logo",onClick:d[0]||(d[0]=n=>O(t).push(r.logoRoute))},null,8,["src"]),i(Z,{icon:l.value?"mdi-chevron-right":"mdi-chevron-left",variant:"text",onClick:d[1]||(d[1]=Ze(n=>l.value=!l.value,["stop"]))},null,8,["icon"])]),i(oe,{density:O(u).compactLeftMenu?"compact":"default",lines:!O(u).compactLeftMenu,nav:""},{default:m(()=>[(k(!0),I(E,null,G(e.menuItems,n=>(k(),I(E,{key:n.text},[a(n)?(k(),I(E,{key:0},[n.subheader?(k(),C(Vt,{key:0,class:"text-white"},{default:m(()=>[F(R(n.text.toUpperCase()),1)]),_:2},1024)):n.action?(k(),C(A,{key:1,value:n,exact:n.exact,title:n.text,"prepend-icon":n.icon,onClick:n.action},null,8,["value","exact","title","prepend-icon","onClick"])):n.children?(k(),C(St,{key:3,value:n.text},{activator:m(({props:c})=>[(k(),C(A,J({ref_for:!0},c,{key:n.text,title:n.text,color:"white","prepend-icon":n.icon}),null,16,["title","prepend-icon"]))]),default:m(()=>[(k(!0),I(E,null,G(n.children,c=>(k(),I(E,{key:c.text},[a(c)?(k(),I(E,{key:0},[c.action?(k(),C(A,{key:0,title:c.text,value:c,"prepend-icon":c.icon,onClick:c.action},null,8,["title","value","prepend-icon","onClick"])):(k(),C(A,{key:1,to:c.to,link:"",title:c.text,value:c,"prepend-icon":c.icon},null,8,["to","title","value","prepend-icon"]))],64)):Q("",!0)],64))),128))]),_:2},1032,["value"])):(k(),C(A,{key:2,value:n,to:n.to,link:"",exact:n.exact,title:n.text,"prepend-icon":n.icon},null,8,["value","to","exact","title","prepend-icon"]))],64)):Q("",!0)],64))),128))]),_:1},8,["density","lines"])]),_:1},8,["modelValue","rail","color"]))}},ta=ne(ea,[["__scopeId","data-v-4deeb2f7"]]),aa={key:0,class:"top-menu"},oa={class:"text-center"},na={class:"mt-2"},la={class:"text-center"},ra={class:"text-h5"},ia={__name:"TopMenu",props:{user:{type:Object,default:null},remote:{type:Boolean,default:!1}},setup(e){const r=e,{$gettext:o}=Be(),u=Dt(),t=Y([]),v=V(()=>r.user.first_name&&r.user.last_name?`${r.user.first_name[0].toUpperCase()}${r.user.last_name[0].toUpperCase()}`:r.user.username?r.user.username.slice(0,2).toUpperCase():""),l=V(()=>[{text:o("Account"),icon:"mdi-account-circle-outline",to:r.remote?null:{name:"AccountSettings"},href:r.remote?"https://localhost:3000/account":"",click:()=>null},{text:o("Logout"),icon:"mdi-logout",click:y}]);async function y(){Je()._s.forEach(async p=>await p.$reset())}return ee(()=>{Ke.getAvailableApplications().then(p=>{t.value=p.data}),u.fetchNotifications()}),(p,w)=>e.user?(k(),I("div",aa,[O(u).activeNotifications?(k(),C(Z,{key:0,icon:"",color:"error",class:"mr-4",variant:"tonal",size:"small"},{default:m(()=>[i(K,{icon:"mdi-bell"}),i(ae,{activator:"parent",location:"bottom"},{default:m(()=>[i(oe,null,{default:m(()=>[P("div",oa,[i(A,{title:O(o)("Notifications")},null,8,["title"])]),i(ve),(k(!0),I(E,null,G(O(u).notifications,a=>(k(),C(A,{key:a.id,to:a.url},{prepend:m(()=>[i(Rt,{color:a.color,content:a.counter,inline:""},null,8,["color","content"])]),default:m(()=>[i(de,null,{default:m(()=>[F(R(a.text),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})]),_:1})]),_:1})):Q("",!0),i(Z,{icon:"",class:"mr-4",variant:"flat"},{default:m(()=>[i(K,{icon:"mdi-apps"}),i(ae,{activator:"parent",location:"bottom"},{default:m(()=>[i(he,{"min-width":"350","max-width":"400",class:"pa-4"},{default:m(()=>[i(Ot,{class:"justify-center"},{default:m(()=>[(k(!0),I(E,null,G(t.value,a=>(k(),C(Yt,{key:a.name,cols:"6"},{default:m(()=>[i(Ht,{rounded:"",class:"application text-center pa-4 text-body-2",onClick:s=>p.$router.push(a.url)},{default:m(()=>[i(K,{color:"primary",icon:a.icon,size:"x-large"},null,8,["icon"]),P("div",na,R(a.label),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),i(Z,{icon:"",flat:"",color:"primary"},{default:m(()=>[F(R(v.value)+" ",1),i(ae,{activator:"parent",location:"bottom"},{default:m(()=>[i(he,{"min-width":"300","max-width":"350"},{default:m(()=>[i(oe,null,{default:m(()=>[P("div",la,[i(gt,{color:"primary"},{default:m(()=>[P("span",ra,R(v.value),1)]),_:1}),i(A,{title:e.user.username},null,8,["title"])]),i(ve),(k(!0),I(E,null,G(l.value,a=>(k(),C(A,{key:a.text,to:a.to,href:a.href,link:"",onClick:a.click},{prepend:m(()=>[i(K,{icon:a.icon},null,8,["icon"])]),default:m(()=>[i(de,null,{default:m(()=>[F(R(a.text),1)]),_:2},1024)]),_:2},1032,["to","href","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})])):Q("",!0)}},sa=ne(ia,[["__scopeId","data-v-7bd1943d"]]),ua={getTheme(){return Qe.get("/theme/")}};function ca(e){const r=N(e());let o=-1;function u(){clearInterval(o)}function t(){u(),Ce(()=>r.value=e())}function v(l){const y=l?getComputedStyle(l):{transitionDuration:.2},p=parseFloat(y.transitionDuration)*1e3||200;if(u(),r.value<=0)return;const w=performance.now();o=window.setInterval(()=>{const a=performance.now()-w+p;r.value=Math.max(e()-a,0),r.value<=0&&u()},p)}return be(u),{clear:u,time:r,start:v,reset:t}}const va=xe({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...xt({location:"bottom"}),...kt(),...Me(),...bt(),...Te(),...at(Mt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),da=ke()({name:"VSnackbar",props:va(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:o}=r;const u=Se(e,"modelValue"),{positionClasses:t}=yt(e),{scopeId:v}=Ae(),{themeClasses:l}=Ve(e),{colorClasses:y,colorStyles:p,variantClasses:w}=pt(e),{roundedClasses:a}=Le(e),s=ca(()=>Number(e.timeout)),d=Y(),n=Y(),c=N(!1),S=N(0),D=Y(),H=et($t,void 0);q(()=>!!H,()=>{const h=At();_e(()=>{D.value=h.mainStyles.value})}),z(u,B),z(()=>e.timeout,B),ee(()=>{u.value&&B()});let M=-1;function B(){s.reset(),window.clearTimeout(M);const h=Number(e.timeout);if(!u.value||h===-1)return;const L=tt(n.value);s.start(L),M=window.setTimeout(()=>{u.value=!1},h)}function W(){s.reset(),window.clearTimeout(M)}function U(){c.value=!0,W()}function f(){c.value=!1,B()}function g(h){S.value=h.touches[0].clientY}function _(h){Math.abs(S.value-h.changedTouches[0].clientY)>50&&(u.value=!1)}function b(){c.value&&f()}const x=V(()=>e.location.split(" ").reduce((h,L)=>(h[`v-snackbar--${L}`]=!0,h),{}));return $e(()=>{const h=fe.filterProps(e),L=!!(o.default||o.text||e.text);return i(fe,J({ref:d,class:["v-snackbar",{"v-snackbar--active":u.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},x.value,t.value,e.class],style:[D.value,e.style]},h,{modelValue:u.value,"onUpdate:modelValue":$=>u.value=$,contentProps:J({class:["v-snackbar__wrapper",l.value,y.value,a.value,w.value],style:[p.value],onPointerenter:U,onPointerleave:f},h.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:g,onTouchend:_,onAfterLeave:b},v),{default:()=>{var $,j;return[wt(!1,"v-snackbar"),e.timer&&!c.value&&P("div",{key:"timer",class:"v-snackbar__timer"},[i(_t,{ref:n,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":s.time.value},null)]),L&&P("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[(($=o.text)==null?void 0:$.call(o))??e.text,(j=o.default)==null?void 0:j.call(o)]),o.actions&&i(Ie,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[P("div",{class:"v-snackbar__actions"},[o.actions({isActive:u})])]})]},activator:o.activator})}),Ct({},d)}}),ma=2e3,Ma={__name:"ConnectedLayout",props:{color:{type:String,default:"primary"},menuItems:{type:Array,default:null},loadTheme:{type:Boolean,default:!0}},setup(e){const r=Pe(),o=ot(),{$gettext:u}=Be(),t=nt(),v=e,l=V(()=>r.authUser),y=V(()=>o.notificationColor),p=V(()=>o.notification),w=Y(!1);return o.$onAction(({name:a,after:s})=>{a==="displayNotification"&&s(()=>{w.value=!0})},!0),v.loadTheme&&ua.getTheme().then(a=>{a.data.theme_primary_color!==t.themes.value.light.colors.primary&&(t.themes.value.light.colors.primary=a.data.theme_primary_color),a.data.theme_primary_color_light!==t.themes.value.light.colors["primary-lighten-1"]&&(t.themes.value.light.colors["primary-lighten-1"]=a.data.theme_primary_color_light),a.data.theme_primary_color_dark!==t.themes.value.light.colors["primary-darken-1"]&&(t.themes.value.light.colors["primary-darken-1"]=a.data.theme_primary_color_dark),a.data.theme_secondary_color!==t.themes.value.light.colors.secondary&&(t.themes.value.light.colors.secondary=a.data.theme_secondary_color),a.data.theme_label_color!==t.themes.value.light.colors.label&&(t.themes.value.light.colors.label=a.data.theme_label_color)}),(a,s)=>(k(),C(it,null,{default:m(()=>[ce(a.$slots,"navbar",{},()=>[i(ta,{color:e.color,"menu-items":e.menuItems},null,8,["color","menu-items"])]),ce(a.$slots,"topbar",{},()=>[i(sa,{user:l.value},null,8,["user"])]),i(zt),i(da,{modelValue:w.value,"onUpdate:modelValue":s[1]||(s[1]=d=>w.value=d),color:y.value,timeout:ma,location:"top"},{actions:m(()=>[i(Z,{color:"white",text:"",onClick:s[0]||(s[0]=d=>w.value=!1)},{default:m(()=>[F(R(O(u)("Close")),1)]),_:1})]),default:m(()=>[F(R(p.value)+" ",1)]),_:1},8,["modelValue","color"])]),_:3}))}};export{Kt as V,Ma as _};
