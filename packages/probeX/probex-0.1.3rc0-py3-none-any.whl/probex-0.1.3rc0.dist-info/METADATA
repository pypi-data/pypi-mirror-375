Metadata-Version: 2.4
Name: probeX
Version: 0.1.3rc0
Summary: A sample project for pytest
Author-email: gavin <ygydev@163.com>
License: MIT
Project-URL: Homepage, https://github.com/
Description-Content-Type: text/markdown

# probeX æµ‹è¯•å¹³å°

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.100+-green.svg)](https://fastapi.tiangolo.com/)
[![Dash](https://img.shields.io/badge/Dash-2.0+-orange.svg)](https://dash.plotly.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸ“– é¡¹ç›®ç®€ä»‹

probeX æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æµ‹è¯•è‡ªåŠ¨åŒ–å¹³å°ï¼Œé›†æˆäº†æµ‹è¯•æ¡†æ¶ã€Web ç®¡ç†ç•Œé¢å’Œäº‘åŸç”Ÿæ”¯æŒã€‚è¯¥å¹³å°æä¾›äº†ä»æµ‹è¯•ç”¨ä¾‹ç®¡ç†åˆ°æ‰§è¡Œã€æŠ¥å‘Šç”Ÿæˆçš„å…¨æµç¨‹è§£å†³æ–¹æ¡ˆï¼Œé€‚ç”¨äºä¼ä¸šçº§çš„æµ‹è¯•è‡ªåŠ¨åŒ–éœ€æ±‚ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ§ª æµ‹è¯•æ¡†æ¶
- **Swagger è‡ªåŠ¨è§£æ**: æ”¯æŒ Swagger 2.0 æ–‡æ¡£è‡ªåŠ¨è§£æå’Œ API æµ‹è¯•
- **Kubernetes é›†æˆ**: æ”¯æŒ K8s é›†ç¾¤èµ„æºç®¡ç†å’Œå®¹å™¨åŒ–æµ‹è¯•
- **ä¾èµ–å…³ç³»ç®¡ç†**: æ”¯æŒæµ‹è¯•ç”¨ä¾‹é—´çš„ä¾èµ–å…³ç³»ç®¡ç†
- **æµ‹è¯•æŠ¥å‘Š**: è‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šå’Œå¯è§†åŒ–å±•ç¤º

### ğŸŒ Web ç®¡ç†ç•Œé¢
- **ç”¨æˆ·æƒé™ç®¡ç†**: å®Œæ•´çš„ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç®¡ç†ä½“ç³»
- **ç³»ç»Ÿç®¡ç†**: èœå•ã€éƒ¨é—¨ã€å­—å…¸ç­‰åŸºç¡€æ•°æ®ç®¡ç†
- **å®æ—¶ç›‘æ§**: ç¼“å­˜ã€ä»»åŠ¡ã€æ—¥å¿—ã€åœ¨çº¿ç”¨æˆ·å®æ—¶ç›‘æ§
- **æµ‹è¯•ç®¡ç†**: æµ‹è¯•ç”¨ä¾‹çš„å¯è§†åŒ–ç®¡ç†å’Œæ‰§è¡Œ

### ğŸš€ äº‘åŸç”Ÿæ”¯æŒ
- **å®¹å™¨åŒ–éƒ¨ç½²**: æ”¯æŒ Docker å’Œ Kubernetes éƒ¨ç½²
- **å¾®æœåŠ¡æ¶æ„**: å‰åç«¯åˆ†ç¦»çš„å¾®æœåŠ¡æ¶æ„è®¾è®¡
- **é«˜å¯ç”¨æ€§**: æ”¯æŒé›†ç¾¤éƒ¨ç½²å’Œè´Ÿè½½å‡è¡¡

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
probeX/
â”œâ”€â”€ src/probeX/
â”‚   â”œâ”€â”€ framework/           # æ ¸å¿ƒæµ‹è¯•æ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ api/            # API ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ client/         # å®¢æˆ·ç«¯æ”¯æŒ (HTTP/K8s/MySQL)
â”‚   â”‚   â”œâ”€â”€ config/         # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ service/        # æ ¸å¿ƒä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ schedule/       # æµ‹è¯•è°ƒåº¦ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·ç±»
â”‚   â”œâ”€â”€ probeX-backend/     # FastAPI åç«¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ module_admin/   # ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ module_task/    # ä»»åŠ¡æ¨¡å—
â”‚   â”‚   â””â”€â”€ middlewares/    # ä¸­é—´ä»¶
â”‚   â””â”€â”€ probeX-frontend/    # Dash å‰ç«¯ç•Œé¢
â”‚       â”œâ”€â”€ views/          # é¡µé¢è§†å›¾
â”‚       â”œâ”€â”€ callbacks/      # å›è°ƒå‡½æ•°
â”‚       â””â”€â”€ components/     # å¯å¤ç”¨ç»„ä»¶
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **FastAPI**: é«˜æ€§èƒ½çš„ Python Web æ¡†æ¶
- **SQLAlchemy**: ORM æ•°æ®åº“æ“ä½œ
- **Redis**: ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **MySQL**: ä¸»æ•°æ®åº“
- **Uvicorn**: ASGI æœåŠ¡å™¨

### å‰ç«¯æŠ€æœ¯
- **Dash**: Python Web åº”ç”¨æ¡†æ¶
- **Ant Design**: ä¼ä¸šçº§ UI ç»„ä»¶åº“
- **Plotly**: æ•°æ®å¯è§†åŒ–
- **JavaScript**: å‰ç«¯äº¤äº’é€»è¾‘

### æµ‹è¯•æ¡†æ¶
- **è‡ªç ”æµ‹è¯•æ¡†æ¶**: æ”¯æŒä¾èµ–å…³ç³»çš„æµ‹è¯•ç”¨ä¾‹ç®¡ç†
- **Swagger é›†æˆ**: API æµ‹è¯•è‡ªåŠ¨åŒ–
- **Kubernetes å®¢æˆ·ç«¯**: äº‘åŸç”Ÿæµ‹è¯•æ”¯æŒ

## ğŸ“¦ å®‰è£…éƒ¨ç½²

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- MySQL 5.7+
- Redis 6.0+
- Kubernetes 1.20+ (å¯é€‰)

### å¿«é€Ÿå¼€å§‹

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-username/probeX.git
cd probeX
```

2. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

3. **é…ç½®æ•°æ®åº“**
```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p < src/probeX/probeX-backend/sql/dash-fastapi.sql
```

4. **å¯åŠ¨æœåŠ¡**
```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd src/probeX/probeX-backend
python app.py

# å¯åŠ¨å‰ç«¯æœåŠ¡
cd src/probeX/probeX-frontend
python app.py
```

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t probex .

# è¿è¡Œå®¹å™¨
docker run -d -p 8000:8000 -p 8050:8050 probex
```

## ğŸš€ ä½¿ç”¨æŒ‡å—

### å‘½ä»¤è¡Œå·¥å…·

probeX æä¾›äº†ä¸°å¯Œçš„å‘½ä»¤è¡Œå·¥å…·ï¼š

```bash
# ç”Ÿæˆ OTP å¯†é’¥
probeX user otp -f qrcode.png

# è§£æ Swagger æ–‡æ¡£
probeX swagger parse

# æŸ¥è¯¢ Kubernetes èµ„æº
probeX kube resource

# æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹
probeX case -f test_config.yaml

# ç®¡ç†æŠ¥å‘ŠæœåŠ¡
probeX report server start
probeX report server stop
probeX report server status
```

### Web ç•Œé¢ä½¿ç”¨

1. **è®¿é—®ç³»ç»Ÿ**: æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:8050`
2. **ç”¨æˆ·ç™»å½•**: ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ç³»ç»Ÿ
3. **åŠŸèƒ½å¯¼èˆª**: é€šè¿‡å·¦ä¾§èœå•è®¿é—®å„é¡¹åŠŸèƒ½
4. **æµ‹è¯•ç®¡ç†**: åœ¨æµ‹è¯•ç®¡ç†æ¨¡å—åˆ›å»ºå’Œæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹

## ğŸ“‹ åŠŸèƒ½æ¨¡å—

### æµ‹è¯•æ¡†æ¶åŠŸèƒ½
- âœ… Swagger 2.0 æ–‡æ¡£è§£æ
- âœ… API æ¥å£æµ‹è¯•
- âœ… Kubernetes èµ„æºç®¡ç†
- âœ… æµ‹è¯•ç”¨ä¾‹ä¾èµ–ç®¡ç†
- âœ… æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ

### ç³»ç»Ÿç®¡ç†åŠŸèƒ½
- âœ… ç”¨æˆ·æƒé™ç®¡ç†
- âœ… è§’è‰²æƒé™åˆ†é…
- âœ… èœå•æƒé™æ§åˆ¶
- âœ… éƒ¨é—¨ç»„ç»‡ç®¡ç†
- âœ… ç³»ç»Ÿé…ç½®ç®¡ç†

### ç›‘æ§åŠŸèƒ½
- âœ… ç¼“å­˜ç›‘æ§
- âœ… ä»»åŠ¡è°ƒåº¦ç›‘æ§
- âœ… æ“ä½œæ—¥å¿—ç›‘æ§
- âœ… åœ¨çº¿ç”¨æˆ·ç›‘æ§
- âœ… æœåŠ¡å™¨çŠ¶æ€ç›‘æ§

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL=mysql://user:password@localhost/probex
REDIS_URL=redis://localhost:6379

# åº”ç”¨é…ç½®
APP_HOST=0.0.0.0
APP_PORT=8000
DEBUG=True

# Kubernetes é…ç½®
KUBE_CONFIG_PATH=/path/to/kubeconfig
```

### æµ‹è¯•é…ç½®

åœ¨ `config.yaml` ä¸­é…ç½®æµ‹è¯•ç”¨ä¾‹ï¼š

```yaml
cases:
  - name: test1
    action: Model.create
    params:
      - modelname: "test"
      - modeltype: "NLP"
    return:
      - model_res
      - model_path
    dependencies: [test2, test3]
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/AmazingFeature`
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 Python ä»£ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æ³¨è§£
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é¡¹ç›®ç»´æŠ¤è€…**: gavin (ygydev@163.com)
- **é¡¹ç›®åœ°å€**: https://github.com/your-username/probeX
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/your-username/probeX/issues)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼**
