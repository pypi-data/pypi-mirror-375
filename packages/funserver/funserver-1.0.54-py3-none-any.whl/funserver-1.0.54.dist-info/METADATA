Metadata-Version: 2.4
Name: funserver
Version: 1.0.54
Summary: funserver
Author-email: ç‰›å“¥ <niuliangtao@qq.com>, farfarfun <farfarfun@qq.com>
Maintainer-email: ç‰›å“¥ <niuliangtao@qq.com>, farfarfun <farfarfun@qq.com>
Project-URL: Organization, https://github.com/farfarfun
Project-URL: Repository, https://github.com/farfarfun/funserver
Project-URL: Releases, https://github.com/farfarfun/funserver/releases
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: click>=8.1.8
Requires-Dist: funbuild>=1.5.11
Requires-Dist: funutil>=1.0.50
Requires-Dist: psutil>=7.0.0
Requires-Dist: typer>=0.15.3

# FunServer

[![PyPI version](https://badge.fury.io/py/funserver.svg)](https://badge.fury.io/py/funserver)
[![Python](https://img.shields.io/pypi/pyversions/funserver.svg)](https://pypi.org/project/funserver/)
[![License](https://img.shields.io/github/license/farfarfun/funserver.svg)](https://github.com/farfarfun/funserver/blob/main/LICENSE)

FunServer æ˜¯ä¸€ä¸ª Python æœåŠ¡å™¨ç®¡ç†æ¡†æ¶ï¼Œæä¾›ç»Ÿä¸€çš„æ¥å£æ¥ç®¡ç†å„ç§æœåŠ¡å™¨åº”ç”¨ç¨‹åºã€‚å®ƒæ”¯æŒè·¨å¹³å°å®‰è£…ã€è¿›ç¨‹ç®¡ç†ã€æ—¥å¿—è®°å½•å’Œé…ç½®ç®¡ç†ã€‚

## ç‰¹æ€§

- ğŸš€ **ç»Ÿä¸€çš„æœåŠ¡å™¨ç®¡ç†æ¥å£** - æä¾› startã€stopã€restartã€update ç­‰æ ‡å‡†æ“ä½œ
- ğŸ”§ **è·¨å¹³å°æ”¯æŒ** - æ”¯æŒ Linuxã€macOS å’Œ Windows ç³»ç»Ÿ
- ğŸ“Š **è¿›ç¨‹ç®¡ç†** - è‡ªåŠ¨ PID è·Ÿè¸ªå’Œè¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ğŸ“ **æ—¥å¿—ç®¡ç†** - è‡ªåŠ¨æ—¥å¿—è®°å½•å’Œæ—¥å¿—æ–‡ä»¶ç®¡ç†
- ğŸ¯ **æ¨¡å—åŒ–æ¶æ„** - æ˜“äºæ‰©å±•å’Œæ·»åŠ æ–°çš„æœåŠ¡å™¨å®ç°
- ğŸ’» **å‘½ä»¤è¡Œç•Œé¢** - åŸºäº Typer çš„å‹å¥½å‘½ä»¤è¡Œå·¥å…·

## å®‰è£…

```bash
pip install funserver
```

## å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•

FunServer æä¾›äº†ç»Ÿä¸€çš„å‘½ä»¤è¡Œæ¥å£æ¥ç®¡ç†æœåŠ¡å™¨ï¼š

```bash
# å¯åŠ¨æœåŠ¡å™¨
funserver start

# åœæ­¢æœåŠ¡å™¨
funserver stop

# é‡å¯æœåŠ¡å™¨
funserver restart

# æ›´æ–°æœåŠ¡å™¨
funserver update

# è¿è¡ŒæœåŠ¡å™¨ï¼ˆå‰å°è¿è¡Œï¼‰
funserver run
```

### OneHub æœåŠ¡å™¨ç®¡ç†

FunServer å†…ç½®äº†å¯¹ OneHubï¼ˆAPI ç½‘å…³ï¼‰çš„æ”¯æŒï¼š

```bash
# å®‰è£… OneHub
funonehub install

# å¯åŠ¨ OneHub æœåŠ¡
funonehub start

# åœæ­¢ OneHub æœåŠ¡
funonehub stop

# é‡å¯ OneHub æœåŠ¡
funonehub restart

# æ›´æ–° OneHub
funonehub update
```

## æ¶æ„è®¾è®¡

### æ ¸å¿ƒç»„ä»¶

1. **BaseServer** - æœåŠ¡å™¨åŸºç±»ï¼Œæä¾›æ ‡å‡†çš„æœåŠ¡å™¨ç®¡ç†åŠŸèƒ½
2. **BaseInstall** - å®‰è£…ç®¡ç†åŸºç±»ï¼Œæ”¯æŒè·¨å¹³å°å®‰è£…
3. **BaseStart** - å¯åŠ¨ç®¡ç†åŸºç±»ï¼Œå®šä¹‰æœåŠ¡å™¨å¯åŠ¨æ¥å£

### ç›®å½•ç»“æ„

```
src/funserver/
â”œâ”€â”€ servers/
â”‚   â”œâ”€â”€ base/           # åŸºç¡€æ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ base.py     # æœåŠ¡å™¨åŸºç±»
â”‚   â”‚   â”œâ”€â”€ install.py  # å®‰è£…ç®¡ç†
â”‚   â”‚   â””â”€â”€ start.py    # å¯åŠ¨ç®¡ç†
â”‚   â”œâ”€â”€ funjupyter/     # Jupyter æœåŠ¡å™¨æ”¯æŒ
â”‚   â””â”€â”€ onehub.py       # OneHub æœåŠ¡å™¨å®ç°
â””â”€â”€ __init__.py
```

## å¼€å‘è‡ªå®šä¹‰æœåŠ¡å™¨

### åˆ›å»ºè‡ªå®šä¹‰æœåŠ¡å™¨

ç»§æ‰¿ `BaseServer` ç±»æ¥åˆ›å»ºè‡ªå®šä¹‰æœåŠ¡å™¨ï¼š

```python
from funserver.servers.base.base import BaseServer, server_parser

class MyCustomServer(BaseServer):
    def __init__(self):
        super().__init__(server_name="mycustomserver")
    
    def run_cmd(self, *args, **kwargs):
        # è¿”å›å¯åŠ¨æœåŠ¡å™¨çš„å‘½ä»¤
        return "my-server --config config.yaml"
    
    def install_linux(self, *args, **kwargs):
        # Linux å®‰è£…é€»è¾‘
        return True
    
    def install_macos(self, *args, **kwargs):
        # macOS å®‰è£…é€»è¾‘
        return True
    
    def install_windows(self, *args, **kwargs):
        # Windows å®‰è£…é€»è¾‘
        return True
    
    def update(self, *args, **kwargs):
        # æ›´æ–°é€»è¾‘
        pass

def mycustomserver():
    app = server_parser(MyCustomServer())
    app()
```

### æ³¨å†Œå‘½ä»¤è¡Œå·¥å…·

åœ¨ `pyproject.toml` ä¸­æ·»åŠ è„šæœ¬å…¥å£ï¼š

```toml
[project.scripts]
mycustomserver = "mypackage.servers.custom:mycustomserver"
```

## API å‚è€ƒ

### BaseServer

ä¸»è¦æ–¹æ³•ï¼š

- `start()` - å¯åŠ¨æœåŠ¡å™¨ï¼ˆåå°è¿è¡Œï¼‰
- `stop()` - åœæ­¢æœåŠ¡å™¨
- `restart()` - é‡å¯æœåŠ¡å™¨
- `run()` - è¿è¡ŒæœåŠ¡å™¨ï¼ˆå‰å°è¿è¡Œï¼‰
- `update()` - æ›´æ–°æœåŠ¡å™¨
- `install()` - å®‰è£…æœåŠ¡å™¨
- `run_cmd()` - è¿”å›å¯åŠ¨å‘½ä»¤ï¼ˆéœ€è¦å­ç±»å®ç°ï¼‰

### é…ç½®

æœåŠ¡å™¨é…ç½®å’Œæ—¥å¿—æ–‡ä»¶é»˜è®¤å­˜å‚¨åœ¨ï¼š
- é…ç½®ç›®å½•ï¼š`~/.cache/servers/{server_name}/`
- æ—¥å¿—ç›®å½•ï¼š`~/.cache/servers/{server_name}/logs/`
- PID æ–‡ä»¶ï¼š`~/.cache/servers/{server_name}/run.pid`

## ä¾èµ–é¡¹

- `click>=8.1.8` - å‘½ä»¤è¡Œç•Œé¢
- `funbuild>=1.5.11` - æ„å»ºå·¥å…·
- `funutil>=1.0.50` - å®ç”¨å·¥å…·
- `psutil>=7.0.0` - è¿›ç¨‹ç®¡ç†
- `typer>=0.15.3` - ç°ä»£å‘½ä»¤è¡Œç•Œé¢

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ä½œè€…

- **ç‰›å“¥** - *åˆå§‹å·¥ä½œ* - [niuliangtao@qq.com](mailto:niuliangtao@qq.com)
- **farfarfun** - *ç»´æŠ¤è€…* - [farfarfun@qq.com](mailto:farfarfun@qq.com)

## é“¾æ¥

- [GitHub ç»„ç»‡](https://github.com/farfarfun)
- [é¡¹ç›®ä»“åº“](https://github.com/farfarfun/funserver)
- [å‘å¸ƒé¡µé¢](https://github.com/farfarfun/funserver/releases)

## æ›´æ–°æ—¥å¿—

### v1.0.52
- å½“å‰ç‰ˆæœ¬
- æ”¯æŒ OneHub æœåŠ¡å™¨ç®¡ç†
- å®Œå–„çš„è·¨å¹³å°å®‰è£…æ”¯æŒ
- æ”¹è¿›çš„æ—¥å¿—ç®¡ç†ç³»ç»Ÿ
