(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4808],{77213:function(e,t,i){"use strict";i.d(t,{Z:function(){return v}});var n=i(24246),l=i(96306),o=i(88038),r=i.n(o),a=i(86677);i(27378);var s=i(25980),d=i(90867),u=i(77830),c=()=>{let e=(0,a.useRouter)();return(0,n.jsx)(l.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,n.jsxs)(l.xuv,{children:[(0,n.jsxs)(l.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,n.jsx)(l.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,n.jsx)(l.wpx,{onClick:()=>{e.push(u.fz)},children:"Configure"})]}),(0,n.jsxs)(l.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},v=e=>{let{children:t,title:i,padded:o=!0,mainProps:u}=e,v=(0,s.hz)(),p=(0,a.useRouter)(),f="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,m=!(v.flags.privacyRequestsConfiguration&&f),{data:g}=(0,d.JE)(void 0,{skip:m}),{data:y}=(0,d.PW)(void 0,{skip:m}),h=v.flags.privacyRequestsConfiguration&&(!g||!y)&&f;return(0,n.jsxs)(l.kCb,{"data-testid":i,direction:"column",h:"100vh",children:[(0,n.jsxs)(r(),{children:[(0,n.jsxs)("title",{children:["Fides Admin UI - ",i]}),(0,n.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)(l.kCb,{as:"main",direction:"column",py:o?6:0,px:o?10:0,h:o?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...u,children:[h?(0,n.jsx)(c,{}):null,t]})]})}},79283:function(e,t,i){"use strict";i.d(t,{l:function(){return s}});var n=i(24246),l=i(96306),o=i(72707),r=i.n(o);let a=e=>{let{data:{formattedTitle:t,description:i,name:o,primaryName:r}}=e;return(0,n.jsxs)(l.jqI,{gap:12,title:"".concat(t," - ").concat(i),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:r||o}),r&&": ".concat(o)]}),(0,n.jsx)("em",{children:i})]})},s=e=>{let{options:t,...i}=e,o=null==t?void 0:t.map(e=>({...e,className:r().option,formattedTitle:[e.primaryName,e.name].filter(e=>e).join(": ")}));return(0,n.jsx)(l.WPr,{options:o,filterOption:(e,t)=>(null==t?void 0:t.formattedTitle.toLowerCase().includes(e.toLowerCase()))||(null==t?void 0:t.value.toLowerCase().includes(e.toLowerCase()))||!1,optionFilterProp:"label",autoFocus:!0,variant:"borderless",optionRender:a,styles:{popup:{root:{minWidth:"500px"}}},className:"w-full p-0","data-testid":"taxonomy-select",...i})}},71248:function(e,t,i){"use strict";i.d(t,{A:function(){return s}});var n=i(24246),l=i(34090),o=i(46782),r=i(97181),a=i(40324);let s=e=>{var t,i;let{name:s,fieldSchema:d,isRequired:u,layout:c="stacked",secretsSchema:v,validate:p}=e,f=(null===(i=d.allOf)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.$ref)&&d.allOf[0].$ref!==o.j?null==v?void 0:v.definitions[d.allOf[0].$ref.replace("#/definitions/","")]:void 0,m=!!(null==f?void 0:f.enum)||d.options,g="boolean"===d.type,y=()=>{var e;if((null===(e=d.allOf)||void 0===e?void 0:e[0].$ref)===o.j)return"Enter dataset.collection.field"};return(0,n.jsx)(l.gN,{id:s,name:s,validate:p,children:e=>{let{field:t}=e;if(m){var i,l,o;let e=null!==(o=null==f?void 0:null===(i=f.enum)||void 0===i?void 0:i.map(e=>({label:e,value:e})))&&void 0!==o?o:null===(l=d.options)||void 0===l?void 0:l.map(e=>({label:e,value:e}));return(0,n.jsx)(r.d,{name:t.name,id:t.name,label:d.title,isRequired:u,tooltip:d.description,layout:c,options:e,mode:d.multiselect?"multiple":void 0},t.name)}return g?(0,n.jsx)(r.d,{name:t.name,id:t.name,label:d.title,isRequired:u,tooltip:d.description,layout:c,options:[{label:"False",value:"false"},{label:"True",value:"true"}]},t.name):(0,n.jsx)(a.j0,{...t,label:d.title,tooltip:d.description,isRequired:u,type:d.sensitive?"password":"text",placeholder:y(),autoComplete:"off",color:"gray.700",variant:c})}},s)}},46782:function(e,t,i){"use strict";i.d(t,{j:function(){return o},l:function(){return r}});var n=i(30454),l=i.n(n);let o="#/definitions/FidesDatasetReference",r=e=>{let t=(e,t,i)=>{let n;return(void 0===t||""===t||void 0===t)&&(n="".concat(e," is required")),i===o&&((null==t?void 0:t.includes("."))?t.split(".").length<3&&(n="Dataset reference must include at least three parts"):n="Dataset reference must be dot delimited"),n},i=t=>{var i,n;return null!==(n=null==e?void 0:null===(i=e.required)||void 0===i?void 0:i.includes(t))&&void 0!==n&&n};return{validateField:t,isRequiredField:i,getFieldValidation:(e,n)=>{if(i(e))return e=>{var i;return t(n.title,e,null===(i=n.allOf)||void 0===i?void 0:i[0].$ref)}},preprocessValues:t=>{let i=l()(t);return e&&Object.keys(e.properties).forEach(t=>{var n,l;if((null===(n=e.properties[t].allOf)||void 0===n?void 0:n[0].$ref)===o){let e=null===(l=i.secrets[t])||void 0===l?void 0:l.split(".");e&&(i.secrets[t]={dataset:e.shift(),field:e.join("."),direction:"from"})}"WebsiteSchema"!==e.title||"URL"!==e.properties[t].title||i.secrets[t].startsWith("http://")||i.secrets[t].startsWith("https://")||(i.secrets[t]="https://".concat(i.secrets[t]))}),i}}}},34929:function(e,t,i){"use strict";var n=i(24246),l=i(64925),o=i.n(l),r=i(27378),a=i(16134),s=i(30002),d=i(28079),u=i(57072);let c=()=>{let{isLoading:e}=(0,d.fd)(),t=(0,a.C)(d.U3),{isLoading:i}=(0,u.MO)(),n=(0,a.C)(u.qb),{isLoading:l}=(0,s.te)();return{dataUses:t,dataSubjects:(0,a.C)(s.ZL),dataCategories:n,isLoading:e||i||l}};t.Z=()=>{let{dataUses:e,dataCategories:t,dataSubjects:i,isLoading:l}=c(),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.split(".").slice(0,t).join(".")},s=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t(e);if(!n)return{};let l=t(a(e,i)),o=!!n.parent_key;return{name:n.name||void 0,primaryName:o&&(null==l?void 0:l.name)!==n.name&&(null==l?void 0:l.name)||void 0}},d=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{name:l,primaryName:o}=s(e,t,i);return l?o?(0,n.jsxs)(r.Fragment,{children:[(0,n.jsxs)("strong",{children:[o,":"]})," ",l]},e):(0,n.jsx)("strong",{children:l},e):e},u=t=>o()(e,{fides_key:t}),v=e=>o()(t,{fides_key:e}),p=e=>o()(i,{fides_key:e});return{getDataUses:()=>e,getDataUseByKey:u,getDataUseDisplayName:e=>d(e,u,1),getDataUseDisplayNameProps:e=>s(e,u,1),getDataCategories:()=>t,getDataCategoryByKey:v,getDataCategoryDisplayName:e=>d(e,v,2),getDataCategoryDisplayNameProps:e=>s(e,v,2),getDataSubjects:()=>i,getDataSubjectByKey:p,getDataSubjectDisplayName:e=>{let t=p(e);return t?t.name:e},getPrimaryKey:a,isLoading:l}}},41337:function(e,t,i){"use strict";var n=i(24246),l=i(96306);i(27378);var o=i(88337),r=i(16394),a=i(14746);let s=a.Ny+a.iW.get(o.R.WEBSITE),d=e=>void 0!==e.connection_type,u=e=>void 0!==e.encoded_icon,c=e=>(null==e?void 0:e.connection_type)===o.R.WEBSITE,v=e=>(null==e?void 0:e.connection_type)===o.R.SAAS;t.Z=e=>{let{data:t,...i}=e;return(0,n.jsx)(l.Eep,{boxSize:"32px",objectFit:"cover",src:(()=>{var e,i;let n;if(u(t)&&t.encoded_icon)return"data:image/svg+xml;base64,".concat(t.encoded_icon);if(c(t)){let i=null===(e=t.secrets)||void 0===e?void 0:e.url;if(!i)return s;let n=(0,r.ge)(i);return(0,r.tl)(n,100)}if(d(t)){if(v(t)&&(null===(i=t.saas_config)||void 0===i?void 0:i.type)){let e=t.saas_config.type,i=a.LN.get(e);return i?a.Ny+i:a.Ny+a.iW.get(o.R.SAAS)}n=[...a.iW].find(e=>{let[i]=e;return t.connection_type.toString()===i.toString()})}else if(u(t)){let{identifier:e}=t;n=[...a.iW].find(t=>{let[i]=t;return i.toLowerCase()===e.toLowerCase()})}return n?a.Ny+n[1]:a.VD})(),fallbackSrc:c(t)?s:a.VD,alt:(()=>{if(d(t)){var e;return null!==(e=t.name)&&void 0!==e?e:t.key}return u(t)?t.human_readable:t})(),...i})}},19812:function(e,t,i){"use strict";i.d(t,{t:function(){return a}});var n=i(41841),l=i(14207),o=i(27378),r=i(41966);let a=e=>{var t,i,a;let{connectionConfig:s}=e,[d]=(0,l.S6)(),{data:u}=(0,l.Eg)(null!==(i=null==s?void 0:s.key)&&void 0!==i?i:""),c=null!==(a=null==u?void 0:null===(t=u.items)||void 0===t?void 0:t.map(e=>e.fides_key))&&void 0!==a?a:[],v=c.map(e=>({label:e,value:e})),{data:p}=(0,r.LH)({onlyUnlinkedDatasets:!0,minimal:!0}),f=(0,o.useMemo)(()=>{var e;return null!==(e=null==p?void 0:p.map(e=>({value:e.fides_key,label:"".concat(e.name," (").concat(e.fides_key,")")||0})))&&void 0!==e?e:[]},[p]),{errorAlert:m,successAlert:g}=(0,n.VY)();return{dropdownOptions:[...v,...f],initialDatasets:c,patchConnectionDatasetConfig:async function(e,t){var i,n,l;let{showSuccessAlert:o=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null!==(l=null===(i=e.dataset)||void 0===i?void 0:i.map(e=>({fides_key:e,ctl_dataset_fides_key:e})))&&void 0!==l?l:[],a=await d({connection_key:t,dataset_pairs:r}).unwrap();(null===(n=a.failed)||void 0===n?void 0:n.length)>0?m(a.failed[0].message):o&&g("Dataset successfully updated!")}}}},72707:function(e){e.exports={option:"TaxonomySelect_option__vY6v2"}}}]);