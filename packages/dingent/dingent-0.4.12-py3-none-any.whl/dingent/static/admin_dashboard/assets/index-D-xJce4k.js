import{R as l,v as S,j as d,w as M}from"./index-BRZ4tpHq.js";import{c as y}from"./index-Dcf_pfkZ.js";function P(s){const a=s+"CollectionProvider",[A,E]=y(a),[N,f]=A(a,{collectionRef:{current:null},itemMap:new Map}),p=c=>{const{scope:e,children:r}=c,t=l.useRef(null),o=l.useRef(new Map).current;return d.jsx(N,{scope:e,itemMap:o,collectionRef:t,children:r})};p.displayName=a;const m=s+"CollectionSlot",T=M(m),C=l.forwardRef((c,e)=>{const{scope:r,children:t}=c,o=f(m,r),n=S(e,o.collectionRef);return d.jsx(T,{ref:n,children:t})});C.displayName=m;const u=s+"CollectionItemSlot",R="data-radix-collection-item",v=M(u),x=l.forwardRef((c,e)=>{const{scope:r,children:t,...o}=c,n=l.useRef(null),I=S(e,n),i=f(u,r);return l.useEffect(()=>(i.itemMap.set(n,{ref:n,...o}),()=>void i.itemMap.delete(n))),d.jsx(v,{[R]:"",ref:I,children:t})});x.displayName=u;function O(c){const e=f(s+"CollectionConsumer",c);return l.useCallback(()=>{const t=e.collectionRef.current;if(!t)return[];const o=Array.from(t.querySelectorAll(`[${R}]`));return Array.from(e.itemMap.values()).sort((i,_)=>o.indexOf(i.ref.current)-o.indexOf(_.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:p,Slot:C,ItemSlot:x},O,E]}export{P as c};
