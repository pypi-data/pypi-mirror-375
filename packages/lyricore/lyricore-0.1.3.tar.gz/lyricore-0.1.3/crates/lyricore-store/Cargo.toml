[package]
name = "lyricore-store"
version.workspace = true
authors.workspace = true
edition.workspace = true
homepage.workspace = true
license.workspace = true
repository.workspace = true

[dependencies]
thiserror = "1.0"
bytes = "1.5"
memmap2 = { version = "0.9", optional = true }
tokio = { version = "1.0", features = ["sync", "rt-multi-thread", "time", "test-util", "macros"] }
futures = "0.3.31"
serde = { version = "1.0.219", features = ["derive"] }

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }
tempfile = "3.8"

[features]
default = ["mmap"]
mmap = ["memmap2"]

#[[bench]]
#name = "object_store_bench"
#harness = false

# [[bench]]
# name = "deadlock_bench"
# harness = false
