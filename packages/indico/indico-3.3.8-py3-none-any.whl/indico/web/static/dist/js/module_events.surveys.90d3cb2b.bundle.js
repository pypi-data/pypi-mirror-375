"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[4334],{7748:(e,t,s)=>{const i={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},n=8,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function r(e,t){return"number"==typeof e?e+t:e}function o(e){if("string"==typeof e){const t=/^(\d+)\s*(.*)$/g.exec(e);return{value:t?+t[1]:0,unit:(null==t?void 0:t[2])||void 0}}return{value:Number(e)}}function l(e){return String.fromCharCode(97+e%26)}const c=2221e-19;function h(e,t,s){return t/s.range*e}function d(e,t){const s=Math.pow(10,t||n);return Math.round(e*s)/s}function u(e,t,s,i){const n=(i-90)*Math.PI/180;return{x:e+s*Math.cos(n),y:t+s*Math.sin(n)}}function m(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n={high:t.high,low:t.low,valueRange:0,oom:0,step:0,min:0,max:0,range:0,numberOfSteps:0,values:[]};var a;n.valueRange=n.high-n.low,n.oom=(a=n.valueRange,Math.floor(Math.log(Math.abs(a))/Math.LN10)),n.step=Math.pow(10,n.oom),n.min=Math.floor(n.low/n.step)*n.step,n.max=Math.ceil(n.high/n.step)*n.step,n.range=n.max-n.min,n.numberOfSteps=Math.round(n.range/n.step);const r=h(e,n.step,n)<s,o=i?function(e){if(1===e)return e;function t(e,s){return e%s==0?s:t(s,e%s)}function s(e){return e*e+1}let i,n=2,a=2;if(e%2==0)return 2;do{n=s(n)%e,a=s(s(a))%e,i=t(Math.abs(n-a),e)}while(1===i);return i}(n.range):0;if(i&&h(e,1,n)>=s)n.step=1;else if(i&&o<n.step&&h(e,o,n)>=s)n.step=o;else{let t=0;for(;;){if(r&&h(e,n.step,n)<=s)n.step*=2;else{if(r||!(h(e,n.step/2,n)>=s))break;if(n.step/=2,i&&n.step%1!=0){n.step*=2;break}}if(t++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}function l(e,t){return e===(e+=t)&&(e*=1+(t>0?c:-c)),e}n.step=Math.max(n.step,c);let u=n.min,m=n.max;for(;u+n.step<=n.low;)u=l(u,n.step);for(;m-n.step>=n.high;)m=l(m,-n.step);n.min=u,n.max=m,n.range=n.max-n.min;const p=[];for(let e=n.min;e<=n.max;e=l(e,n.step)){const t=d(e);t!==p[p.length-1]&&p.push(t)}return n.values=p,n}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];for(let t=0;t<s.length;t++){const i=s[t];for(const t in i){const s=i[t];e[t]="object"!=typeof s||null===s||s instanceof Array?s:p(e[t],s)}}return e}const g=e=>e;function v(e,t){return Array.from({length:e},t?(e,s)=>t(s):()=>{})}const y=(e,t)=>e+(t||0);function f(e,t){return null!==e&&"object"==typeof e&&Reflect.has(e,t)}function x(e){return null!==e&&isFinite(e)}function b(e){return!e&&0!==e}function w(e){return x(e)?Number(e):void 0}function E(e,t){let s=0;e[arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"reduceRight":"reduce"](((e,i,n)=>t(i,s++,n)),void 0)}function _(e,t){const s=Array.isArray(e)?e[t]:f(e,"data")?e.data[t]:null;return f(s,"meta")?s.meta:void 0}function A(e){return null==e||"number"==typeof e&&isNaN(e)}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return function(e){return"object"==typeof e&&null!==e&&(Reflect.has(e,"x")||Reflect.has(e,"y"))}(e)&&f(e,t)?w(e[t]):w(e)}function M(e,t,s){const i={high:void 0===(t={...t,...s?"x"===s?t.axisX:t.axisY:{}}).high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},n=void 0===t.high,a=void 0===t.low;return(n||a)&&function e(t){if(!A(t))if(Array.isArray(t))for(let s=0;s<t.length;s++)e(t[s]);else{const e=Number(s&&f(t,s)?t[s]:t);n&&e>i.high&&(i.high=e),a&&e<i.low&&(i.low=e)}}(e),(t.referenceValue||0===t.referenceValue)&&(i.high=Math.max(t.referenceValue,i.high),i.low=Math.min(t.referenceValue,i.low)),i.high<=i.low&&(0===i.low?i.high=1:i.low<0?i.high=0:(i.high>0||(i.high=1),i.low=0)),i}function D(e){let t,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const a={labels:(e.labels||[]).slice(),series:O(e.series,i,n)},r=a.labels.length;return!function(e){return!!Array.isArray(e)&&e.every(Array.isArray)}(a.series)?t=a.series.length:(t=Math.max(r,...a.series.map((e=>e.length))),a.series.forEach((e=>{e.push(...v(Math.max(0,t-e.length)))}))),a.labels.push(...v(Math.max(0,t-r),(()=>""))),s&&function(e){var t;null===(t=e.labels)||void 0===t||t.reverse(),e.series.reverse();for(const t of e.series)f(t,"data")?t.data.reverse():Array.isArray(t)&&t.reverse()}(a),a}function I(e,t){if(!A(e))return t?function(e,t){let s,i;if("object"!=typeof e){const n=w(e);"x"===t?s=n:i=n}else f(e,"x")&&(s=w(e.x)),f(e,"y")&&(i=w(e.y));if(void 0!==s||void 0!==i)return{x:s,y:i}}(e,t):w(e)}function k(e,t){return Array.isArray(e)?e.map((e=>f(e,"value")?I(e.value,t):I(e,t))):k(e.data,t)}function O(e,t,s){if(i=e,Array.isArray(i)&&i.every((e=>Array.isArray(e)||f(e,"data"))))return e.map((e=>k(e,t)));var i;const n=k(e,t);return s?n.map((e=>[e])):n}function j(e){let t="";return null==e?e:(t="number"==typeof e?""+e:"object"==typeof e?JSON.stringify({data:e}):String(e),Object.keys(a).reduce(((e,t)=>e.replaceAll(t,a[t])),t))}class N{call(e,t){return this.svgElements.forEach((s=>Reflect.apply(s[e],s,t))),this}attr(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("attr",t)}elem(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("elem",t)}root(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("root",t)}getNode(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("getNode",t)}foreignObject(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("foreignObject",t)}text(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("text",t)}empty(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("empty",t)}remove(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("remove",t)}addClass(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("addClass",t)}removeClass(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("removeClass",t)}removeAllClasses(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("removeAllClasses",t)}animate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("animate",t)}constructor(e){this.svgElements=[];for(let t=0;t<e.length;t++)this.svgElements.push(new B(e[t]))}}const S={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function L(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4?arguments[4]:void 0;const{easing:a,...l}=s,c={};let h,d;a&&(h=Array.isArray(a)?a:S[a]),l.begin=r(l.begin,"ms"),l.dur=r(l.dur,"ms"),h&&(l.calcMode="spline",l.keySplines=h.join(" "),l.keyTimes="0;1"),i&&(l.fill="freeze",c[t]=l.from,e.attr(c),d=o(l.begin||0).value,l.begin="indefinite");const u=e.elem("animate",{attributeName:t,...l});i&&setTimeout((()=>{try{u._node.beginElement()}catch(s){c[t]=l.to,e.attr(c),u.remove()}}),d);const m=u.getNode();n&&m.addEventListener("beginEvent",(()=>n.emit("animationBegin",{element:e,animate:m,params:s}))),m.addEventListener("endEvent",(()=>{n&&n.emit("animationEnd",{element:e,animate:m,params:s}),i&&(c[t]=l.to,e.attr(c),u.remove())}))}class B{attr(e,t){return"string"==typeof e?t?this._node.getAttributeNS(t,e):this._node.getAttribute(e):(Object.keys(e).forEach((t=>{if(void 0!==e[t])if(-1!==t.indexOf(":")){const s=t.split(":");this._node.setAttributeNS(i[s[0]],t,String(e[t]))}else this._node.setAttribute(t,String(e[t]))})),this)}elem(e,t,s){return new B(e,t,s,this,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}parent(){return this._node.parentNode instanceof SVGElement?new B(this._node.parentNode):null}root(){let e=this._node;for(;"svg"!==e.nodeName&&e.parentElement;)e=e.parentElement;return new B(e)}querySelector(e){const t=this._node.querySelector(e);return t?new B(t):null}querySelectorAll(e){const t=this._node.querySelectorAll(e);return new N(t)}getNode(){return this._node}foreignObject(e,t,s){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,n=t.firstChild}else n=e;n instanceof Element&&n.setAttribute("xmlns",i.xmlns);const r=this.elem("foreignObject",t,s,a);return r._node.appendChild(n),r}text(e){return this._node.appendChild(document.createTextNode(e)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var e;return null===(e=this._node.parentNode)||void 0===e||e.removeChild(this._node),this.parent()}replace(e){var t;return null===(t=this._node.parentNode)||void 0===t||t.replaceChild(e._node,this._node),e}append(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}classes(){const e=this._node.getAttribute("class");return e?e.trim().split(/\s+/):[]}addClass(e){return this._node.setAttribute("class",this.classes().concat(e.trim().split(/\s+/)).filter((function(e,t,s){return s.indexOf(e)===t})).join(" ")),this}removeClass(e){const t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter((e=>-1===t.indexOf(e))).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.getBoundingClientRect().height}width(){return this._node.getBoundingClientRect().width}animate(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2?arguments[2]:void 0;return Object.keys(e).forEach((i=>{const n=e[i];Array.isArray(n)?n.forEach((e=>L(this,i,e,!1,s))):L(this,i,n,t,s)})),this}constructor(e,t,s,n,a=!1){e instanceof Element?this._node=e:(this._node=document.createElementNS(i.svg,e),"svg"===e&&this.attr({"xmlns:ct":i.ct})),t&&this.attr(t),s&&this.addClass(s),n&&(a&&n._node.firstChild?n._node.insertBefore(this._node,n._node.firstChild):n._node.appendChild(this._node))}}function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",n=arguments.length>3?arguments[3]:void 0;Array.from(e.querySelectorAll("svg")).filter((e=>e.getAttributeNS(i.xmlns,"ct"))).forEach((t=>e.removeChild(t)));const a=new B("svg").attr({width:t,height:s}).attr({style:"width: ".concat(t,"; height: ").concat(s,";")});return n&&a.addClass(n),e.appendChild(a.getNode()),a}function R(e,t){var s,i,n,a;const r=Boolean(t.axisX||t.axisY),l=(null===(s=t.axisY)||void 0===s?void 0:s.offset)||0,c=(null===(i=t.axisX)||void 0===i?void 0:i.offset)||0,h=null===(n=t.axisY)||void 0===n?void 0:n.position,d=null===(a=t.axisX)||void 0===a?void 0:a.position;let u=e.width()||o(t.width).value||0,m=e.height()||o(t.height).value||0;const p="number"==typeof(g=t.chartPadding)?{top:g,right:g,bottom:g,left:g}:void 0===g?{top:0,right:0,bottom:0,left:0}:{top:"number"==typeof g.top?g.top:0,right:"number"==typeof g.right?g.right:0,bottom:"number"==typeof g.bottom?g.bottom:0,left:"number"==typeof g.left?g.left:0};var g;u=Math.max(u,l+p.left+p.right),m=Math.max(m,c+p.top+p.bottom);const v={x1:0,x2:0,y1:0,y2:0,padding:p,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return r?("start"===d?(v.y2=p.top+c,v.y1=Math.max(m-p.bottom,v.y2+1)):(v.y2=p.top,v.y1=Math.max(m-p.bottom-c,v.y2+1)),"start"===h?(v.x1=p.left+l,v.x2=Math.max(u-p.right,v.x1+1)):(v.x1=p.left,v.x2=Math.max(u-p.right-l,v.x1+1))):(v.x1=p.left,v.x2=Math.max(u-p.right,v.x1+1),v.y2=p.top,v.y1=Math.max(m-p.bottom,v.y2+1)),v}function T(e,t,s,i){const n=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},s,!0);i.emit("draw",{type:"gridBackground",group:e,element:n})}function U(e,t,s){let i;const n=[];function a(n){const a=i;i=p({},e),t&&t.forEach((e=>{window.matchMedia(e[0]).matches&&(i=p(i,e[1]))})),s&&n&&s.emit("optionsChanged",{previousOptions:a,currentOptions:i})}if(!window.matchMedia)throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return t&&t.forEach((e=>{const t=window.matchMedia(e[0]);t.addEventListener("change",a),n.push(t)})),a(),{removeMediaQueryListeners:function(){n.forEach((e=>e.removeEventListener("change",a)))},getCurrentOptions:()=>i}}B.Easing=S;const V={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},q={accuracy:3};function P(e,t,s,i,n,a){const r={command:n?e.toLowerCase():e.toUpperCase(),...t,...a?{data:a}:{}};s.splice(i,0,r)}function X(e,t){e.forEach(((s,i)=>{V[s.command.toLowerCase()].forEach(((n,a)=>{t(s,n,i,a,e)}))}))}class Y{static join(e){const t=new Y(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);for(let s=0;s<e.length;s++){const i=e[s];for(let e=0;e<i.pathElements.length;e++)t.pathElements.push(i.pathElements[e])}return t}position(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}remove(e){return this.pathElements.splice(this.pos,e),this}move(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return P("M",{x:+e,y:+t},this.pathElements,this.pos++,s,i),this}line(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return P("L",{x:+e,y:+t},this.pathElements,this.pos++,s,i),this}curve(e,t,s,i,n,a){let r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0;return P("C",{x1:+e,y1:+t,x2:+s,y2:+i,x:+n,y:+a},this.pathElements,this.pos++,r,o),this}arc(e,t,s,i,n,a,r){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;return P("A",{rx:e,ry:t,xAr:s,lAf:i,sf:n,x:a,y:r},this.pathElements,this.pos++,o,l),this}parse(e){const t=e.replace(/([A-Za-z])(-?[0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(((e,t)=>(t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e)),[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();const s=t.map((e=>{const t=e.shift(),s=V[t.toLowerCase()];return{command:t,...s.reduce(((t,s,i)=>(t[s]=+e[i],t)),{})}}));return this.pathElements.splice(this.pos,0,...s),this.pos+=s.length,this}stringify(){const e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(((t,s)=>{const i=V[s.command.toLowerCase()].map((t=>{const i=s[t];return this.options.accuracy?Math.round(i*e)/e:i}));return t+s.command+i.join(",")}),"")+(this.close?"Z":"")}scale(e,t){return X(this.pathElements,((s,i)=>{s[i]*="x"===i[0]?e:t})),this}translate(e,t){return X(this.pathElements,((s,i)=>{s[i]+="x"===i[0]?e:t})),this}transform(e){return X(this.pathElements,((t,s,i,n,a)=>{const r=e(t,s,i,n,a);(r||0===r)&&(t[s]=r)})),this}clone(){const e=new Y(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map((e=>({...e}))),e.options={...this.options},e}splitByCommand(e){const t=[new Y];return this.pathElements.forEach((s=>{s.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new Y),t[t.length-1].pathElements.push(s)})),t}constructor(e=!1,t){this.close=e,this.pathElements=[],this.pos=0,this.options={...q,...t}}}class Q{on(e,t){const{allListeners:s,listeners:i}=this;"*"===e?s.add(t):(i.has(e)||i.set(e,new Set),i.get(e).add(t))}off(e,t){const{allListeners:s,listeners:i}=this;if("*"===e)t?s.delete(t):s.clear();else if(i.has(e)){const s=i.get(e);t?s.delete(t):s.clear(),s.size||i.delete(e)}}emit(e,t){const{allListeners:s,listeners:i}=this;i.has(e)&&i.get(e).forEach((e=>e(t))),s.forEach((s=>s(e,t)))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const F=new WeakMap;class G{update(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i;(e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),t)&&(this.options=p({},s?this.options:this.defaultOptions,t),this.initializeTimeoutId||(null===(i=this.optionsProvider)||void 0===i||i.removeMediaQueryListeners(),this.optionsProvider=U(this.options,this.responsiveOptions,this.eventEmitter)));return!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){var e;this.initializeTimeoutId?window.clearTimeout(this.initializeTimeoutId):(window.removeEventListener("resize",this.resizeListener),null===(e=this.optionsProvider)||void 0===e||e.removeMediaQueryListeners());return F.delete(this.container),this}on(e,t){return this.eventEmitter.on(e,t),this}off(e,t){return this.eventEmitter.off(e,t),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=U(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",(()=>this.update())),this.options.plugins&&this.options.plugins.forEach((e=>{Array.isArray(e)?e[0](this,e[1]):e(this)})),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(e,t,s,i,n){this.data=t,this.defaultOptions=s,this.options=i,this.responsiveOptions=n,this.eventEmitter=new Q,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout((()=>this.initialize()),0);const a="string"==typeof e?document.querySelector(e):e;if(!a)throw new Error("Target element is not found");this.container=a;const r=F.get(a);r&&r.detach(),F.set(a,this)}}const W={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};class Z{createGridAndLabels(e,t,s,i){const n="x"===this.units.pos?s.axisX:s.axisY,a=this.ticks.map(((e,t)=>this.projectValue(e,t))),r=this.ticks.map(n.labelInterpolationFnc);a.forEach(((o,l)=>{const c=r[l],h={x:0,y:0};let d;d=a[l+1]?a[l+1]-o:Math.max(this.axisLength-o,this.axisLength/this.ticks.length),""!==c&&b(c)||("x"===this.units.pos?(o=this.chartRect.x1+o,h.x=s.axisX.labelOffset.x,"start"===s.axisX.position?h.y=this.chartRect.padding.top+s.axisX.labelOffset.y+5:h.y=this.chartRect.y1+s.axisX.labelOffset.y+5):(o=this.chartRect.y1-o,h.y=s.axisY.labelOffset.y-d,"start"===s.axisY.position?h.x=this.chartRect.padding.left+s.axisY.labelOffset.x:h.x=this.chartRect.x2+s.axisY.labelOffset.x+10),n.showGrid&&function(e,t,s,i,n,a,r,o){const l={["".concat(s.units.pos,"1")]:e,["".concat(s.units.pos,"2")]:e,["".concat(s.counterUnits.pos,"1")]:i,["".concat(s.counterUnits.pos,"2")]:i+n},c=a.elem("line",l,r.join(" "));o.emit("draw",{type:"grid",axis:s,index:t,group:a,element:c,...l})}(o,l,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[s.classNames.grid,s.classNames[this.units.dir]],i),n.showLabel&&function(e,t,s,i,n,a,r,o,l,c){const h={[n.units.pos]:e+r[n.units.pos],[n.counterUnits.pos]:r[n.counterUnits.pos],[n.units.len]:t,[n.counterUnits.len]:Math.max(0,a-10)},d=Math.round(h[n.units.len]),u=Math.round(h[n.counterUnits.len]),m=document.createElement("span");m.className=l.join(" "),m.style[n.units.len]=d+"px",m.style[n.counterUnits.len]=u+"px",m.textContent=String(i);const p=o.foreignObject(m,{style:"overflow: visible;",...h});c.emit("draw",{type:"label",axis:n,index:s,group:o,element:p,text:i,...h})}(o,d,l,c,this,n.offset,h,t,[s.classNames.label,s.classNames[this.units.dir],"start"===n.position?s.classNames[n.position]:s.classNames.end],i))}))}constructor(e,t,s){this.units=e,this.chartRect=t,this.ticks=s,this.counterUnits=e===W.x?W.y:W.x,this.axisLength=t[this.units.rectEnd]-t[this.units.rectStart],this.gridOffset=t[this.units.rectOffset]}}class H extends Z{projectValue(e){const t=Number(C(e,this.units.pos));return this.axisLength*(t-this.bounds.min)/this.bounds.range}constructor(e,t,s,i){const n=i.highLow||M(t,i,e.pos),a=m(s[e.rectEnd]-s[e.rectStart],n,i.scaleMinSpace||20,i.onlyInteger),r={min:a.min,max:a.max};super(e,s,a.values),this.bounds=a,this.range=r}}class J extends Z{projectValue(e,t){return this.stepLength*t}constructor(e,t,s,i){const n=i.ticks||[];super(e,s,n);const a=Math.max(1,n.length-(i.stretch?1:0));this.stepLength=this.axisLength/a,this.stretch=Boolean(i.stretch)}}function K(e){return t=e,s=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Array.from(t).reduce(((e,t)=>({x:e.x+(f(t,"x")?t.x:0),y:e.y+(f(t,"y")?t.y:0)})),{x:0,y:0})},v(Math.max(...t.map((e=>e.length))),(e=>s(...t.map((t=>t[e])))));var t,s}const ee={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:g,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:g,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};class te extends G{createChart(e){const{data:t}=this,s=D(t,e.reverseData,e.horizontalBars?"x":"y",!0),i=z(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:"")),n=e.stackBars&&!0!==e.stackMode&&s.series.length?M([K(s.series)],e,e.horizontalBars?"x":"y"):M(s.series,e,e.horizontalBars?"x":"y");this.svg=i;const a=i.elem("g").addClass(e.classNames.gridGroup),r=i.elem("g"),o=i.elem("g").addClass(e.classNames.labelGroup);"number"==typeof e.high&&(n.high=e.high),"number"==typeof e.low&&(n.low=e.low);const c=R(i,e);let h;const d=e.distributeSeries&&e.stackBars?s.labels.slice(0,1):s.labels;let u,m,p;e.horizontalBars?(h=m=void 0===e.axisX.type?new H(W.x,s.series,c,{...e.axisX,highLow:n,referenceValue:0}):new e.axisX.type(W.x,s.series,c,{...e.axisX,highLow:n,referenceValue:0}),u=p=void 0===e.axisY.type?new J(W.y,s.series,c,{ticks:d}):new e.axisY.type(W.y,s.series,c,e.axisY)):(u=m=void 0===e.axisX.type?new J(W.x,s.series,c,{ticks:d}):new e.axisX.type(W.x,s.series,c,e.axisX),h=p=void 0===e.axisY.type?new H(W.y,s.series,c,{...e.axisY,highLow:n,referenceValue:0}):new e.axisY.type(W.y,s.series,c,{...e.axisY,highLow:n,referenceValue:0}));const g=e.horizontalBars?c.x1+h.projectValue(0):c.y1-h.projectValue(0),v="accumulate"===e.stackMode,y="accumulate-relative"===e.stackMode,b=[],w=[];let A=b;u.createGridAndLabels(a,o,e,this.eventEmitter),h.createGridAndLabels(a,o,e,this.eventEmitter),e.showGridBackground&&T(a,c,e.classNames.gridBackground,this.eventEmitter),E(t.series,((i,n)=>{const a=n-(t.series.length-1)/2;let o;o=e.distributeSeries&&!e.stackBars?u.axisLength/s.series.length/2:e.distributeSeries&&e.stackBars?u.axisLength/2:u.axisLength/s.series[n].length/2;const d=r.elem("g"),E=f(i,"name")&&i.name,C=f(i,"className")&&i.className,M=f(i,"meta")?i.meta:void 0;E&&d.attr({"ct:series-name":E}),M&&d.attr({"ct:meta":j(M)}),d.addClass([e.classNames.series,C||"".concat(e.classNames.series,"-").concat(l(n))].join(" ")),s.series[n].forEach(((t,r)=>{const l=f(t,"x")&&t.x,E=f(t,"y")&&t.y;let C,M;C=e.distributeSeries&&!e.stackBars?n:e.distributeSeries&&e.stackBars?0:r,M=e.horizontalBars?{x:c.x1+h.projectValue(l||0,r,s.series[n]),y:c.y1-u.projectValue(E||0,C,s.series[n])}:{x:c.x1+u.projectValue(l||0,C,s.series[n]),y:c.y1-h.projectValue(E||0,r,s.series[n])},u instanceof J&&(u.stretch||(M[u.units.pos]+=o*(e.horizontalBars?-1:1)),M[u.units.pos]+=e.stackBars||e.distributeSeries?0:a*e.seriesBarDistance*(e.horizontalBars?-1:1)),y&&(A=E>=0||l>=0?b:w);const D=A[r]||g;if(A[r]=D-(g-M[u.counterUnits.pos]),void 0===t)return;const I={["".concat(u.units.pos,"1")]:M[u.units.pos],["".concat(u.units.pos,"2")]:M[u.units.pos]};e.stackBars&&(v||y||!e.stackMode)?(I["".concat(u.counterUnits.pos,"1")]=D,I["".concat(u.counterUnits.pos,"2")]=A[r]):(I["".concat(u.counterUnits.pos,"1")]=g,I["".concat(u.counterUnits.pos,"2")]=M[u.counterUnits.pos]),I.x1=Math.min(Math.max(I.x1,c.x1),c.x2),I.x2=Math.min(Math.max(I.x2,c.x1),c.x2),I.y1=Math.min(Math.max(I.y1,c.y2),c.y1),I.y2=Math.min(Math.max(I.y2,c.y2),c.y1);const k=_(i,r),$=d.elem("line",I,e.classNames.bar).attr({"ct:value":[l,E].filter(x).join(","),"ct:meta":j(k)});this.eventEmitter.emit("draw",{type:"bar",value:t,index:r,meta:k,series:i,seriesIndex:n,axisX:m,axisY:p,chartRect:c,group:d,element:$,...I})}))}),e.reverseData),this.eventEmitter.emit("created",{chartRect:c,axisX:m,axisY:p,svg:i,options:e})}constructor(e,t,s,i){super(e,t,ee,p({},ee,s),i),this.data=t}}const se={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:g,labelDirection:"neutral",ignoreEmptyValues:!1};function ie(e,t,s){const i=t.x>e.x;return i&&"explode"===s||!i&&"implode"===s?"start":i&&"implode"===s||!i&&"explode"===s?"end":"middle"}class ne extends G{createChart(e){const{data:t}=this,s=D(t),i=[];let n,a,r=e.startAngle;const c=z(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie);this.svg=c;const h=R(c,e);let d=Math.min(h.width()/2,h.height()/2);const m=e.total||s.series.reduce(y,0),p=o(e.donutWidth);"%"===p.unit&&(p.value*=d/100),d-=e.donut?p.value/2:0,a="outside"===e.labelPosition||e.donut?d:"center"===e.labelPosition?0:d/2,e.labelOffset&&(a+=e.labelOffset);const g={x:h.x1+h.width()/2,y:h.y2+h.height()/2},v=1===t.series.filter((e=>f(e,"value")?0!==e.value:0!==e)).length;t.series.forEach(((e,t)=>i[t]=c.elem("g"))),e.showLabel&&(n=c.elem("g")),t.series.forEach(((o,c)=>{var y,x;if(0===s.series[c]&&e.ignoreEmptyValues)return;const w=f(o,"name")&&o.name,E=f(o,"className")&&o.className,_=f(o,"meta")?o.meta:void 0;w&&i[c].attr({"ct:series-name":w}),i[c].addClass([null===(y=e.classNames)||void 0===y?void 0:y.series,E||"".concat(null===(x=e.classNames)||void 0===x?void 0:x.series,"-").concat(l(c))].join(" "));let A=m>0?r+s.series[c]/m*360:0;const C=Math.max(0,r-(0===c||v?0:.2));A-C>=359.99&&(A=C+359.99);const M=u(g.x,g.y,d,C),D=u(g.x,g.y,d,A),I=new Y(!e.donut).move(D.x,D.y).arc(d,d,0,Number(A-r>180),0,M.x,M.y);e.donut||I.line(g.x,g.y);const k=i[c].elem("path",{d:I.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(k.attr({"ct:value":s.series[c],"ct:meta":j(_)}),e.donut&&k.attr({style:"stroke-width: "+p.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:s.series[c],totalDataSum:m,index:c,meta:_,series:o,group:i[c],element:k,path:I.clone(),center:g,radius:d,startAngle:r,endAngle:A,chartRect:h}),e.showLabel){let i,l;i=1===t.series.length?{x:g.x,y:g.y}:u(g.x,g.y,a,r+(A-r)/2),l=s.labels&&!b(s.labels[c])?s.labels[c]:s.series[c];const d=e.labelInterpolationFnc(l,c);if(d||0===d){const t=n.elem("text",{dx:i.x,dy:i.y,"text-anchor":ie(g,i,e.labelDirection)},e.classNames.label).text(String(d));this.eventEmitter.emit("draw",{type:"label",index:c,group:n,element:t,text:""+d,chartRect:h,series:o,meta:_,...i})}}r=A})),this.eventEmitter.emit("created",{chartRect:h,svg:c,options:e})}constructor(e,t,s,i){super(e,t,se,p({},se,s),i),this.data=t}}var ae=s(86326),re=s(35623),oe=s(97598),le=s.n(oe),ce=s(96478),he=s(29079),de=s(99323),ue=s(23507),me=s(85218),pe=s(46145),ge=s(29481),ve=s(49528),ye=s(33864);const fe=he.default.bind(null,{endpoint:"surveys.email_survey_metadata",rules:[{args:["event_id","survey_id"],converters:{event_id:"IntegerConverter",survey_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"surveys",isDynamic:!1},{data:"/",isDynamic:!1},{data:"survey_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"email",isDynamic:!1},{data:"/",isDynamic:!1},{data:"metadata",isDynamic:!1}]}]},"/"),xe=he.default.bind(null,{endpoint:"surveys.email_survey_preview",rules:[{args:["event_id","survey_id"],converters:{event_id:"IntegerConverter",survey_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"surveys",isDynamic:!1},{data:"/",isDynamic:!1},{data:"survey_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"email",isDynamic:!1},{data:"/",isDynamic:!1},{data:"preview",isDynamic:!1}]}]},"/"),be=he.default.bind(null,{endpoint:"surveys.email_survey_send",rules:[{args:["event_id","survey_id"],converters:{event_id:"IntegerConverter",survey_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"surveys",isDynamic:!1},{data:"/",isDynamic:!1},{data:"survey_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"email",isDynamic:!1},{data:"/",isDynamic:!1},{data:"send",isDynamic:!1}]}]},"/");function we({eventId:e,surveyId:t,onClose:s}){const[i,n]=(0,ae.useState)(0),{data:a,loading:r}=(0,ge.Ku)({url:fe({event_id:e,survey_id:t}),method:"POST"}),{senders:o=[],subject:l,body:c,placeholders:h=[]}=a||{};return r?ae.createElement(de.A,{active:!0,page:!0,inverted:!0},ae.createElement(ue.A,null)):ae.createElement(ye.V,{onSubmit:async i=>{let a;try{a=await ve.indicoAxios.post(be({event_id:e,survey_id:t}),i)}catch(e){return(0,pe.handleSubmitError)(e)}n(a.data.count),setTimeout((()=>s()),5e3)},onClose:s,senders:o,recipientsField:ae.createElement(ae.Fragment,null,ae.createElement(me.FinalEmailList,{name:"recipients_addresses",label:ce.Translate.string("Recipients addresses"),description:ce.Translate.string("Send email to every address in this list"),hideValidationError:"never"}),ae.createElement(pe.FinalCheckbox,{name:"email_all_participants",label:ce.Translate.string("Send email to all event participants"),showAsToggle:!0})),previewURL:xe({event_id:e,survey_id:t}),placeholders:h,initialFormValues:{subject:l,body:c,recipients_addresses:[],email_all_participants:!1},sentEmailsCount:i,validate:e=>{if(!e.email_all_participants&&!e.recipients_addresses.length)return{recipients_addresses:ce.Translate.string("You must choose at least one recipient")}}})}function Ee({eventId:e,surveyId:t,surveyActive:s}){const[i,n]=(0,ae.useState)(!1);return ae.createElement(ae.Fragment,null,ae.createElement("button",{type:"button",className:"i-button icon-mail",disabled:!s,onClick:()=>n(!0)},ae.createElement(ce.Translate,null,"Email")),i&&ae.createElement(we,{eventId:e,surveyId:t,onClose:()=>n(!1)}))}we.propTypes={eventId:le().number.isRequired,surveyId:le().number.isRequired,onClose:le().func.isRequired},Ee.propTypes={eventId:le().number.isRequired,surveyId:le().number.isRequired,surveyActive:le().bool.isRequired},function(e){function t(e){$("#survey-questionnaire-preview").sortable("destroy").html(e.questionnaire),$(".js-add-question-dropdown").parent().dropdown({selector:".js-add-question-dropdown"}),setupQuestionnaireSorter()}$(document).ready((()=>{$(".js-survey-schedule-dialog").on("click",(function(e){e.preventDefault(),ajaxDialog({url:build_url($(this).data("href")),title:$(this).data("title"),onClose(e){e&&location.reload()}})})),$("#survey-results .survey-pie-chart").each(((e,t)=>{const s=new ne(t,{labels:$(t).data("labels"),series:$(t).data("series-relative")},{donut:!0,donutWidth:20,startAngle:270,total:1,chartPadding:20,labelOffset:20,labelDirection:"explode"}).on("draw",(e=>{0===e.value&&(s.data.labels[e.index]="")}))})),$("#survey-results .survey-bar-chart").each(((e,t)=>{const s=$(t).data("labels"),i=20*s.length,n=$(t).parents(".i-box-content").outerHeight();new te(t,{labels:s,series:[$(t).data("series-absolute")]},{horizontalBars:!0,height:`${Math.max(i,n)}px`,reverseData:!0,axisX:{onlyInteger:!0},axisY:{offset:50}})})),function(){function e(){$("#delete-submissions").prop("disabled",!$("li.submission-row").length),$(".js-export-submissions").toggleClass("disabled",!$("li.submission-row").length),$("#delete-submissions").prop("disabled",!$(".submission-ids:checked").length)}$("#select-all").on("click",(()=>{$("#submission-list input:checkbox").prop("checked",!0).trigger("change")})),$("#select-none").on("click",(()=>{$("#submission-list input:checkbox").prop("checked",!1).trigger("change")})),$(".js-export-submissions").on("click",(function(){const e=$(this),t=$("<form>",{method:"POST",action:e.data("href")});$(".submission-ids:checked").each((function(){$("<input>",{type:"hidden",name:"submission_ids",value:this.value}).appendTo(t)})),t.appendTo("body").submit(),t.remove()})),$(".js-delete-submission").on("indico:confirmed",(function(t){t.preventDefault();const s=$(this);$.ajax({url:s.data("href"),method:s.data("method"),data:{submission_ids:s.data("submission-id")},complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError,success(){s.closest(".submission-row").remove(),e()}})})),$("#delete-submissions").on("indico:confirmed",(function(t){t.preventDefault();const s=$(this),i=$(".submission-ids:checked").map((function(){return $(this).val()})).get();$.ajax({url:s.data("href"),method:s.data("method"),data:{submission_ids:i},complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError,success(){$(".submission-ids:checked").closest(".submission-row").remove(),e()}})})),$(".submission-ids").change((()=>{$("#delete-submissions").prop("disabled",!$(".submission-ids:checked").length)}))}()})),e.setupQuestionnaireWindows=function(){$(".page-content").on("click",".js-survey-item-dialog",(function(e){e.preventDefault(),ajaxDialog({trigger:this,url:$(this).data("href"),title:$(this).data("title"),onClose(e){e&&t(e)}})})).on("indico:confirmed",".js-delete-item",(function(e){e.preventDefault();const s=$(this);$.ajax({url:s.data("href"),method:s.data("method"),complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError,success(e){t(e),handleFlashes(e,!0,$("#survey-questionnaire-preview"))}})})),$(".js-add-question-dropdown").parent().dropdown({selector:".js-add-question-dropdown"})},e.setupQuestionnaireSorter=function(){const e=$("#survey-questionnaire-preview");function t(t,s){$.ajax({url:e.data("sort-url"),method:"POST",data:$.extend({mode:t},s),complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError})}e.sortable({items:".js-sortable-survey-section",handle:".ui-i-box-sortable-handle",placeholder:"i-box-sortable-placeholder",tolerance:"pointer",distance:10,axis:"y",start(e,t){t.placeholder.height(t.helper.outerHeight())},update(){t("sections",{section_ids:e.find(".js-sortable-survey-section").map((function(){return $(this).data("sectionId")})).get()})}}),e.find(".js-sortable-survey-items").sortable({items:".survey-item",handle:".js-sort-handle",connectWith:"#survey-questionnaire-preview .js-sortable-survey-items",tolerance:"pointer",distance:10,axis:"y",start(){const e=$(this);e.css("min-height",e.height())},stop(){$(this).css("min-height","")},update(e,s){const i=$(this);if(this!==s.item.parent()[0])return;t("items",{item_ids:i.find(".survey-item").map((function(){return $(this).data("itemId")})).get(),section_id:i.closest("[data-section-id]").data("sectionId")})},receive(){$(this).removeClass("empty")},remove(){const e=$(this);e.toggleClass("empty",!e.find("li:not(.empty-msg)").length)}})},e.setupEmailSurveyParticipantsButton=function(e){const t=document.querySelector(e),{eventId:s,surveyId:i,surveyActive:n}=t.dataset;re.render(ae.createElement(Ee,{eventId:+s,surveyId:+i,surveyActive:void 0!==n}),t)}}(window)}},e=>{e.O(0,[4644,4394,2076],(()=>{return t=7748,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=module_events.surveys.90d3cb2b.bundle.js.map