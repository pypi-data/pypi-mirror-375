{"version":3,"file":"js/module_rb.event.2a3d9797.bundle.js","mappings":"2HAKA,MAAAA,EAAAC,EAAAA,QAAAC,KAAA,MAAAC,SAAA,iBAAAC,MAAA,EAAAC,KAAA,SAAAC,WAAA,CAAAC,KAAA,iBAAAC,SAAA,GAAAC,MAAA,EAAAC,KAAA,IAAAC,WAAA,IAAAD,KAAA,IAAAC,WAAA,IAAAD,KAAA,QAAAC,WAAA,IAAAD,KAAA,IAAAC,WAAA,IAAAD,KAAA,OAAAC,WAAA,MAAAN,KAAA,GAAAC,WAAA,GAAAE,SAAA,GAAAC,MAAA,EAAAC,KAAA,IAAAC,WAAA,IAAAD,KAAA,IAAAC,WAAA,IAAAD,KAAA,QAAAC,WAAA,IAAAD,KAAA,IAAAC,WAAA,YAMAC,EAAEC,UAAUC,OAAM,KAChBF,EAAE,2CAA2CG,GAAG,UAAUC,IACxD,MAAMC,EAAUL,EAAEI,EAAEE,eACdC,EAAkBF,EAAQG,QAAQ,qBAClCC,EAAWJ,EAAQK,MACnBC,EAAWJ,EAAgBK,KAAK,gBAChCC,EAAWR,EAAQP,KAAK,aAC9B,IAAIgB,EAAS,CAAC,EACd,GAAIL,EAAU,CACZ,MAAMM,EAASR,EAAgBT,KAAK,UAAUW,GAC9CK,EAAS,CACPE,UAAWH,EACXI,QAASR,EACTS,WAAY,SACZC,OAAQ,EACRC,SAAU,OACVC,IAAIC,EAAAA,EAAAA,eAAcP,EAAOQ,UACzBC,IAAIC,EAAAA,EAAAA,eAAcV,EAAOQ,UACzBG,IAAID,EAAAA,EAAAA,eAAcV,EAAOY,QAE7B,CACAhB,EAASiB,YAAY,YAAanB,GAAUoB,KAAK,OAAQzC,EAAM,CAACO,KAAM,UAAWmB,IAAS,GAC1F,G","sources":["webpack:///indico/modules/rb/event/client/js/index.js"],"sourcesContent":["// This file is part of Indico.\n// Copyright (C) 2002 - 2025 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport rbURL from 'indico-url:rb.roombooking';\n\nimport {serializeDate, serializeTime} from 'indico/utils/date';\n\n$(document).ready(() => {\n  $('#contribution-data, #session_block-data').on('change', e => {\n    const $target = $(e.currentTarget);\n    const $fieldContainer = $target.closest('.searchable-field');\n    const objectId = $target.val();\n    const $bookBtn = $fieldContainer.find('.js-book-btn');\n    const linkType = $target.data('link-type');\n    let params = {};\n    if (objectId) {\n      const values = $fieldContainer.data('values')[objectId];\n      params = {\n        link_type: linkType,\n        link_id: objectId,\n        recurrence: 'single',\n        number: 1,\n        interval: 'week',\n        sd: serializeDate(values.start_dt),\n        st: serializeTime(values.start_dt),\n        et: serializeTime(values.end_dt),\n      };\n    }\n    $bookBtn.toggleClass('disabled', !objectId).attr('href', rbURL({path: 'book', ...params}));\n  });\n});\n"],"names":["rbURL","_buildFlaskURL","bind","endpoint","rules","args","converters","path","defaults","trace","data","isDynamic","$","document","ready","on","e","$target","currentTarget","$fieldContainer","closest","objectId","val","$bookBtn","find","linkType","params","values","link_type","link_id","recurrence","number","interval","sd","serializeDate","start_dt","st","serializeTime","et","end_dt","toggleClass","attr"],"sourceRoot":""}