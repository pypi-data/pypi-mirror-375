import{S as ke,i as ye,s as Ie,H as pe,I as _e,C as $,D as ee,E as te,K as ge,q as R,r as W,F as se,v as xe,k as Ee,U as Ce,e as v,t as J,l as q,c as h,a as p,b as K,d as m,p as P,f as c,g as me,h as a,G as ie,J as Ve,j as Q,y as be,u as we,Q as De,n as ze,L as Oe}from"./FaFaOjVd.js";import"./IHki7fMi.js";import{t as fe}from"./2--pGubN.js";import{M as Se}from"./CtyAcC0Y.js";import{b as Le,d as qe,e as Pe}from"./CKMuWmJU.js";import{b as We,d as Xe,e as Ye}from"./DV4Xwjm_.js";import{S as Ue}from"./g2Ud3Ipo.js";import"./BSsvkfNC.js";import"./D3JQ9yZ2.js";import"./BFmuJLeH.js";import{V as Ae}from"./7ohYRJXQ.js";import{X as Te}from"./OBlpjaGw.js";import{e as Ge}from"./CUP5ppBP.js";function Je(r){let e,t;return e=new Ue({props:{className:"size-5"}}),{c(){$(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,n){te(e,l,n),t=!0},p:ze,i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Ke(r){let e,t,l;function n(s){r[11](s)}let f={valvesSpec:r[3]};return r[4]!==void 0&&(f.valves=r[4]),e=new Ae({props:f}),pe.push(()=>_e(e,"valves",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,o){const i={};o&8&&(i.valvesSpec=s[3]),!t&&o&16&&(t=!0,i.valves=s[4],ge(()=>t=!1)),e.$set(i)},i(s){l||(R(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function Fe(r){let e,t,l;return t=new Ue({}),{c(){e=v("div"),$(t.$$.fragment),this.h()},l(n){e=h(n,"DIV",{class:!0});var f=p(e);ee(t.$$.fragment,f),f.forEach(m),this.h()},h(){c(e,"class","ml-2 self-center")},m(n,f){me(n,e,f),te(t,e,null),l=!0},i(n){l||(R(t.$$.fragment,n),l=!0)},o(n){W(t.$$.fragment,n),l=!1},d(n){n&&m(e),se(t)}}}function Qe(r){let e,t,l,n=r[5].t("Valves")+"",f,s,o,i,B,_,g,u,y,I,D,F,b,w,d=r[5].t("Save")+"",E,H,X,N,T,Y;i=new Te({props:{className:"size-5"}});const G=[Ke,Je],L=[];function C(V,j){return V[2]?1:0}I=C(r),D=L[I]=G[I](r);let k=r[1]&&Fe();return{c(){e=v("div"),t=v("div"),l=v("div"),f=J(n),s=q(),o=v("button"),$(i.$$.fragment),B=q(),_=v("div"),g=v("div"),u=v("form"),y=v("div"),D.c(),F=q(),b=v("div"),w=v("button"),E=J(d),H=q(),k&&k.c(),this.h()},l(V){e=h(V,"DIV",{});var j=p(e);t=h(j,"DIV",{class:!0});var x=p(t);l=h(x,"DIV",{class:!0});var S=p(l);f=K(S,n),S.forEach(m),s=P(x),o=h(x,"BUTTON",{class:!0});var M=p(o);ee(i.$$.fragment,M),M.forEach(m),x.forEach(m),B=P(j),_=h(j,"DIV",{class:!0});var A=p(_);g=h(A,"DIV",{class:!0});var Z=p(g);u=h(Z,"FORM",{class:!0});var O=p(u);y=h(O,"DIV",{class:!0});var le=p(y);D.l(le),le.forEach(m),F=P(O),b=h(O,"DIV",{class:!0});var ae=p(b);w=h(ae,"BUTTON",{class:!0,type:!0});var U=p(w);E=K(U,d),H=P(U),k&&k.l(U),U.forEach(m),ae.forEach(m),O.forEach(m),Z.forEach(m),A.forEach(m),j.forEach(m),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(o,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(y,"class","px-1"),c(w,"class",X="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(r[1]?" cursor-not-allowed":"")),c(w,"type","submit"),w.disabled=r[1],c(b,"class","flex justify-end pt-3 text-sm font-medium"),c(u,"class","flex flex-col w-full"),c(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(_,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(V,j){me(V,e,j),a(e,t),a(t,l),a(l,f),a(t,s),a(t,o),te(i,o,null),a(e,B),a(e,_),a(_,g),a(g,u),a(u,y),L[I].m(y,null),a(u,F),a(u,b),a(b,w),a(w,E),a(w,H),k&&k.m(w,null),N=!0,T||(Y=[ie(o,"click",r[10]),ie(u,"submit",Ve(r[12]))],T=!0)},p(V,j){(!N||j&32)&&n!==(n=V[5].t("Valves")+"")&&Q(f,n);let x=I;I=C(V),I===x?L[I].p(V,j):(be(),W(L[x],1,1,()=>{L[x]=null}),we(),D=L[I],D?D.p(V,j):(D=L[I]=G[I](V),D.c()),R(D,1),D.m(y,null)),(!N||j&32)&&d!==(d=V[5].t("Save")+"")&&Q(E,d),V[1]?k?j&2&&R(k,1):(k=Fe(),k.c(),R(k,1),k.m(w,null)):k&&(be(),W(k,1,1,()=>{k=null}),we()),(!N||j&2&&X!==(X="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full "+(V[1]?" cursor-not-allowed":"")))&&c(w,"class",X),(!N||j&2)&&(w.disabled=V[1])},i(V){N||(R(i.$$.fragment,V),R(D),R(k),N=!0)},o(V){W(i.$$.fragment,V),W(D),W(k),N=!1},d(V){V&&m(e),se(i),L[I].d(),k&&k.d(),T=!1,De(Y)}}}function Ze(r){let e,t,l;function n(s){r[13](s)}let f={size:"sm",$$slots:{default:[Qe]},$$scope:{ctx:r}};return r[0]!==void 0&&(f.show=r[0]),e=new Se({props:f}),pe.push(()=>_e(e,"show",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,[o]){const i={};o&65599&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.show=s[0],ge(()=>t=!1)),e.$set(i)},i(s){l||(R(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function $e(r,e,t){let l;const n=xe("i18n");Ee(r,n,d=>t(5,l=d));const f=Ce();let{show:s=!1}=e,{type:o="tool"}=e,{id:i=null}=e,B=!1,_=!1,g=null,u={};const y=async()=>{var d;if(t(1,B=!0),g){for(const H in g.properties)((d=g.properties[H])==null?void 0:d.type)==="array"&&t(4,u[H]=(u[H]??"").split(",").map(X=>X.trim()),u);let E=null;o==="tool"?E=await Ye(localStorage.token,i,u).catch(H=>{fe.error(`${H}`)}):o==="function"&&(E=await Pe(localStorage.token,i,u).catch(H=>{fe.error(`${H}`)})),E&&(fe.success(l.t("Valves updated successfully")),f("save"))}t(1,B=!1)},I=async()=>{var d;if(t(2,_=!0),t(4,u={}),t(3,g=null),o==="tool"?(t(4,u=await We(localStorage.token,i)),t(3,g=await Xe(localStorage.token,i))):o==="function"&&(t(4,u=await Le(localStorage.token,i)),t(3,g=await qe(localStorage.token,i))),u||t(4,u={}),g)for(const E in g.properties)((d=g.properties[E])==null?void 0:d.type)==="array"&&t(4,u[E]=(u[E]??[]).join(","),u);t(2,_=!1)},D=()=>{t(0,s=!1)};function F(d){u=d,t(4,u)}const b=()=>{y()};function w(d){s=d,t(0,s)}return r.$$set=d=>{"show"in d&&t(0,s=d.show),"type"in d&&t(8,o=d.type),"id"in d&&t(9,i=d.id)},r.$$.update=()=>{r.$$.dirty&1&&s&&I()},[s,B,_,g,u,l,n,y,o,i,D,F,b,w]}class bt extends ke{constructor(e){super(),ye(this,e,$e,Ze,Ie,{show:0,type:8,id:9})}}function et(r){let e,t,l,n=r[2].t("Show your support!")+"",f,s,o,i,B,_,g,u,y,I,D=r[2].t("The developers behind this plugin are passionate volunteers from the community. If you find this plugin helpful, please consider contributing to its development.")+"",F,b,w,d=r[2].t("Your entire contribution will go directly to the plugin developer; Open WebUI does not take any percentage. However, the chosen funding platform might have its own fees.")+"",E,H,X,N,T,Y=r[2].t("Support this plugin:")+"",G,L,C,k=r[1].funding_url+"",V,j,x,S,M,A=r[2].t("Done")+"",Z,O,le,ae;return i=new Te({props:{className:"size-5"}}),{c(){e=v("div"),t=v("div"),l=v("div"),f=J(n),s=q(),o=v("button"),$(i.$$.fragment),B=q(),_=v("div"),g=v("div"),u=v("form"),y=v("div"),I=v("div"),F=J(D),b=q(),w=v("div"),E=J(d),H=q(),X=v("hr"),N=q(),T=v("div"),G=J(Y),L=q(),C=v("a"),V=J(k),x=q(),S=v("div"),M=v("button"),Z=J(A),this.h()},l(U){e=h(U,"DIV",{});var z=p(e);t=h(z,"DIV",{class:!0});var re=p(t);l=h(re,"DIV",{class:!0});var ue=p(l);f=K(ue,n),ue.forEach(m),s=P(re),o=h(re,"BUTTON",{class:!0});var ce=p(o);ee(i.$$.fragment,ce),ce.forEach(m),re.forEach(m),B=P(z),_=h(z,"DIV",{class:!0});var de=p(_);g=h(de,"DIV",{class:!0});var ne=p(g);u=h(ne,"FORM",{class:!0});var ve=p(u);y=h(ve,"DIV",{class:!0});var oe=p(y);I=h(oe,"DIV",{class:!0});var Me=p(I);F=K(Me,D),Me.forEach(m),b=P(oe),w=h(oe,"DIV",{class:!0});var Be=p(w);E=K(Be,d),Be.forEach(m),H=P(oe),X=h(oe,"HR",{class:!0}),N=P(oe),T=h(oe,"DIV",{class:!0});var he=p(T);G=K(he,Y),L=P(he),C=h(he,"A",{href:!0,target:!0,class:!0});var je=p(C);V=K(je,k),je.forEach(m),he.forEach(m),oe.forEach(m),x=P(ve),S=h(ve,"DIV",{class:!0});var He=p(S);M=h(He,"BUTTON",{class:!0,type:!0});var Ne=p(M);Z=K(Ne,A),Ne.forEach(m),He.forEach(m),ve.forEach(m),ne.forEach(m),de.forEach(m),z.forEach(m),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(o,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(I,"class","my-2"),c(w,"class","my-2"),c(X,"class","dark:border-gray-800 my-3"),c(C,"href",j=r[1].funding_url),c(C,"target","_blank"),c(C,"class","underline text-blue-400 hover:text-blue-300"),c(T,"class","my-2"),c(y,"class","px-1 text-sm"),c(M,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center"),c(M,"type","submit"),c(S,"class","flex justify-end pt-3 text-sm font-medium"),c(u,"class","flex flex-col w-full"),c(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(_,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(U,z){me(U,e,z),a(e,t),a(t,l),a(l,f),a(t,s),a(t,o),te(i,o,null),a(e,B),a(e,_),a(_,g),a(g,u),a(u,y),a(y,I),a(I,F),a(y,b),a(y,w),a(w,E),a(y,H),a(y,X),a(y,N),a(y,T),a(T,G),a(T,L),a(T,C),a(C,V),a(u,x),a(u,S),a(S,M),a(M,Z),O=!0,le||(ae=[ie(o,"click",r[4]),ie(u,"submit",Ve(r[5]))],le=!0)},p(U,z){(!O||z&4)&&n!==(n=U[2].t("Show your support!")+"")&&Q(f,n),(!O||z&4)&&D!==(D=U[2].t("The developers behind this plugin are passionate volunteers from the community. If you find this plugin helpful, please consider contributing to its development.")+"")&&Q(F,D),(!O||z&4)&&d!==(d=U[2].t("Your entire contribution will go directly to the plugin developer; Open WebUI does not take any percentage. However, the chosen funding platform might have its own fees.")+"")&&Q(E,d),(!O||z&4)&&Y!==(Y=U[2].t("Support this plugin:")+"")&&Q(G,Y),(!O||z&2)&&k!==(k=U[1].funding_url+"")&&Q(V,k),(!O||z&2&&j!==(j=U[1].funding_url))&&c(C,"href",j),(!O||z&4)&&A!==(A=U[2].t("Done")+"")&&Q(Z,A)},i(U){O||(R(i.$$.fragment,U),O=!0)},o(U){W(i.$$.fragment,U),O=!1},d(U){U&&m(e),se(i),le=!1,De(ae)}}}function tt(r){let e,t,l;function n(s){r[6](s)}let f={size:"sm",$$slots:{default:[et]},$$scope:{ctx:r}};return r[0]!==void 0&&(f.show=r[0]),e=new Se({props:f}),pe.push(()=>_e(e,"show",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,[o]){const i={};o&263&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.show=s[0],ge(()=>t=!1)),e.$set(i)},i(s){l||(R(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function st(r,e,t){let l;const n=xe("i18n");Ee(r,n,_=>t(2,l=_)),Ce();let{show:f=!1}=e,{manifest:s={}}=e;const o=()=>{t(0,f=!1)},i=()=>{t(0,f=!1)};function B(_){f=_,t(0,f)}return r.$$set=_=>{"show"in _&&t(0,f=_.show),"manifest"in _&&t(1,s=_.manifest)},[f,s,l,n,o,i,B]}class wt extends ke{constructor(e){super(),ye(this,e,st,tt,Ie,{show:0,manifest:1})}}function Re(r){let e,t,l;return t=new Ue({}),{c(){e=v("div"),$(t.$$.fragment),this.h()},l(n){e=h(n,"DIV",{class:!0});var f=p(e);ee(t.$$.fragment,f),f.forEach(m),this.h()},h(){c(e,"class","ml-2 self-center")},m(n,f){me(n,e,f),te(t,e,null),l=!0},i(n){l||(R(t.$$.fragment,n),l=!0)},o(n){W(t.$$.fragment,n),l=!1},d(n){n&&m(e),se(t)}}}function lt(r){let e,t,l,n=r[3].t("Import")+"",f,s,o,i,B,_,g,u,y,I,D,F=r[3].t("URL")+"",b,w,d,E,H,X,N,T,Y=r[3].t("Import")+"",G,L,C,k,V,j;i=new Te({props:{className:"size-5"}});let x=r[1]&&Re();return{c(){e=v("div"),t=v("div"),l=v("div"),f=J(n),s=q(),o=v("button"),$(i.$$.fragment),B=q(),_=v("div"),g=v("div"),u=v("form"),y=v("div"),I=v("div"),D=v("div"),b=J(F),w=q(),d=v("div"),E=v("input"),X=q(),N=v("div"),T=v("button"),G=J(Y),L=q(),x&&x.c(),this.h()},l(S){e=h(S,"DIV",{});var M=p(e);t=h(M,"DIV",{class:!0});var A=p(t);l=h(A,"DIV",{class:!0});var Z=p(l);f=K(Z,n),Z.forEach(m),s=P(A),o=h(A,"BUTTON",{class:!0});var O=p(o);ee(i.$$.fragment,O),O.forEach(m),A.forEach(m),B=P(M),_=h(M,"DIV",{class:!0});var le=p(_);g=h(le,"DIV",{class:!0});var ae=p(g);u=h(ae,"FORM",{class:!0});var U=p(u);y=h(U,"DIV",{class:!0});var z=p(y);I=h(z,"DIV",{class:!0});var re=p(I);D=h(re,"DIV",{class:!0});var ue=p(D);b=K(ue,F),ue.forEach(m),w=P(re),d=h(re,"DIV",{class:!0});var ce=p(d);E=h(ce,"INPUT",{class:!0,type:!0,placeholder:!0}),ce.forEach(m),re.forEach(m),z.forEach(m),X=P(U),N=h(U,"DIV",{class:!0});var de=p(N);T=h(de,"BUTTON",{class:!0,type:!0});var ne=p(T);G=K(ne,Y),L=P(ne),x&&x.l(ne),ne.forEach(m),de.forEach(m),U.forEach(m),ae.forEach(m),le.forEach(m),M.forEach(m),this.h()},h(){c(l,"class","text-lg font-medium self-center"),c(o,"class","self-center"),c(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),c(D,"class","mb-1 text-xs text-gray-500"),c(E,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden"),c(E,"type","url"),c(E,"placeholder",H=r[3].t("Enter the URL to import")),E.required=!0,c(d,"class","flex-1"),c(I,"class","flex flex-col w-full"),c(y,"class","px-1"),c(T,"class",C="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(r[1]?" cursor-not-allowed":"")),c(T,"type","submit"),T.disabled=r[1],c(N,"class","flex justify-end pt-3 text-sm font-medium"),c(u,"class","flex flex-col w-full"),c(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),c(_,"class","flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200")},m(S,M){me(S,e,M),a(e,t),a(t,l),a(l,f),a(t,s),a(t,o),te(i,o,null),a(e,B),a(e,_),a(_,g),a(g,u),a(u,y),a(y,I),a(I,D),a(D,b),a(I,w),a(I,d),a(d,E),Oe(E,r[2]),a(u,X),a(u,N),a(N,T),a(T,G),a(T,L),x&&x.m(T,null),k=!0,V||(j=[ie(o,"click",r[10]),ie(E,"input",r[11]),ie(u,"submit",Ve(r[12]))],V=!0)},p(S,M){(!k||M&8)&&n!==(n=S[3].t("Import")+"")&&Q(f,n),(!k||M&8)&&F!==(F=S[3].t("URL")+"")&&Q(b,F),(!k||M&8&&H!==(H=S[3].t("Enter the URL to import")))&&c(E,"placeholder",H),M&4&&E.value!==S[2]&&Oe(E,S[2]),(!k||M&8)&&Y!==(Y=S[3].t("Import")+"")&&Q(G,Y),S[1]?x?M&2&&R(x,1):(x=Re(),x.c(),R(x,1),x.m(T,null)):x&&(be(),W(x,1,1,()=>{x=null}),we()),(!k||M&2&&C!==(C="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(S[1]?" cursor-not-allowed":"")))&&c(T,"class",C),(!k||M&2)&&(T.disabled=S[1])},i(S){k||(R(i.$$.fragment,S),R(x),k=!0)},o(S){W(i.$$.fragment,S),W(x),k=!1},d(S){S&&m(e),se(i),x&&x.d(),V=!1,De(j)}}}function rt(r){let e,t,l;function n(s){r[13](s)}let f={size:"sm",$$slots:{default:[lt]},$$scope:{ctx:r}};return r[0]!==void 0&&(f.show=r[0]),e=new Se({props:f}),pe.push(()=>_e(e,"show",n)),{c(){$(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,o){te(e,s,o),l=!0},p(s,[o]){const i={};o&16399&&(i.$$scope={dirty:o,ctx:s}),!t&&o&1&&(t=!0,i.show=s[0],ge(()=>t=!1)),e.$set(i)},i(s){l||(R(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){se(e,s)}}}function at(r,e,t){let l;const n=xe("i18n");Ee(r,n,b=>t(3,l=b));let{show:f=!1}=e,{onImport:s=b=>{}}=e,{onClose:o=()=>{}}=e,{loadUrlHandler:i=()=>{}}=e,{successMessage:B=""}=e,_=!1,g="";const u=async()=>{if(t(1,_=!0),!g){fe.error(l.t("Please enter a valid URL")),t(1,_=!1);return}const b=await i(g).catch(w=>(fe.error(`${w}`),t(1,_=!1),null));if(b){B||t(6,B=l.t("Function imported successfully")),fe.success(B);let w=b;w.id=w.id||w.name.replace(/\s+/g,"_").toLowerCase();const d=Ge(b.content);d!=null&&d.title&&(w.name=d.title),w.meta={...w.meta??{},description:(d==null?void 0:d.description)??w.name},s(w),t(0,f=!1)}},y=()=>{t(0,f=!1)};function I(){g=this.value,t(2,g)}const D=()=>{u()};function F(b){f=b,t(0,f)}return r.$$set=b=>{"show"in b&&t(0,f=b.show),"onImport"in b&&t(7,s=b.onImport),"onClose"in b&&t(8,o=b.onClose),"loadUrlHandler"in b&&t(9,i=b.loadUrlHandler),"successMessage"in b&&t(6,B=b.successMessage)},[f,_,g,l,n,u,B,s,o,i,y,I,D,F]}class kt extends ke{constructor(e){super(),ye(this,e,at,rt,Ie,{show:0,onImport:7,onClose:8,loadUrlHandler:9,successMessage:6})}}export{kt as I,wt as M,bt as V};
//# sourceMappingURL=CvowxMXV.js.map
