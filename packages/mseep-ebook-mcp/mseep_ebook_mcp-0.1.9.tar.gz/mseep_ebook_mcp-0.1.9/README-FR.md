[![MseeP.ai Security Assessment Badge](https://mseep.net/pr/onebirdrocks-ebook-mcp-badge.png)](https://mseep.ai/app/onebirdrocks-ebook-mcp)

# Ebook-MCP

<img src="logo.png" alt="ebook-mcp logo" width="132" height="132">

[English](https://github.com/onebirdrocks/ebook-mcp/blob/main/README.md) | [‰∏≠Êñá](https://github.com/onebirdrocks/ebook-mcp/blob/main/README-CN.md) | [Êó•Êú¨Ë™û](https://github.com/onebirdrocks/ebook-mcp/blob/main/README-JP.md) | [ÌïúÍµ≠Ïñ¥](https://github.com/onebirdrocks/ebook-mcp/blob/main/README-KR.md) | [Fran√ßais](https://github.com/onebirdrocks/ebook-mcp/blob/main/README-FR.md) | [Deutsch](https://github.com/onebirdrocks/ebook-mcp/blob/main/README-DE.md)

Ebook-MCP est un serveur Model Context Protocol (MCP) puissant pour le traitement des livres √©lectroniques. Construit sur le [Model Context Protocol](https://github.com/modelcontextprotocol), il fournit un ensemble d'API standardis√©es pour une int√©gration transparente entre les applications LLM et les capacit√©s de traitement des livres √©lectroniques. Prend actuellement en charge les formats EPUB et PDF.

## Cas d'usage et valeur

Ebook-MCP transforme la fa√ßon dont vous interagissez avec vos livres num√©riques en permettant des conversations en langage naturel avec vos mat√©riaux de lecture. Il s'int√®gre parfaitement avec les IDE modernes aliment√©s par l'IA comme Cursor et Claude, vous permettant de :

- **Gestion intelligente de biblioth√®que** : Demandez simplement "Montrez-moi tous les fichiers EPUB dans mon dossier de t√©l√©chargements" ou "Trouvez des livres sur GenAI dans ma biblioth√®que"
- **Exp√©rience de lecture interactive** : Ayez des conversations naturelles sur vos livres :
  - "Donnez-moi une br√®ve introduction au 'Manuel de l'ing√©nieur LLM'"
  - "Que couvre le chapitre 3 ?"
  - "R√©sumez les points cl√©s sur RAG de ce livre"
- **Support d'apprentissage actif** : Am√©liorez votre apprentissage gr√¢ce aux interactions aliment√©es par l'IA :
  - "Cr√©ez un quiz bas√© sur les concepts RAG du chapitre 5"
  - "Expliquez les diff√©rences entre les architectures discut√©es dans ce chapitre"
  - "Donnez-moi des exercices pratiques bas√©s sur les concepts de cette section"
- **Navigation de contenu** : Naviguez facilement dans vos livres avec des requ√™tes en langage naturel :
  - "Trouvez toutes les sections discutant de l'ing√©nierie des prompts"
  - "Montrez-moi les chapitres sur le fine-tuning"
  - "Amenez-moi √† la partie sur les bases de donn√©es vectorielles"

En comblant le foss√© entre les livres √©lectroniques traditionnels et les capacit√©s de l'IA, Ebook-MCP aide les lecteurs √† extraire plus de valeur de leur biblioth√®que num√©rique gr√¢ce √† des interactions intuitives bas√©es sur la conversation.

D√©mo rapide - Ex√©cuter avec DeepSeek (Veuillez v√©rifier tous les exemples avec Claude/OpenAI dans le dossier mcp-client-example)
```
Requ√™te : Veuillez v√©rifier tous les livres epub dans mon dossier de t√©l√©chargement. L'ID utilisateur est onebird.
......

Requ√™te : Pouvez-vous me poser quelques questions pour tester ma compr√©hension de ce livre ?

R√©ponse : Bien s√ªr ! Voici 5 questions sur Elon Musk par Walter Isaacson pour tester votre compr√©hension du livre. Veuillez r√©pondre en vous basant sur vos connaissances ‚Äî je donnerai des commentaires et ajouterai des d√©tails apr√®s chaque r√©ponse.

Question 1 :
Comment l'enfance et le contexte familial de Musk ont-ils fa√ßonn√© sa personnalit√© et sa carri√®re plus tard dans la vie ?
(Indice : Sa relation avec son p√®re, grandir en Afrique du Sud, etc.)

Question 2 :
Zip2 et X.com (plus tard PayPal) √©taient les premi√®res startups de Musk. Quels probl√®mes ont-ils r√©solus ? Comment Musk a-t-il finalement quitt√© ces entreprises ?
(Indice : Le mod√®le commercial de Zip2, la fusion de X.com avec Confinity, etc.)

Question 3 :
En 2008, SpaceX et Tesla √©taient tous deux au bord de la faillite. Comment Musk a-t-il sauv√© ces deux entreprises ?
(Indice : Le quatri√®me lancement de Falcon 1, le contrat NASA, le sauvetage de derni√®re minute de Tesla, etc.)

Question 4 :
Quelles controverses entourent le style de gestion de Musk ? Quels incidents sp√©cifiques dans le livre illustrent sa culture de travail "hardcore" ou "extr√™me" ?
(Indice : "L'enfer de production" de l'usine Fremont, les licenciements Twitter, etc.)

Question 5 :
Quelle est l'attitude de Musk envers l'Intelligence Artificielle (IA) ? Pourquoi a-t-il simultan√©ment soutenu OpenAI et Neuralink, qui semblent avoir des objectifs contradictoires ?
(Indice : L'IA comme menace existentielle, vision d'interface cerveau-machine, etc.)

Veuillez r√©pondre √† chaque question. Je fournirai des commentaires et des d√©tails suppl√©mentaires ou corrigerai tout malentendu !
(Si une question n'est pas claire, n'h√©sitez pas √† me demander.)

Requ√™te :
Question 1 : L'attitude abusive de son p√®re l'a rendu moins empathique envers les autres.
Question 2 : Zip2 a r√©solu le probl√®me des cartes √©lectroniques et des pages jaunes en ligne. X.com a r√©solu les paiements en ligne.
Question 3 : Il a obtenu un contrat avec la NASA. Tesla a r√©solu ses probl√®mes de production en construisant une usine en Chine.
Question 4 : Je ne sais pas. Veuillez r√©pondre pour moi.
Question 5 : Il croit que la technologie open-source est n√©cessaire pour s'assurer que l'IA soit s√ªre et ouverte.

R√©ponse : Vos r√©ponses ont captur√© quelques points cl√©s du livre. Laissez-moi ajouter des d√©tails, corriger quelques inexactitudes et fournir plus de contexte pour les questions 4 et 5 :

Question 1 ‚Äî Correction et compl√©ment
Influence de son p√®re :
Le p√®re de Musk, Errol, √©tait effectivement extr√™mement dur ‚Äî par exemple, for√ßant le jeune Elon √† s'agenouiller et compter des grains de riz pendant des heures. Le livre souligne que cette d√©sensibilisation √©motionnelle a fa√ßonn√© Musk en une personne extr√™mement orient√©e vers les objectifs ‚Äî indiff√©rente √† la souffrance des autres mais obsessionnellement engag√©e envers ses objectifs.

Impact inverse :
Ce n'est pas que Musk soit incapable d'empathie ‚Äî elle est s√©lective. Par exemple, il peut traiter les employ√©s froidement mais √©tudier personnellement l'√©quipement m√©dical pour les probl√®mes de sant√© de son fils X.

Question 2 ‚Äî Correction et compl√©ment
Zip2 :
Essentiellement un service de pages jaunes en ligne + navigation cartographique (aidant les journaux √† aller en ligne). Musk a √©crit une grande partie du code initial lui-m√™me et dormait au bureau. Finalement, Compaq a acquis Zip2 pour 307 millions de dollars (Musk a re√ßu 22 millions de dollars).

X.com :
Pas seulement les paiements en ligne ‚Äî c'√©tait la tentative de Musk de cr√©er une plateforme financi√®re compl√®te (visant √† remplacer les banques). Plus tard fusionn√© avec Confinity (le pr√©curseur de PayPal). Musk a √©t√© √©vinc√© en raison de conflits internes, mais quand eBay a acquis PayPal, Musk a gagn√© 180 millions de dollars.
(Note : Musk a plus tard rachet√© le domaine X.com ‚Äî c'est maintenant le nom de la soci√©t√© m√®re de Twitter).

Question 3 ‚Äî Correction et compl√©ment
SpaceX :
En 2008, Falcon 1 a r√©ussi lors de son quatri√®me lancement (apr√®s trois √©checs qui ont √©puis√© leurs fonds). Juste apr√®s cela, SpaceX a obtenu un contrat NASA de 1,6 milliard de dollars pour le r√©approvisionnement de fret ‚Äî une bou√©e de sauvetage pour l'entreprise.

Tesla :
En 2008, Tesla a surv√©cu gr√¢ce √† un investissement de 50 millions de dollars de Daimler et un pr√™t du D√©partement de l'√ânergie am√©ricain.
La construction de la Gigafactory en Chine (2019) est venue beaucoup plus tard. Dans les premi√®res ann√©es, la survie d√©pendait du lancement de la Model S (2012) et du pari personnel de Musk ‚Äî vendre tous ses biens immobiliers pour financer Tesla.

Question 4 ‚Äî Explication : Controverse autour de son style de gestion
Culture "Hardcore" :

Chez SpaceX/Tesla : Musk exigeait que les employ√©s travaillent 80+ heures par semaine, dormant m√™me √† l'usine. ("Si vous n'√™tes pas ici, votre rempla√ßant l'est.")

Apr√®s l'acquisition de Twitter : Il a imm√©diatement licenci√© 75% du personnel et demand√© aux employ√©s restants de signer un "engagement hardcore" ‚Äî acceptant de longues heures et une production de haute intensit√©.

Cas extr√™mes :

√Ä l'usine Fremont : Pendant "l'enfer de production" de la Model 3, Musk dormait sur la ligne de production et a une fois cri√© sur les employ√©s en les appelant "pires que des chiens" (il s'est excus√© plus tard).

Licenciement de cadres : Musk a une fois licenci√© sur-le-champ un cadre sup√©rieur de Tesla parce que la taille de police dans leur pr√©sentation PowerPoint n'√©tait pas assez grande.

Question 5 ‚Äî Correction et compl√©ment
Th√©orie de la menace IA :
Musk croit que l'IA pourrait d√©truire l'humanit√© ("plus dangereuse que les armes nucl√©aires"). Par cons√©quent :

OpenAI : Il l'a initialement soutenu pour promouvoir une IA s√ªre et open-source (mais est parti plus tard en raison de disputes sur le contr√¥le).

Neuralink : Il vise √† utiliser les interfaces cerveau-machine pour fusionner les humains avec l'IA ‚Äî pour emp√™cher les humains d'√™tre laiss√©s pour compte.

Contradictions :
Tout en avertissant des risques de l'IA, Musk pousse simultan√©ment la technologie de conduite enti√®rement autonome (FSD) chez Tesla et a fond√© xAI pour rechercher l'Intelligence Artificielle G√©n√©rale (AGI).

√âvaluation globale :
‚úÖ Vous avez captur√© les √©v√©nements cl√©s avec pr√©cision, mais les d√©tails doivent √™tre renforc√©s (comme les chronologies et les chiffres sp√©cifiques).
üîç Domaines recommand√©s pour une √©tude plus approfondie : Le style de gestion multi-thread de Musk (dirigeant cinq entreprises simultan√©ment) et sa comp√©tence en manipulation m√©diatique (gouverner par Twitter).
```

## Fonctionnalit√©s

### Support EPUB
- Extraire les m√©tadonn√©es (titre, auteur, date de publication, etc.)
- Extraire la table des mati√®res
- Extraire le contenu des chapitres (avec sortie Markdown)
- Traitement par lots des fichiers EPUB

### Support PDF
- Extraire les m√©tadonn√©es (titre, auteur, date de cr√©ation, etc.)
- Extraire la table des mati√®res
- Extraire le contenu par num√©ro de page
- Extraire le contenu par titre de chapitre
- Support de sortie Markdown
- Traitement par lots des fichiers PDF

## Installation

1. Cloner le d√©p√¥t :
```bash
git clone https://github.com/yourusername/ebook-mcp.git
cd ebook-mcp
```

2. Installer les d√©pendances en utilisant `uv` :
```bash
uv pip install -e .
```

## Utilisation

### D√©marrer le serveur MCP en mode d√©veloppement

Ex√©cuter le serveur en mode d√©veloppement :
```bash
uv run mcp dev src/ebook_mcp/main.py
```

Vous pouvez visiter http://localhost:5173/ √† des fins de test et de d√©bogage
Vous pouvez √©galement installer l'inspecteur pour le test.
```
npx @modelcontextprotocol/inspector uv --directory . run src/ebook_mcp/main.py
```

### D√©marrer le serveur MCP en mode production

Ex√©cuter le serveur :
```bash
uv run src/ebook_mcp/main.py
```

#### Configurer le MCP dans Cursor

Ajouter la configuration suivante dans Cursor
```bash
"ebook-mcp":{
            "command": "uv",
            "args": [
                "--directory",
                "/Users/onebird/github/ebook-mcp/src/ebook_mcp/",
                "run",
                "main.py"
            ]
        }
```

### Exemples de traitement EPUB

```python
# Obtenir tous les fichiers EPUB dans un r√©pertoire
epub_files = get_all_epub_files("/path/to/books")

# Obtenir les m√©tadonn√©es EPUB
metadata = get_metadata("/path/to/book.epub")

# Obtenir la table des mati√®res
toc = get_toc("/path/to/book.epub")

# Obtenir le contenu d'un chapitre sp√©cifique (au format Markdown)
chapter_content = get_chapter_markdown("/path/to/book.epub", "chapter_id")
```

### Exemples de traitement PDF

```python
# Obtenir tous les fichiers PDF dans un r√©pertoire
pdf_files = get_all_pdf_files("/path/to/books")

# Obtenir les m√©tadonn√©es PDF
metadata = get_pdf_metadata("/path/to/book.pdf")

# Obtenir la table des mati√®res
toc = get_pdf_toc("/path/to/book.pdf")

# Obtenir le contenu d'une page sp√©cifique
page_text = get_pdf_page_text("/path/to/book.pdf", 1)
page_markdown = get_pdf_page_markdown("/path/to/book.pdf", 1)

# Obtenir le contenu d'un chapitre sp√©cifique
chapter_content, page_numbers = get_pdf_chapter_content("/path/to/book.pdf", "Chapter 1")
```

## R√©f√©rence API

### APIs EPUB

#### `get_all_epub_files(path: str) -> List[str]`
Obtenir tous les fichiers EPUB dans le r√©pertoire sp√©cifi√©.

#### `get_metadata(epub_path: str) -> Dict[str, Union[str, List[str]]]`
Obtenir les m√©tadonn√©es d'un fichier EPUB.

#### `get_toc(epub_path: str) -> List[Tuple[str, str]]`
Obtenir la table des mati√®res d'un fichier EPUB.

#### `get_chapter_markdown(epub_path: str, chapter_id: str) -> str`
Obtenir le contenu du chapitre au format Markdown.

### APIs PDF

#### `get_all_pdf_files(path: str) -> List[str]`
Obtenir tous les fichiers PDF dans le r√©pertoire sp√©cifi√©.

#### `get_pdf_metadata(pdf_path: str) -> Dict[str, Union[str, List[str]]]`
Obtenir les m√©tadonn√©es d'un fichier PDF.

#### `get_pdf_toc(pdf_path: str) -> List[Tuple[str, int]]`
Obtenir la table des mati√®res d'un fichier PDF.

#### `get_pdf_page_text(pdf_path: str, page_number: int) -> str`
Obtenir le contenu en texte brut d'une page sp√©cifique.

#### `get_pdf_page_markdown(pdf_path: str, page_number: int) -> str`
Obtenir le contenu format√© Markdown d'une page sp√©cifique.

#### `get_pdf_chapter_content(pdf_path: str, chapter_title: str) -> Tuple[str, List[int]]`
Obtenir le contenu du chapitre et les num√©ros de page correspondants par titre de chapitre.

## D√©pendances

Les d√©pendances cl√©s incluent :
- ebooklib : Traitement des fichiers EPUB
- PyPDF2 : Traitement PDF de base
- PyMuPDF : Traitement PDF avanc√©
- beautifulsoup4 : Analyse HTML
- html2text : Conversion HTML vers Markdown
- pydantic : Validation des donn√©es
- fastmcp : Framework de serveur MCP

## Notes importantes

1. Le traitement PDF d√©pend de la table des mati√®res du document. Certaines fonctionnalit√©s peuvent ne pas fonctionner si la table des mati√®res n'est pas disponible.
2. Pour les gros fichiers PDF, il est recommand√© de traiter par plages de pages pour √©viter de charger tout le fichier en une fois.
3. Les ID de chapitre EPUB doivent √™tre obtenus √† partir de la structure de la table des mati√®res.

## Architecture

```
           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ      Couche Agent          ‚îÇ
           ‚îÇ  - Strat√©gie de traduction ‚îÇ
           ‚îÇ  - V√©rification coh√©rence  ‚îÇ
           ‚îÇ  - Appel LLM & Interaction ‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ Appels d'outils
           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ     Couche Outils MCP    ‚îÇ
           ‚îÇ  - extract_chapter        ‚îÇ
           ‚îÇ  - write_translated_chapter‚îÇ
           ‚îÇ  - generate_epub          ‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ Appels Syst√®me/IO
           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ   Couche Base Syst√®me    ‚îÇ
           ‚îÇ  - Lecture de fichiers   ‚îÇ
           ‚îÇ  - Analyse ebooklib      ‚îÇ
           ‚îÇ  - Stockage/V√©rif. chemin‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Contribution

Nous accueillons les Issues et Pull Requests !

Pour des informations d√©taill√©es sur les changements r√©cents, veuillez consulter [CHANGELOG.md](CHANGELOG.md).