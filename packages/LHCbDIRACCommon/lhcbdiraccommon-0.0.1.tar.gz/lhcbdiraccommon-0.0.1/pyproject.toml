[project]
authors = [{name = "Chris Burr", email = "christopher.burr@cern.ch"}]
dependencies = ["diraccommon>=9.0.0a69,<10", "lbplatformutils"]
name = "LHCbDIRACCommon"
requires-python = ">= 3.11"
dynamic = ["version"]
description = "Common utilities and components shared across the LHCb DIRAC ecosystem during the DIRAC â†’ DiracX migration"
readme = "README.md"

[build-system]
build-backend = "hatchling.build"
requires = ["hatchling", "hatch-vcs"]

[tool.pixi.workspace]
channels = ["conda-forge"]
platforms = ["linux-64", "linux-aarch64", "osx-arm64"]

[tool.pixi.pypi-dependencies]
LHCbDIRACCommon = { path = ".", editable = true }

[tool.pixi.dependencies]
pytest = "*"
pytest-cov = "*"

[tool.pixi.feature.testing.dependencies]
pytest = "*"
pytest-cov = "*"

[tool.pixi.feature.testing.tasks]
test = "pytest"
pytest = "pytest"

[tool.pixi.feature.pre-commit.dependencies]
pre-commit = "*"

[tool.pixi.feature.pre-commit.tasks]
pre-commit = "pre-commit"

[tool.pixi.environments]
default = {features = ["testing"]}
testing = {features = ["testing"]}
pre-commit = {features = ["pre-commit"], no-default-feature = true}

[tool.hatch.version]
source = "vcs"

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.build.targets.wheel]
packages = ["src/LHCbDIRACCommon"]

[tool.pixi.tasks]
