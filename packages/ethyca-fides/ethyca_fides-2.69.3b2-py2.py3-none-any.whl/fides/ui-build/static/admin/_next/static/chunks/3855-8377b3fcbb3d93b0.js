(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3855],{66726:function(e,t,i){var a=i(11611),n=i(82846),r=i(91936),s=Math.max,o=Math.min;e.exports=function(e,t,i){var l,c,u,d,g,f,p=0,h=!1,x=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function m(t){var i=l,a=c;return l=c=void 0,p=t,d=e.apply(a,i)}function j(e){var i=e-f,a=e-p;return void 0===f||i>=t||i<0||x&&a>=u}function C(){var e,i,a,r=n();if(j(r))return y(r);g=setTimeout(C,(e=r-f,i=r-p,a=t-e,x?o(a,u-i):a))}function y(e){return(g=void 0,v&&l)?m(e):(l=c=void 0,d)}function L(){var e,i=n(),a=j(i);if(l=arguments,c=this,f=i,a){if(void 0===g)return p=e=f,g=setTimeout(C,t),h?m(e):d;if(x)return clearTimeout(g),g=setTimeout(C,t),m(f)}return void 0===g&&(g=setTimeout(C,t)),d}return t=r(t)||0,a(i)&&(h=!!i.leading,u=(x="maxWait"in i)?s(r(i.maxWait)||0,t):u,v="trailing"in i?!!i.trailing:v),L.cancel=function(){void 0!==g&&clearTimeout(g),p=0,l=f=c=g=void 0},L.flush=function(){return void 0===g?d:y(n())},L}},82846:function(e,t,i){var a=i(77400);e.exports=function(){return a.Date.now()}},30952:function(e,t,i){"use strict";i.d(t,{f:function(){return l}});var a=i(24246),n=i(66726),r=i.n(n),s=i(27378),o=i(26917);let l=e=>{let{value:t,onChange:i,placeholder:n,...l}=e,[c,u]=(0,s.useState)(t);(0,s.useEffect)(()=>{u(t||"")},[t]);let d=r()(i,500),g=(0,s.useCallback)(e=>{u(e),d(e)},[]);return(0,a.jsx)(o.Z,{value:c,onChange:g,onClear:()=>{u(""),i("")},placeholder:n,...l})}},81406:function(e,t,i){"use strict";var a=i(24246),n=i(96306);t.Z=()=>(0,a.jsxs)(n.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,a.jsx)(n.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,a.jsx)(n.xvT,{fontSize:"sm",children:"You're up to date!"})]})},25077:function(e,t,i){"use strict";i.d(t,{Z:function(){return R}});var a=i(24246),n=i(59003),r=i(92222),s=i(96306),o=i(27378),l=i(30952),c=i(47935),u=i(81406),d=i(99763),g=i(72625),f=i(41841),p=i(28976),h=i(8151),x=i(70675),v=e=>{let{resource:t,onDetailClick:i}=e,{successAlert:n}=(0,f.VY)(),r=(0,h.u)(t),[o,{isLoading:l}]=(0,x.v8)(),[c,{isLoading:u}]=(0,x.cM)(),[d,{isLoading:g}]=(0,x.vi)(),v=async()=>{var e;await o({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),n("Started classification on ".concat(null!==(e=t.name)&&void 0!==e?e:"this resource"))},m=async()=>{var e;await c({staged_resource_urn:t.urn}),n("Approved ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},j=async()=>{var e;await d({staged_resource_urn:t.urn}),n("Hid ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},C=l||u||g;return(0,a.jsxs)(s.kCb,{gap:2,justify:"space-between",children:[r===h.e.ATTENTION_REQUIRED&&(0,a.jsx)(s.wpx,{size:"small",onClick:v,loading:l,disabled:C,"data-testid":"classify-btn",children:"Classify"}),r===h.e.IN_REVIEW&&(0,a.jsx)(s.wpx,{size:"small",onClick:m,loading:u,disabled:C,"data-testid":"approve-btn",children:"Approve"}),(0,a.jsx)(s.LZC,{}),(0,a.jsx)(p.Z,{onHideClick:j,onDetailClick:i})]})},m=i(89200),j=i(5945),C=i(61099),y=i(79947),L=i(21910);let _=(0,r.Cl)();var I=(e,t)=>{let i=[];return e?e===L.D$.TABLE?[_.display({id:"name",cell:e=>{let{row:t}=e;return(0,a.jsx)(m.Z,{resource:t.original})},header:"Table"}),_.display({id:"status",cell:e=>{let{row:t}=e;return(0,a.jsx)(j.Z,{status:(0,h.u)(t.original)})},header:"Status"}),_.display({id:"category",cell:e=>{let{row:t}=e;return(0,a.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),_.accessor(e=>e.description,{id:"description",cell:e=>(0,a.jsx)(c.G3,{value:e.getValue()}),header:"Description"}),_.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,a.jsx)(g.Cy,{time:e.getValue()}),header:"Updated"}),_.display({id:"actions",cell:e=>{let{row:i}=e;return(0,a.jsx)(v,{resource:i.original,onDetailClick:()=>t(i.original)})},header:"Actions",meta:{disableRowClick:!0}})]:e===L.D$.FIELD?[_.display({id:"name",cell:e=>{let{row:t}=e;return(0,a.jsx)(m.Z,{resource:t.original})},header:"Field"}),_.display({id:"status",cell:e=>{let{row:t}=e;return(0,a.jsx)(j.Z,{status:(0,h.u)(t.original)})},header:"Status"}),_.accessor(e=>e.data_type,{id:"dataType",cell:e=>(0,a.jsx)(y.Z,{type:e.getValue()}),header:"Data type"}),_.display({id:"category",cell:e=>{let{row:t}=e;return(0,a.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),_.accessor(e=>e.description,{id:"description",cell:e=>(0,a.jsx)(c.G3,{value:e.getValue()}),header:"Description"}),_.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,a.jsx)(g.Cy,{time:e.getValue()}),header:"Updated"}),_.display({id:"actions",cell:e=>{let{row:i}=e;return(0,a.jsx)(v,{resource:i.original,onDetailClick:()=>t(i.original)})},header:"Actions",meta:{disableRowClick:!0}})]:i:i},b=i(7940),w=i(80356);let T=[L.LL.ADDITION,L.LL.CLASSIFYING,L.LL.CLASSIFICATION_ADDITION,L.LL.CLASSIFICATION_QUEUED,L.LL.CLASSIFICATION_UPDATE,L.LL.MONITORED,L.LL.PROMOTING,L.LL.REMOVAL,L.LL.REMOVING],k={items:[],total:0,page:1,size:50,pages:1};var R=e=>{let{resourceUrn:t,onRowClick:i}=e,{PAGE_SIZES:g,pageSize:f,setPageSize:p,onPreviousPageClick:h,isPreviousPageDisabled:v,onNextPageClick:m,isNextPageDisabled:j,startRange:C,endRange:y,pageIndex:L,setTotalPages:_,resetPageIndexToDefault:R}=(0,c.oi)(),[S,D]=(0,o.useState)("");(0,o.useEffect)(()=>{R()},[t,R]);let{isFetching:E,isLoading:N,data:A}=(0,x.z8)({staged_resource_urn:t,page:L,size:f,diff_status:T,search:S}),{items:P,total:Z,pages:z}=(0,o.useMemo)(()=>null!=A?A:k,[A]);(0,o.useEffect)(()=>{_(z)},[z,_]);let[M,O]=(0,o.useState)(void 0),V=I((0,b.G)(P[0]),O),U=(0,n.b7)({getCoreRowModel:(0,r.sC)(),getGroupedRowModel:(0,r.qe)(),getExpandedRowModel:(0,r.rV)(),columns:V,manualPagination:!0,data:P,columnResizeMode:"onChange",getRowId:e=>e.urn});return N||E?(0,a.jsx)(c.I4,{rowHeight:36,numRows:36}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Q$,{children:(0,a.jsx)(s.kCb,{gap:6,align:"center",children:(0,a.jsx)(s.xuv,{flexShrink:0,children:(0,a.jsx)(l.f,{value:S,onChange:D})})})}),(0,a.jsx)(c.ZK,{tableInstance:U,emptyTableNotice:(0,a.jsx)(u.Z,{}),getRowIsClickable:e=>(0,w.Z)(e),onRowClick:i}),(0,a.jsx)(c.s8,{totalRows:Z||0,pageSizes:g,setPageSize:p,onPreviousPageClick:h,isPreviousPageDisabled:v,onNextPageClick:m,isNextPageDisabled:j,startRange:C,endRange:y}),(0,a.jsx)(d.Z,{resource:M,onClose:()=>O(void 0)})]})}},94780:function(e,t,i){"use strict";i.d(t,{X5:function(){return o},pN:function(){return l},sv:function(){return r}});var a=i(24246),n=i(96306);let r=e=>e.split(".")[1],s=[(0,a.jsx)(n.PJP.S9g,{},"layers"),(0,a.jsx)(n.PJP.iA_,{},"table"),(0,a.jsx)(n.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],o=(e,t)=>{if(!e)return[];let i=e.split(".");if(i.length<2)return[];let o=i.splice(0,2).join("."),l=[];return i.reduce((e,a,n)=>{let r=n===i.length-1,c="".concat(e).concat(".").concat(a);return l.push({title:a,href:r?void 0:"".concat(t,"/").concat(o,"/").concat(c),icon:s[n]}),c},o),[{title:r(o),href:"".concat(t,"/").concat(o),icon:(0,a.jsx)(n.PJP.ehp,{})},...l]},l=(e,t)=>{if(!e)return[];let i=e.split(".");if(i.length<2)return[];let a=i.shift(),n=[];return i.reduce((e,a,r)=>{let o=r===i.length-1,l="".concat(e).concat(".").concat(a);return n.push({title:a,href:o?void 0:"".concat(t,"/").concat(l),icon:s[r]}),l},a),n}},79947:function(e,t,i){"use strict";var a=i(24246),n=i(96306);t.Z=e=>{let{type:t}=e;return(0,a.jsx)(n.kCb,{align:"center",h:"full",children:!!t&&(0,a.jsx)(n.j8w,{children:t})})}}}]);