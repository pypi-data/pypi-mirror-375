#!/usr/bin/env python

# Example course script

import sys
from travo import Course, GitLab
from travo.script import main

forge = GitLab("https://gitlab.u-psud.fr")
course = Course(
    forge=forge,
    path="MethNum",
    name="MethNum",
    student_dir="~/MethNum",
    assignments_group_path="MethNum/2020-2021",
    assignments_group_name="2020-2021",
    script="prog-mod",
    student_groups=[
        "MP1",
        "MP2",
        "MP3",
        "MP4",
        "MP5",
        "MP6",
        "MP7",
        "MP8",
        "LDD-MP1",
        "LDD-MP2",
        "LDD-MP3",
        "LDD-PC1",
        "LDD-PC2",
        "LDD-GEO",
        "LDD-STAPS",
        "LDD-CSVT",
        "CandidatsLibres",
    ],
)

usage = f"""Aide pour l'utilisation de la commande {course.script}
===============================================

Télécharger ou mettre à jour un TP ou un projet (ici pour la semaine 1):

    {course.script} fetch Semaine1

Soumettre son TP ou projet (ici pour la semaine 1 et un étudiant du groupe MI2):

    {course.script} submit Semaine1 MI2

Plus d'aide:

    {course.script} --help
"""
if course.student_groups is not None:
    usage += f"\nGroupes: {', '.join(course.student_groups)}\n"

main(course, usage)
