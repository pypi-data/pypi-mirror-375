(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(41)},33:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),l=n.n(o),i=n(10),c=n(52),s=n(5),d=n.n(s);var p=e=>{let{commands:t,myFunc:n,listenAfterReply:o=!1,no_response_time:l=3,apiInProgress:i=!1,listenButton:c=!1,session_listen:d=!1,initialFinalTranscript:p="",splitImage:g=!1}=e;const{finalTranscript:u,interimTranscript:m,resetTranscript:b,listening:x,browserSupportsSpeechRecognition:f,isMicrophoneAvailable:h}=Object(s.useSpeechRecognition)(),[y,E]=Object(a.useState)(""),[v,w]=Object(a.useState)(!0),[S,k]=Object(a.useState)(""),[_,j]=Object(a.useState)(0),[O,R]=Object(a.useState)(0),[C,A]=Object(a.useState)(!1),[z,I]=Object(a.useState)(""),[T,W]=Object(a.useState)(!1),L=Object(a.useRef)(null),$=Object(a.useRef)(null),N=Object(a.useRef)(null),B=()=>{if(L.current){const e=L.current.selectionStart,t=L.current.selectionEnd,n=y.substring(e,t);n.length>0?(k(n),j(e),R(t),I("")):(k(""),j(0),R(0))}},F=async()=>{if(z.trim()&&S){W(!0);try{const a={api_body:{action:"replace_text",original_text:S,replacement_prompt:z.trim()}},r=await n(z.trim(),a,9);if(null===r||void 0===r||""===r||"None"===r||"string"===typeof r&&""===r.trim()){var e;console.log("MyFunc returned empty/null result, not replacing text"),I("");const t=null===(e=N.current)||void 0===e?void 0:e.placeholder;return void(N.current&&(N.current.placeholder="No replacement text returned - try a different prompt",setTimeout(()=>{N.current&&(N.current.placeholder=t||"Enter replacement text or prompt...")},3e3)))}const o=y.substring(0,_)+r+y.substring(O);if(E(o),A(!1),k(""),I(""),L.current){L.current.focus();const e=_+r.length;L.current.setSelectionRange(e,e)}}catch(t){if(console.error("Error replacing text:",t),N.current){const e=N.current.placeholder;N.current.placeholder="Error occurred during replacement",setTimeout(()=>{N.current&&(N.current.placeholder=e||"Enter replacement text or prompt...")},3e3)}}finally{W(!1)}}},H=()=>{A(!1),k(""),I(""),j(0),R(0),L.current&&L.current.focus()},M=Object(a.useCallback)(()=>{if(""!==u){if(c)return n(u,{api_body:{}},8),E(e=>`${e} ${u}`.trim()),b(),void E("");if(d){let e=!1;for(let a=0;a<t.length;a++){const{keywords:r}=t[a];for(let o=0;o<r.length;o++){const l=new RegExp(r[o],"i");if(-1!==u.search(l)&&!i)return console.log(`Keyword found: ${r[o]}`),n(u,t[a],1),b(),void(e=!0)}}e||(E(e=>`${e} ${u}`.trim()),b())}else L.current&&($.current=L.current.selectionStart),console.log("Recording speech-to-text without keyword triggers"),E(e=>`${e} ${u}`.trim()),b()}},[u,c,d,t,i]);return Object(a.useEffect)(()=>{C&&N.current&&setTimeout(()=>{N.current.focus()},100)},[C]),Object(a.useEffect)(()=>{p&&E(e=>`${e} ${p}`.trim()),M()},[p,M]),Object(a.useEffect)(()=>{L.current&&null!==$.current&&(L.current.selectionStart=$.current,L.current.selectionEnd=$.current,$.current=null)},[y]),f?h?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"}},r.a.createElement("button",{onClick:()=>{n(y,{api_body:{}},5),b(),E("")},style:{backgroundColor:"rgb(196, 230, 252)",color:"black",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",fontSize:"0.9em"}},"Send Transcript"),r.a.createElement("button",{onClick:()=>w(e=>!e),style:{backgroundColor:"white",color:"grey",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",fontSize:"0.9em"}},v?"Hide Transcript":"Show Transcript"),r.a.createElement("button",{onClick:()=>{b(),E(""),A(!1),k("")},style:{backgroundColor:"white",color:"grey",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",fontSize:"0.9em"}},"Clear Transcript"),r.a.createElement("button",{onClick:()=>{S&&(A(!0),I(""))},disabled:!S,style:{backgroundColor:S?"rgb(255, 245, 157)":"rgb(245, 245, 245)",color:S?"black":"grey",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:S?"pointer":"not-allowed",fontSize:"0.8em"},title:S?"Click to replace selected text":"Select text in transcript first"},S?`Replace: "${S.substring(0,20)}${S.length>20?"...":""}"`:"Select text to replace")),C&&r.a.createElement("div",{style:{position:"relative",backgroundColor:"rgb(255, 248, 220)",border:"2px solid rgb(255, 193, 7)",borderRadius:"8px",padding:"15px",marginBottom:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},r.a.createElement("div",{style:{marginBottom:"10px",fontSize:"0.9em",fontWeight:"bold"}},'Replace: "',r.a.createElement("span",{style:{fontStyle:"italic",color:"#666"}},S),'"'),r.a.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},r.a.createElement("input",{ref:N,type:"text",value:z,onChange:e=>I(e.target.value),onKeyDown:e=>{"Enter"===e.key?F():"Escape"===e.key&&H()},placeholder:"Enter replacement text or prompt...",style:{flex:1,padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.9em"},disabled:T}),r.a.createElement("button",{onClick:F,disabled:!z.trim()||T,style:{backgroundColor:T?"#ccc":"rgb(40, 167, 69)",color:"white",border:"none",padding:"8px 15px",borderRadius:"4px",cursor:T?"not-allowed":"pointer",fontSize:"0.9em",fontWeight:"bold"}},T?"\u23f3":"Replace"),r.a.createElement("button",{onClick:H,disabled:T,style:{backgroundColor:"rgb(108, 117, 125)",color:"white",border:"none",padding:"8px 15px",borderRadius:"4px",cursor:T?"not-allowed":"pointer",fontSize:"0.9em",fontWeight:"bold"}},"Cancel")),r.a.createElement("div",{style:{marginTop:"8px",fontSize:"0.8em",color:"#666"}},"\ud83d\udca1 Note: `Replace, will replace text with ",g,"'s response`;")),v&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",maxHeight:"800px",height:"550px",overflowY:"auto",border:"1px solid #ccc",padding:"10px"}},r.a.createElement("span",null,r.a.createElement("strong",null,"Listening:")," ",r.a.createElement("span",{style:{color:x?"green":"gray",fontWeight:600,animation:x?"flash-green 1s infinite alternate":"none"}},x?"ON":"OFF"),r.a.createElement("style",null,"\n                @keyframes flash-green {\n                  0% { opacity: 1; }\n                  100% { opacity: 0.4; }\n                }\n              ")),r.a.createElement("span",null,r.a.createElement("strong",null,"Transcript:"),S&&r.a.createElement("span",{style:{marginLeft:"10px",fontSize:"0.8em",color:"#666"}},"(`Replace with ",g,"'s response`);")),m&&r.a.createElement("div",{style:{color:"#888",fontStyle:"italic",marginBottom:"8px"}},m),r.a.createElement("textarea",{ref:L,value:y,onChange:e=>{E(e.target.value)},onSelect:B,onMouseUp:B,onKeyUp:B,style:{backgroundColor:"rgb(255, 255, 255)",color:"black",width:"100%",height:"550px",border:"1px solid #ccc",padding:"5px",resize:"none"}}))):r.a.createElement("span",null,"Please allow access to the microphone"):r.a.createElement("span",null,"No browser support")};var g=e=>{let{showImage:t,imageSrc:n,largeHeight:a=100,largeWidth:o=100,smallHeight:l=40,smallWidth:i=40}=e;const c=t?a:l,s=t?o:i;return r.a.createElement("div",{className:"p-2",style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},n&&(n.toLowerCase().endsWith(".mp4")?r.a.createElement("video",{style:{maxWidth:"100%",borderRadius:"8px",objectFit:"cover"},height:c,width:s,controls:t,autoPlay:!0,loop:!1,muted:!0},r.a.createElement("source",{src:n,type:"video/mp4"}),"Your browser does not support the video tag."):r.a.createElement("img",{src:n,height:c,width:s,style:{maxWidth:"100%",borderRadius:"8px",objectFit:"cover"},alt:"Media Preview"}))))};n(33);let u=[];var m=e=>{var t;const{api:n,kwargs:o={}}=e,{commands:l,height:i,width:s,show_video:m,input_text:b,no_response_time:x,face_recon:f,api_key:h,refresh_ask:y,self_image:E,api_audio:v,client_user:w,force_db_root:S,before_trigger:k,agent_actions:_}=o,[j,O]=Object(a.useState)(o.self_image),[R,C]=Object(a.useState)(o.self_image),[A,z]=Object(a.useState)(""),[I,T]=Object(a.useState)(o.answers||[]),[W,L]=Object(a.useState)(!1),[$,N]=Object(a.useState)(!1),[B,F]=Object(a.useState)(!1),[H,M]=Object(a.useState)(""),[P,D]=Object(a.useState)(!1),[U,Y]=Object(a.useState)(!1),[K,J]=Object(a.useState)(!1),[X,q]=Object(a.useState)(!0),[G,Q]=Object(a.useState)(!1),[V,Z]=Object(a.useState)(!1),[ee,te]=Object(a.useState)(!1),[ne,ae]=Object(a.useState)(!1),[re,oe]=Object(a.useState)(!1),[le,ie]=Object(a.useState)(o.before_trigger),ce=Object(a.useRef)([]),se=Object(a.useRef)(null),[de,pe]=Object(a.useState)(!1),[ge,ue]=Object(a.useState)("Click and Ask"),[me,be]=Object(a.useState)("Listening"),[xe,fe]=Object(a.useState)(!1),[he,ye]=Object(a.useState)([]),[Ee,ve]=Object(a.useState)(o.datatree||{}),[we,Se]=Object(a.useState)(o.datatree_title||""),[ke,_e]=Object(a.useState)([]),[je,Oe]=Object(a.useState)({}),[Re,Ce]=Object(a.useState)(0);Object(a.useEffect)(()=>{"undefined"!==typeof window&&Ce(window.innerWidth)},[]),Object(a.useEffect)(()=>{E&&Ae(E)},[E]);const Ae=async e=>{try{const n=await c.a.get(`${v}${e}`,{responseType:"blob"}),a=URL.createObjectURL(n.data);O(a),C(e)}catch(t){console.error("Error fetching image data:",t)}},ze=async()=>{J(!0),d.a.startListening({continuous:!0,language:"en-US"})},Ie=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[Te,We]=Object(a.useState)(null),[Le,$e]=Object(a.useState)(null),Ne=async(e,t,a)=>{let r=null,o=null;var l,i;9===a&&(console.log("Text replacement test - type 9 detected"),r=(null===(l=t.api_body)||void 0===l?void 0:l.original_text)||"",o=(null===(i=t.api_body)||void 0===i?void 0:i.replacement_prompt)||"",console.log("Original text:",r),console.log("Replacement prompt:",o)),z(` (${t.api_body.keyword}) ${e},`);const s=[...u,{user:e}];T([...s]);try{console.log("api call on listen...",t),console.log("selected_nodes",ke),D(!0);let e=null;"dataframe_edit"===a&&t.api_body&&t.api_body.dataframe&&(e=t.api_body.dataframe);const l={tigger_type:a,api_key:h,text:s,self_image:R,face_data:ce.current,refresh_ask:y,client_user:w,force_db_root:S,session_listen:ne,before_trigger_vars:le,selected_actions:he,selected_nodes:ke,dataframe:e,originalText:r,replacementPrompt:o};console.log("api");const{data:i}=await c.a.post(n,l);if(console.log("data :>> ",i,l),i.self_image&&i.self_image!==R&&Ae(i.self_image),i.text&&(T(i.text),u=[...i.text]),se.current&&se.current.pause(),i.audio_path){const e=`${v}${i.audio_path}`;se.current=new Audio(e);try{await se.current.play(),Y(!0),be("Speaking"),await new Promise(e=>{se.current.onended=(()=>{console.log("Audio playback finished."),e()})})}catch(p){console.error("Audio playback error:",p)}finally{se.current=null,Y(!1),be("Listen")}}if(ue("Click and Ask"),be("Listening"),Y(!1),D(!1),L(i.listen_after_reply),console.log("listen after reply",i.listen_after_reply,W),!1!==i.page_direct&&null!==i.page_direct&&(console.log("api has page direct",i.page_direct),window.location.href=i.page_direct),de?pe(!1):1==W?(console.log("API END HIT listenAfterReply==TRUE"),be("Awaiting your Answer please speak")):ee?(te(!1),J(!1),oe(!1),d.a.stopListening(),console.log("Stopping Listening, isListening=",K)):re&&console.log("convo mode"),i.dataframe)return We(i.dataframe),void $e(i.dataframe);if(9===a)return i.text[i.text.length-1].response||""}catch(p){console.log("api call on listen failed!",p),D(!1),te(!1)}console.log("ReSize Window"),ye([])};function Be(e,t){if(!e||"object"!==typeof e)return null;for(const[n,a]of Object.entries(e)){if(n===t)return a;if(a.children){const e=Be(a.children,t);if(e)return e}}return null}const Fe=(null===y||void 0===y?void 0:null===(t=y.color_dict)||void 0===t?void 0:t.background_color_chat)||"transparent",He=E.split(".")[0],Me=`Chat with ${He}`,Pe=ke[0]||null,De=Pe?Be(Ee,Pe):null,Ue=null===De||void 0===De?void 0:De.field_name,Ye=null===De||void 0===De?void 0:De.hyperlink,[Ke,Je]=Object(a.useState)(!1),[Xe,qe]=Object(a.useState)(450);return r.a.createElement("div",{style:{display:"flex",width:"100%",minHeight:"100vh"}},(!Ie||Ke)&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",flexShrink:0}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",padding:Ie?"2px 4px":"4px 8px"}},r.a.createElement("button",{onClick:()=>Je(e=>!e),style:{fontSize:Ie?"16px":"18px",padding:Ie?"2px 8px":"4px 10px",marginRight:Ie?"3px":"6px",border:"none",borderRadius:"50%",background:"transparent",color:"#2980b9",cursor:"pointer",height:Ie?"28px":"32px",width:Ie?"28px":"32px",boxShadow:"none",outline:"none",transition:"background 0.2s"},"aria-label":Ke?"Hide Sidebar":"Show Sidebar"},Ke?"\u23f4":"\u23f5")),Ke&&!Ie&&r.a.createElement("button",{onClick:()=>qe(e=>450===e?250:450),style:{border:"transparent",background:"transparent",cursor:"pointer",height:"32px",margin:"6px 0 0 0",width:"32px",alignSelf:"flex-end",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",boxShadow:"none",transition:"background 0.2s"}},450===Xe?r.a.createElement("span",null,"\u23ea"):r.a.createElement("span",null,"\u23e9")),Ke&&r.a.createElement("div",{style:{width:Ie?"280px":Xe,borderRight:"1px solid #ccc",padding:Ie?5:10,transition:"width 0.2s",maxHeight:Ie?"50vh":"none",overflowY:Ie?"auto":"visible"}},r.a.createElement(e=>{let{datatree:t={},onSelectionChange:n,collapsed:a,setCollapsed:o}=e;const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e||"object"!==typeof e||Array.isArray(e))return null;const c=Object.entries(e);return c.map((e,s)=>{let[d,p]=e;const g=[...i,d].join("/"),u=p.children&&"object"===typeof p.children&&!Array.isArray(p.children)&&Object.keys(p.children).length>0,m=void 0===a[g]||a[g],b=s===c.length-1;return r.a.createElement("div",{key:g,style:{marginLeft:14*t,position:"relative",whiteSpace:"nowrap",display:"flex",flexDirection:"column",alignItems:"flex-start",fontSize:"14px",fontFamily:"inherit",marginBottom:"2px",paddingTop:"4px",paddingBottom:"4px"}},t>0&&r.a.createElement("div",{style:{position:"absolute",left:-5,top:0,height:"100%",width:16,zIndex:0}},r.a.createElement("div",{style:{position:"absolute",left:-5,top:0,bottom:b?"50%":0,width:2,background:"#bbb",height:u&&!m?"50%":"100%"}}),r.a.createElement("div",{style:{position:"absolute",left:7,top:12,width:9,height:2,background:"#bbb"}})),r.a.createElement("div",{style:{display:"flex",alignItems:"center",position:"relative",zIndex:1}},u&&r.a.createElement("button",{onClick:()=>(e=>{o(t=>({...t,[e]:void 0!==t[e]&&!t[e]}))})(g),style:{border:"none",background:"transparent",cursor:"pointer",fontSize:"14px",marginRight:"4px",padding:0,width:"18px",height:"18px",lineHeight:"18px",userSelect:"none"},"aria-label":m?"Expand":"Collapse",tabIndex:-1},m?"\u25b6":"\u25bc"),r.a.createElement("input",{type:"checkbox",checked:ke.includes(d),onChange:()=>(e=>{let t;t=ke.includes(e)?ke.filter(t=>t!==e):[...ke,e],n&&n(t)})(d),style:{marginRight:"10px"}}),p.hyperlink?r.a.createElement("a",{href:p.hyperlink,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"#2980b9",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"inline-block",verticalAlign:"middle"},title:p.field_name},p.field_name):r.a.createElement("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"160px",display:"inline-block",verticalAlign:"middle"},title:p.field_name},p.field_name)),u&&!m&&r.a.createElement("div",{style:{width:"100%"}},l(p.children,t+1,[...i,d])))})};return we&&t?r.a.createElement("div",{style:{width:"100%",padding:10,maxHeight:800,overflowY:"auto",background:"transparent"}},r.a.createElement("h4",{style:{margin:"0 0 8px 0",fontWeight:600}},we),r.a.createElement("div",null,l(t))):null},{datatree:Ee,onSelectionChange:_e,collapsed:je,setCollapsed:Oe}))),r.a.createElement("div",{style:{flex:1,padding:Ie?"4px":"8px",minWidth:0}},Ie&&!Ke&&r.a.createElement("div",{style:{marginBottom:"8px"}},r.a.createElement("button",{onClick:()=>Je(!0),style:{fontSize:"16px",padding:"4px 8px",border:"1px solid #2980b9",borderRadius:"4px",background:"transparent",color:"#2980b9",cursor:"pointer"}},Ke?"\u23f4":"\u23f5")),r.a.createElement("div",null,Pe&&De?r.a.createElement("div",{style:{fontSize:Ie?"14px":"16px",marginBottom:"8px"}},"Working Page:"," ",Ye?r.a.createElement("a",{href:Ye,target:"_blank",rel:"noopener noreferrer"},Ue):Ue):r.a.createElement("div",null),ke.length>1&&r.a.createElement("div",{style:{marginTop:8,fontSize:Ie?"12px":"14px"}},r.a.createElement("strong",null,"Extra Context:")," ",ke.slice(1).map((e,t)=>{const n=Be(Ee,e);return r.a.createElement("span",{key:e,style:{marginRight:8}},(null===n||void 0===n?void 0:n.field_name)||e,t<ke.length-2?",":"")}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement("div",null,r.a.createElement(g,{showImage:xe,imageSrc:j,largeHeight:Ie?80:100,largeWidth:Ie?80:100,smallHeight:Ie?30:40,smallWidth:Ie?30:40})),r.a.createElement("div",{style:{flex:xe?1:"100%",overflowY:"auto",maxHeight:Ie?"300px":"450px"}},X&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",maxHeight:Ie?"300px":"450px",height:Ie?"300px":"450px",overflowY:"auto",padding:Ie?"5px":"10px"}},I.map((e,t)=>r.a.createElement("div",{key:t,className:"chat-message-container",style:{marginBottom:"5px",padding:Ie?"3px":"5px",borderRadius:"4px",border:"1px solid #ccc",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}},r.a.createElement("div",{className:"chat-user",style:{textAlign:"right",marginLeft:"auto",padding:Ie?"3px":"5px",fontSize:Ie?"12px":"14px"}},w,": ",r.a.createElement("span",null,e.user)),r.a.createElement("div",{className:"chat-response-container",style:{display:"flex",alignItems:"flex-start",backgroundColor:Fe,padding:Ie?"5px":"10px"}},j&&r.a.createElement("div",{className:"chat-image",style:{marginRight:Ie?"5px":"10px"}},r.a.createElement("img",{src:j,alt:"response",style:{width:Ie?"30px":"50px"}})),r.a.createElement("div",{className:"chat-response-text",style:{flex:1,wordBreak:"break-word",fontSize:Ie?"12px":"14px"}},e.resp?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.resp}}):r.a.createElement("span",{className:"spinner"})))))))),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{style:{margin:"3px 0"}}),r.a.createElement("div",{className:"form-group",style:{display:"flex",alignItems:"center"}},r.a.createElement("input",{className:"form-control",type:"text",placeholder:Me,value:H,onChange:e=>{M(e.target.value),pe(!0)},onKeyDown:e=>{"Enter"===e.key&&(console.log("textString :>> ",H),Ne(H,{api_body:{keyword:""}},4),M(""))},style:{flex:1,fontSize:Ie?"14px":"16px",padding:Ie?"6px":"8px"}})),r.a.createElement("hr",{style:{margin:"3px 0"}})),Te&&Array.isArray(Te)&&Te.length>0&&Le&&Array.isArray(Le)&&Le.length>0&&r.a.createElement("div",{style:{padding:20,border:"2px solid #b3c6e0",borderRadius:"12px",background:"rgba(240, 248, 255, 0.7)",boxShadow:"0 2px 12px rgba(100, 150, 200, 0.08)",marginBottom:16,marginTop:8}},r.a.createElement("h3",{style:{marginTop:0,color:"#2a3b5d"}},"Edit Dataframe"),r.a.createElement("table",{style:{borderCollapse:"collapse",width:"100%",background:"rgba(255,255,255,0.5)",borderRadius:"8px",overflow:"hidden",boxShadow:"0 1px 4px rgba(100,150,200,0.06)"}},r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(Te[0]).map(e=>r.a.createElement("th",{key:e,style:{border:"1px solid #c8d6e5",padding:6,background:"rgba(200,220,255,0.35)",color:"#2a3b5d",fontWeight:600}},e)))),r.a.createElement("tbody",null,Le.map((e,t)=>r.a.createElement("tr",{key:t},Object.keys(e).map(n=>r.a.createElement("td",{key:n,style:{border:"1px solid #c8d6e5",padding:4,background:"rgba(255,255,255,0.3)"}},r.a.createElement("input",{value:e[n],onChange:e=>{const a=Le.map((a,r)=>r===t?{...a,[n]:e.target.value}:a);$e(a)},style:{width:"100%",background:"rgba(255,255,255,0.5)",border:"1px solid #b3c6e0",borderRadius:"4px",padding:"2px 4px",color:"#2a3b5d"}}))))))),r.a.createElement("div",{style:{marginTop:12}},r.a.createElement("button",{style:{marginRight:8,background:"rgba(42, 59, 93, 0.8)",color:"#fff",border:"none",borderRadius:"4px",padding:"6px 14px",cursor:"pointer"},onClick:async()=>{await Ne(H,{api_body:{dataframe:Le}},"dataframe_edit"),We(null),$e(null)}},"Save"),r.a.createElement("button",{style:{background:"rgba(200,220,255,0.5)",color:"#2a3b5d",border:"none",borderRadius:"4px",padding:"6px 14px",cursor:"pointer"},onClick:()=>{We(null),$e(null)}},"Cancel"))),r.a.createElement("div",{className:"form-group",style:{display:"flex",alignItems:"left",flexWrap:"wrap",gap:Ie?"4px":"8px"}},r.a.createElement("button",{onClick:()=>{te(!0),K||ze(),ue("Please Speak"),console.log("listening button listen click"),console.log(ee)},style:{marginLeft:Ie?4:8,background:ee?"rgb(26, 182, 28)":"rgb(19, 123, 193)",border:"none",borderRadius:"50%",width:Ie?32:36,height:Ie?32:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",fontSize:Ie?16:20,boxShadow:"0 1px 4px rgba(0,0,0,0.08)",transition:"background 0.2s"},title:"Click and Ask"},r.a.createElement("span",{role:"img","aria-label":"microphone"},"\ud83c\udfa4")),r.a.createElement("button",{onClick:async()=>{console.log("convo_mode - listening?",K,"isMobile:",Ie,"convo_button:",re),re?(console.log("Stopping continuous listening..."),oe(!1),J(!1),d.a.stopListening()):(console.log("Starting continuous listening..."),oe(!0),ze())},onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),style:{marginLeft:8,background:re?"rgb(26, 182, 28)":"rgb(19, 123, 193)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",fontSize:20,boxShadow:"0 1px 4px rgba(0,0,0,0.08)",transition:"background 0.2s",position:"relative"}},r.a.createElement("span",{role:"img","aria-label":re?"paper":"x"},re?"\ud83c\udfa7":"\ud83d\udd07"),"  ",V&&r.a.createElement("span",{style:{position:"absolute",top:"-38px",left:"50%",transform:"translateX(-50%)",background:"#222",color:"#fff",padding:"4px 10px",borderRadius:"4px",fontSize:"13px",whiteSpace:"nowrap",zIndex:1e3,pointerEvents:"none"}},re?"Listening On":"Listening OFF")),r.a.createElement("button",{onClick:()=>{ae(!ne)},onMouseEnter:()=>Q(!0),onMouseLeave:()=>Q(!1),style:{marginLeft:8,background:ne?"rgb(26, 182, 28)":"rgb(19, 123, 193)",border:"none",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",fontSize:20,boxShadow:"0 1px 4px rgba(0,0,0,0.08)",transition:"background 0.2s",position:"relative"}},r.a.createElement("span",{role:"img","aria-label":ne?"paper":"x"},"\ud83d\udcc4"),"  ",G&&r.a.createElement("span",{style:{position:"absolute",top:"-38px",left:"50%",transform:"translateX(-50%)",background:"rgb(235, 243, 244)",color:"rgb(45, 68, 72)",padding:"4px 10px",borderRadius:"4px",fontSize:"13px",whiteSpace:"normal",maxWidth:"220px",textAlign:"center",zIndex:1e3,pointerEvents:"none"}},ne?"ON":`Enable's "hey ${He}" commands & holds Transcript"`))),Array.isArray(_)&&_.length>0&&r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"right",marginTop:"8px",gap:"6px",alignItems:"right"}},r.a.createElement("span",{style:{fontWeight:600,marginRight:12,minWidth:90,textAlign:"left"}},"Agent Actions:"),_.map((e,t)=>{const n=he.includes(e);return r.a.createElement("button",{key:t,onClick:()=>{ye(n?he.filter(t=>t!==e):[...he,e])},style:{fontSize:"12px",padding:"5px 10px",backgroundColor:n?"rgb(59, 159, 72)":"rgb(200, 233, 238)",color:n?"white":"black",border:"1px solidrgb(239, 242, 244)",borderRadius:"4px",cursor:"pointer"}},e)})),r.a.createElement("div",{className:"p-2",style:{marginBottom:"15px"}},r.a.createElement(p,{commands:l,myFunc:Ne,listenAfterReply:W,no_response_time:x,apiInProgress:P,listenButton:ee,session_listen:ne,listening:K,initialFinalTranscript:o.initialFinalTranscript||"",splitImage:He}))))};var b=Object(i.b)(e=>{const{api:t,kwargs:n}=e.args;return Object(a.useEffect)(()=>i.a.setFrameHeight()),r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{api:t,kwargs:n}))}),x=n(53),f=n(20),h=n(51),y=n(42);const E=new x.a;l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{value:E},r.a.createElement(h.a,{theme:y.a},r.a.createElement(b,null)))),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.c33dd945.chunk.js.map