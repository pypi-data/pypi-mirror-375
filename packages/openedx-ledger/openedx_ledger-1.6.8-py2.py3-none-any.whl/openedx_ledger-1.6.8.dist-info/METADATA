Metadata-Version: 2.4
Name: openedx-ledger
Version: 1.6.8
Summary: Records transactions against a ledger, denominated in units of value.
Home-page: https://github.com/openedx/openedx-ledger
Author: edX
Author-email: oscm@edx.org
License: AGPL 3.0
Keywords: Python edx
Classifier: Development Status :: 3 - Alpha
Classifier: Framework :: Django
Classifier: Framework :: Django :: 4.2
Classifier: Framework :: Django :: 5.2
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: GNU Affero General Public License v3 or later (AGPLv3+)
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.12
License-File: LICENSE.txt
Requires-Dist: Django
Requires-Dist: django-extensions
Requires-Dist: django-filter
Requires-Dist: django-object-actions
Requires-Dist: django-simple-history
Requires-Dist: djangoql
Requires-Dist: edx-django-release-util
Requires-Dist: edx-django-utils
Requires-Dist: edx-rbac
Requires-Dist: jsonfield2
Requires-Dist: mysqlclient
Requires-Dist: openedx-events
Requires-Dist: pytz
Requires-Dist: redis
Requires-Dist: rules
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: home-page
Dynamic: keywords
Dynamic: license
Dynamic: license-file
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

openedx-ledger
##############

.. note::

  This README was auto-generated. Maintainer: please review its contents and
  update all relevant sections. Instructions to you are marked with
  "PLACEHOLDER" or "TODO". Update or remove those sections, and remove this
  note when you are done.

|pypi-badge| |ci-badge| |codecov-badge| |doc-badge| |pyversions-badge|
|license-badge| |status-badge|

Purpose
*******

Records transactions against a ledger, denominated in units of value.

TODO: The ``README.rst`` file should start with a brief description of the repository and its purpose.
It should be described in the context of other repositories under the ``openedx``
organization. It should make clear where this fits in to the overall Open edX
codebase and should be oriented towards people who are new to the Open edX
project.

Getting Started
***************

Developing
==========

One Time Setup
--------------
.. code-block::

  # Clone the repository into your devstack src/ directory
  cd $DEVSTACK_WORKSPACE/src
  git clone git@github.com:openedx/openedx-ledger.git


Every time you develop something in this repo
---------------------------------------------
.. code-block::

   # shell into a running enterprise-subsidy container
   make app-shell

   # inside the container shell now
   # TODO find a better permanent place to put this git config call
   git config --global --add safe.directory /edx/src/openedx-ledger
   pip install -e /edx/src/openedx-ledger
   pip freeze | grep ledger # should give output pointing at a file and git hash

   # Now, to run tests and validation against openedx-ledger:
   pushd /edx/src/openedx-ledger
   source venv/bin/activate
   make validate


Deploying
=========

TODO: How can a new user go about deploying this component? Is it just a few
commands? Is there a larger how-to that should be linked here?

PLACEHOLDER: For details on how to deploy this component, see the `deployment how-to`_

.. _deployment how-to: https://docs.openedx.org/projects/openedx-ledger/how-tos/how-to-deploy-this-component.html

Getting Help
************

Documentation
=============

PLACEHOLDER: Start by going through `the documentation`_.  If you need more help see below.

.. _the documentation: https://docs.openedx.org/projects/openedx-ledger

(TODO: `Set up documentation <https://openedx.atlassian.net/wiki/spaces/DOC/pages/21627535/Publish+Documentation+on+Read+the+Docs>`_)

More Help
=========

If you're having trouble, we have discussion forums at
https://discuss.openedx.org where you can connect with others in the
community.

Our real-time conversations are on Slack. You can request a `Slack
invitation`_, then join our `community Slack workspace`_.

For anything non-trivial, the best path is to open an issue in this
repository with as many details about the issue you are facing as you
can provide.

https://github.com/openedx/openedx-ledger/issues

For more information about these options, see the `Getting Help`_ page.

.. _Slack invitation: https://openedx.org/slack
.. _community Slack workspace: https://openedx.slack.com/
.. _Getting Help: https://openedx.org/getting-help

License
*******

The code in this repository is licensed under the AGPL 3.0 unless
otherwise noted.

Please see `LICENSE.txt <LICENSE.txt>`_ for details.

Contributing
************

Contributions are very welcome.
Please read `How To Contribute <https://openedx.org/r/how-to-contribute>`_ for details.

This project is currently accepting all types of contributions, bug fixes,
security fixes, maintenance work, or new features.  However, please make sure
to have a discussion about your new feature idea with the maintainers prior to
beginning development to maximize the chances of your change being accepted.
You can start a conversation by creating a new issue on this repo summarizing
your idea.

The Open edX Code of Conduct
****************************

All community members are expected to follow the `Open edX Code of Conduct`_.

.. _Open edX Code of Conduct: https://openedx.org/code-of-conduct/

People
******

The assigned maintainers for this component and other project details may be
found in `Backstage`_. Backstage pulls this data from the ``catalog-info.yaml``
file in this repo.

.. _Backstage: https://open-edx-backstage.herokuapp.com/catalog/default/component/openedx-ledger

Reporting Security Issues
*************************

Please do not report security issues in public. Please email security@openedx.org.

.. |pypi-badge| image:: https://img.shields.io/pypi/v/openedx-ledger.svg
    :target: https://pypi.python.org/pypi/openedx-ledger/
    :alt: PyPI

.. |ci-badge| image:: https://github.com/openedx/openedx-ledger/workflows/Python%20CI/badge.svg?branch=main
    :target: https://github.com/openedx/openedx-ledger/actions
    :alt: CI

.. |codecov-badge| image:: https://codecov.io/github/openedx/openedx-ledger/coverage.svg?branch=main
    :target: https://codecov.io/github/openedx/openedx-ledger?branch=main
    :alt: Codecov

.. |doc-badge| image:: https://readthedocs.org/projects/openedx-ledger/badge/?version=latest
    :target: https://openedx-ledger.readthedocs.io/en/latest/
    :alt: Documentation

.. |pyversions-badge| image:: https://img.shields.io/pypi/pyversions/openedx-ledger.svg
    :target: https://pypi.python.org/pypi/openedx-ledger/
    :alt: Supported Python versions

.. |license-badge| image:: https://img.shields.io/github/license/openedx/openedx-ledger.svg
    :target: https://github.com/openedx/openedx-ledger/blob/main/LICENSE.txt
    :alt: License

.. TODO: Choose one of the statuses below and remove the other status-badge lines.
.. |status-badge| image:: https://img.shields.io/badge/Status-Experimental-yellow
.. .. |status-badge| image:: https://img.shields.io/badge/Status-Maintained-brightgreen
.. .. |status-badge| image:: https://img.shields.io/badge/Status-Deprecated-orange
.. .. |status-badge| image:: https://img.shields.io/badge/Status-Unsupported-red


Change Log
##########

..
   All enhancements and patches to openedx_ledger will be documented
   in this file.  It adheres to the structure of https://keepachangelog.com/ ,
   but in reStructuredText instead of Markdown (for ease of incorporation into
   Sphinx documentation and the PyPI description).

   This project adheres to Semantic Versioning (https://semver.org/).

.. There should always be an "Unreleased" section for changes pending release.

Unreleased
**********
* Nothing unreleased

[1.6.8]
*******
* chore: Increase version to 1.6.8 for dependency updates.

[1.6.7]
*******
* chore: Increase version to 1.6.7 for dependency updates.

[1.6.6]
*******
* chore: Increase version to 1.6.6 for dependency updates.

[1.6.5]
*******
* chore: Increase version to 1.6.5 for dependency updates.

[1.6.4]
*******
* chore: Increase version to 1.6.4 for dependency updates.

[1.6.3]
*******
* chore: Increase version to 1.6.3 for dependency updates.

[1.6.2]
*******
* chore: Increase version to 1.6.2 for dependency updates.

[1.6.1]
*******
* chore: Increase version to 1.6.1 for dependency updates.

[1.6.0]
*******
* feat: Add support for Django 5.2
* feat!: Dropped support for Python 3.8 and 3.9

[1.5.24]
********
* chore: Increase version to 1.5.24 for dependency updates.

[1.5.23]
********
* chore: Increase version to 1.5.23 for dependency updates.

[1.5.22]
********
* chore: Update python requirements job source to openedx

[1.5.21]
********
* chore: Increase version to 1.5.21 for dependency updates.

[1.5.20]
********
* chore: Increase version to 1.5.20 for dependency updates.

[1.5.19]
********
* chore: Increase version to 1.5.19 for dependency updates.

[1.5.18]
********
* chore: Increase version to 1.5.18 for dependency updates.

[1.5.17]
********
* chore: Increase version to 1.5.17 for dependency updates.

[1.5.16]
********
* chore: Increase version to 1.5.16 for dependency updates.

[1.5.15]
********
* chore: Increase version to 1.5.15 for dependency updates.

[1.5.14]
********
* chore: Increase version to 1.5.14 for dependency updates.

[1.5.13]
********
* chore: Increase version to 1.5.13 for dependency updates.

[1.5.12]
********
* chore: Increase version to 1.5.12 for dependency updates.

[1.5.11]
********
* chore: Increase version to 1.5.11 for dependency updates.

[1.5.10]
********
* chore: Increase version to 1.5.10 for dependency updates.

[1.5.9]
*******
* chore: Increase version to 1.5.9 for dependency updates.
* chore: Use Node 20 in Dockerfile.

[1.5.8]
*******
* chore: Increase version to 1.5.8 for dependency updates.

[1.5.7]
*******
* chore: Increase version to 1.5.7 for dependency updates.

[1.5.6]
*******
* chore: Increase version to 1.5.5 for dependency updates.

[1.5.5]
*******
* chore: Increase version to 1.5.5 for dependency updates.

[1.5.4]
*******
* chore: Increase version to 1.5.4 for dependency updates.

[1.5.3]
*******
* fix: deposit sales references should be optional

[1.5.2]
*******
* feat: Ledger creation is now capable of initial Deposit creation

[1.5.1]
*******
* chore: Increase version to 1.5.1 for dependency updates.

[1.5.0]
*******
* feat: Deposit model and supporting functionality

[1.4.5]
*******
* chore: Increase version to 1.4.5 for dependency updates.

[1.4.4]
*******
* feat: the Reversal django admin field now autocompletes.

[1.4.3]
*******
* feat: Update help text for adjustments

[1.4.2]
*******
* feat: Dependency updates

[1.4.1]
*******
* feat: Add python 3.12 support

[1.4.0]
*******
* feat: Add parent_content_key field to Transaction model (ENT-8389)

[1.3.3]
*******
* Upgrade requirements

[1.3.2]
*******
* Fixing a kwarg typo

[1.3.1]
*******
* Update requirements

[1.3.0]
*******
* Add optional ``lms_user_email`` and ``content_title`` to the ``Transaction`` model

[1.2.0]
*******
* Add an ``Adjustment`` model

[1.1.0]
*******
* Add support for Django 4.2

[1.0.2]
*******
* only allow reversals of committed transactions

[1.0.1]
*******
* make transaction and ledger admins friendlier

[1.0.0]
*******
* Look for an ``lms_user_id`` key when generating transaction idempotency keys, not ``learner_id``.

[0.4.0]
*******
* include only non-failed transactions in ledger balance calculation by default

[0.3.3]
*******
* drop `ExternalFulfillmentProvider` name constraints
* Switch from ``edx-sphinx-theme`` to ``sphinx-book-theme`` since the former is
  deprecated.  See https://github.com/openedx/edx-sphinx-theme/issues/184 for
  more details.

[0.2.2]
*******
* Add many help_text fields to model fields.
* Add some useful composite table indices.
* Add a "failed" transaction state.

[0.2.0]
*******
* Some small developer QOL stuff.
* Better local development instructions in README.
* Remove docs from quality checks and ci.yml.
* Reasonable first pass at allowing for weak/strong admin editing ability depending on environment settings.
* Simple, first attempt at an idempotency key utility methods for ledgers and transactions that optionally take a subsidy and initial deposit, resp.
* Allow blank idp keys on the Ledger model, and set to a sane default if not provided on save().
* Remove JPY as an allowed unit.
* ``api.create_ledger()`` now seeds the ledger with an optional initial deposit.
* Check if we're already inside a transaction when setting ``durable=True`` in ``create_transaction()``.

[0.1.1] - 2023-01-05
********************

Added
=====

* Package renamed from `edx-ledger` to `openedx-ledger`

[0.1.0] - 2023-01-04
************************************************

Added
=====

* First release on PyPI.
