(()=>{"use strict";var e,i,t,r={2587:(e,i,t)=>{t.d(i,{ChartReadyDetector:()=>o});var r=t(1443);class o{static async waitForChartReady(e,i){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{minWidth:r=100,minHeight:o=100,maxAttempts:n=15,baseDelay:a=200}=t;return new Promise(t=>{const s=function(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{if(e&&i){try{const i=e.chartElement();if(i){const e=i.getBoundingClientRect();if(e.width>=r&&e.height>=o)return void t(!0)}}catch(l){}try{const e=i.getBoundingClientRect();if(e.width>=r&&e.height>=o)return void t(!0)}catch(d){}}n>c?setTimeout(()=>s(c+1),a*Math.pow(1.5,c)):t(!1)}catch(h){n>c?setTimeout(()=>s(c+1),a*Math.pow(1.5,c)):t(!1)}};s()})}static async waitForChartReadyForPrimitives(e,i){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{testTime:o,testPrice:n,maxAttempts:a=30,baseDelay:s=150,requireData:c=!0}=t,l=r.Y.getInstance();for(let r=0;a>r;r++){try{const t=e.chartElement();if(!t)throw Error("Chart element not found");if(!await l.getValidatedChartDimensions(e,t,{minWidth:200,minHeight:200,maxAttempts:1,baseDelay:0}))throw Error("Chart dimensions validation failed");const r=e.timeScale(),a=r.getVisibleRange(),s=r.getVisibleLogicalRange();if(!a||!s)throw Error("Missing ranges - visible: ".concat(!!a,", logical: ").concat(!!s));if(c){const e=i.data();if(!e||0===e.length)throw Error("No series data")}let h=o,p=n;if(void 0===h||void 0===p)try{const e=i.data();if(e&&e.length>0){const i=e[Math.floor(e.length/2)];void 0===h&&(h=(null==i?void 0:i.time)||(a.from+a.to)/2),void 0===p&&(p=(null==i?void 0:i.value)||(null==i?void 0:i.close)||(null==i?void 0:i.high)||(null==i?void 0:i.low)||100)}else h=(a.from+a.to)/2,p=100}catch(d){h=(a.from+a.to)/2,p=100}const u=(s.from+s.to)/2,g=r.timeToCoordinate(h),v=r.logicalToCoordinate(u),m=i.priceToCoordinate(p);if(null===g||null===v||null===m||!isFinite(g)||!isFinite(v)||!isFinite(m))throw Error("Coordinate conversion failed - X: ".concat(g,", LogicalX: ").concat(v,", Y: ").concat(m));return!0}catch(h){}if(a-1>r){const e=s*Math.pow(1.2,r)+50*Math.random();await new Promise(i=>setTimeout(i,e))}}return console.warn("Chart readiness check failed after ".concat(a," attempts")),!1}static isChartReadyForPrimitivesSync(e,i){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{testTime:o,testPrice:n,requireData:a=!0}=t,s=r.Y.getInstance();try{const t=e.chartElement();if(!t)return!1;const r={container:{width:t.getBoundingClientRect().width,height:t.getBoundingClientRect().height}};if(!s.areChartDimensionsObjectValid(r,200,200))return!1;const c=e.timeScale(),l=c.getVisibleRange(),d=c.getVisibleLogicalRange();if(!l||!d)return!1;if(a){const e=i.data();if(!e||0===e.length)return!1}if(void 0!==o&&void 0!==n){const e=c.timeToCoordinate(o),r=i.priceToCoordinate(n);if(null===e||null===r||isNaN(e)||isNaN(r))return!1;const a=t.getBoundingClientRect();if(0>e||0>r||e>a.width||r>a.height)return!1}return!0}catch(c){return!1}}static isChartReadySync(e,i){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;try{if(!e||!i)return!1;try{const i=e.chartElement();if(i){const e=i.getBoundingClientRect();if(e.width>=t&&e.height>=r)return!0}}catch(o){}try{const e=i.getBoundingClientRect();return e.width>=t&&e.height>=r}catch(o){return!1}}catch(o){return!1}}static async waitForElementReady(e,i){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{maxAttempts:r=10,baseDelay:o=100}=t;return new Promise(t=>{const n=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{const s=i.querySelector(e);if(s)return void t(s);r>a?setTimeout(()=>n(a+1),o*Math.pow(1.5,a)):t(null)}catch(s){r>a?setTimeout(()=>n(a+1),o*Math.pow(1.5,a)):t(null)}};n()})}}},4472:(e,i,t)=>{t.d(i,{Ac:()=>c,Fv:()=>d,GK:()=>o,NS:()=>s,ZU:()=>l});var r=t(9665);function o(e){const i=[],t=[];if(e.container?(e.container.width>0||i.push("Invalid container width: ".concat(e.container.width)),e.container.height>0||i.push("Invalid container height: ".concat(e.container.height)),e.container.width<r.Yf.chart.minWidth&&t.push("Container width (".concat(e.container.width,") is below recommended minimum (").concat(r.Yf.chart.minWidth,")")),e.container.height<r.Yf.chart.minHeight&&t.push("Container height (".concat(e.container.height,") is below recommended minimum (").concat(r.Yf.chart.minHeight,")"))):i.push("Missing container dimensions"),e.timeScale){const o=n(e.timeScale,"timeScale");i.push(...o.errors),t.push(...o.warnings),e.timeScale.height<r.Yf.timeAxis.minHeight&&t.push("Time scale height (".concat(e.timeScale.height,") is below minimum (").concat(r.Yf.timeAxis.minHeight,")")),e.timeScale.height>r.Yf.timeAxis.maxHeight&&t.push("Time scale height (".concat(e.timeScale.height,") exceeds maximum (").concat(r.Yf.timeAxis.maxHeight,")"))}else i.push("Missing time scale dimensions");if(e.priceScaleLeft){const r=n(e.priceScaleLeft,"priceScaleLeft");i.push(...r.errors),t.push(...r.warnings)}else t.push("Missing left price scale dimensions");if(e.priceScaleRight){const r=n(e.priceScaleRight,"priceScaleRight");i.push(...r.errors),t.push(...r.warnings)}if(e.panes&&0!==e.panes.length?e.panes.forEach((e,r)=>{const o=function(e){const i=[],t=[];if(0>e.id&&i.push("Invalid pane ID"),e.bounds){const r=a(e.bounds,"bounds");i.push(...r.errors),t.push(...r.warnings)}else i.push("Missing pane bounds");if(e.contentArea){const r=a(e.contentArea,"contentArea");i.push(...r.errors),t.push(...r.warnings)}else i.push("Missing pane content area");return e.bounds&&e.contentArea&&(e.contentArea.width>e.bounds.width&&i.push("Content area width exceeds pane bounds"),e.contentArea.height>e.bounds.height&&i.push("Content area height exceeds pane bounds")),{isValid:0===i.length,errors:i,warnings:t}}(e);i.push(...o.errors.map(e=>"Pane ".concat(r,": ").concat(e))),t.push(...o.warnings.map(e=>"Pane ".concat(r,": ").concat(e)))}):i.push("No panes defined"),e.contentArea){const r=a(e.contentArea,"contentArea");i.push(...r.errors),t.push(...r.warnings)}else i.push("Missing content area dimensions");return e.timestamp&&e.timestamp>0||t.push("Invalid or missing timestamp"),{isValid:0===i.length,errors:i,warnings:t}}function n(e,i){const t=[],r=[];return(0>e.width||0>e.height)&&t.push("".concat(i," has negative dimensions")),(0>e.x||0>e.y)&&r.push("".concat(i," has negative position")),{isValid:0===t.length,errors:t,warnings:r}}function a(e,i){const t=[],r=[];return void 0===e.width||e.width>0||t.push("".concat(i," has invalid width: ").concat(e.width)),void 0===e.height||e.height>0||t.push("".concat(i," has invalid height: ").concat(e.height)),void 0!==e.x&&0>e.x&&r.push("".concat(i," has negative x position: ").concat(e.x)),void 0!==e.y&&0>e.y&&r.push("".concat(i," has negative y position: ").concat(e.y)),void 0!==e.x&&void 0!==e.width&&void 0!==e.right&&Math.abs(e.x+e.width-e.right)>1&&r.push("".concat(i," has inconsistent right bound")),void 0!==e.y&&void 0!==e.height&&void 0!==e.bottom&&Math.abs(e.y+e.height-e.bottom)>1&&r.push("".concat(i," has inconsistent bottom bound")),{isValid:0===t.length,errors:t,warnings:r}}function s(e){const i=Date.now();return{container:e.container||{width:r.i4.containerWidth,height:r.i4.containerHeight,offsetTop:0,offsetLeft:0},timeScale:e.timeScale||{x:0,y:r.i4.containerHeight-r.i4.timeScaleHeight,width:r.i4.containerWidth,height:r.i4.timeScaleHeight},priceScaleLeft:e.priceScaleLeft||{x:0,y:0,width:r.i4.priceScaleWidth,height:r.i4.containerHeight-r.i4.timeScaleHeight},priceScaleRight:e.priceScaleRight||{x:r.i4.containerWidth-r.Yf.priceScale.rightScaleDefaultWidth,y:0,width:r.Yf.priceScale.rightScaleDefaultWidth,height:r.i4.containerHeight-r.i4.timeScaleHeight},panes:e.panes||[{id:0,index:0,isMainPane:!0,bounds:c(0,0,r.i4.paneWidth,r.i4.paneHeight),contentArea:c(r.i4.priceScaleWidth,0,r.i4.paneWidth-r.i4.priceScaleWidth,r.i4.paneHeight-r.i4.timeScaleHeight),margins:{top:10,right:10,bottom:10,left:10}}],contentArea:e.contentArea||{x:r.i4.priceScaleWidth,y:0,width:r.i4.containerWidth-r.i4.priceScaleWidth,height:r.i4.containerHeight-r.i4.timeScaleHeight},timestamp:e.timestamp||i,isValid:!1}}function c(e,i,t,r){return{x:e,y:i,width:t,height:r,top:i,left:e,right:e+t,bottom:i+r}}function l(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return Date.now()-e.timestamp>i}function d(e){}},4600:(e,i,t)=>{t.d(i,{w:()=>u});var r=t(2555),o=t(3986),n=t(559),a=t(8891),s=t(4928),c=t(6252),l=t(3152),d=t(7866),h=t(5364);const p=["priceFormat"];function u(e,i){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0,g=arguments.length>4?arguments[4]:void 0;const{signalPluginRefs:v}=t;if(!e)throw Error("Chart is required");if(!i)throw Error("Series configuration is required");if(!i.type)throw Error("Series type is required");if("function"!=typeof e.addSeries)throw Error("Chart does not have addSeries method");const{type:m,data:b,options:f={},priceScale:y,lastValueVisible:w,lastPriceAnimation:S,priceLineVisible:L,priceLineSource:C,priceLineWidth:M,priceLineColor:V,priceLineStyle:k,priceScaleId:A}=i,F=void 0!==w?w:f.lastValueVisible,W=void 0!==L?L:f.priceLineVisible,x=void 0!==C?C:f.priceLineSource,D=void 0!==M?M:f.priceLineWidth,O=void 0!==V?V:f.priceLineColor,R=void 0!==k?k:f.priceLineStyle,E=void 0!==A?A:f.priceScaleId,I=void 0!==i.paneId?i.paneId:0;let T;const H=null==m?void 0:m.toLowerCase(),{priceFormat:B}=f,P=(0,o.A)(f,p),j=(0,d.L)(P);switch(H){case"area":{const i=(0,r.A)((0,r.A)({},j),{},{lineColor:j.color||"#2196F3",topColor:j.topColor||"rgba(33, 150, 243, 0.4)",bottomColor:j.bottomColor||"rgba(33, 150, 243, 0.0)",lineWidth:j.lineWidth||2,relativeGradient:j.relativeGradient||!1,invertFilledArea:j.invertFilledArea||!1,priceScaleId:E||"",lastValueVisible:void 0===F||F,lastPriceAnimation:void 0!==S?S:0,priceLineVisible:void 0===W||W,priceLineSource:void 0!==x?x:"lastBar",priceLineWidth:void 0!==D?D:1,priceLineColor:void 0!==O?O:"",priceLineStyle:void 0!==R?R:2});B&&(i.priceFormat=B),T=e.addSeries(n.ti,i,I);try{!1===F&&T.applyOptions({lastValueVisible:!1})}catch(ee){}break}case"band":try{const i={upperLine:j.upperLine||{color:"#4CAF50",lineStyle:0,lineWidth:2,lineVisible:!0},middleLine:j.middleLine||{color:"#2196F3",lineStyle:0,lineWidth:2,lineVisible:!0},lowerLine:j.lowerLine||{color:"#F44336",lineStyle:0,lineWidth:2,lineVisible:!0},upperFillColor:j.upperFillColor||"rgba(76, 175, 80, 0.1)",lowerFillColor:j.lowerFillColor||"rgba(244, 67, 54, 0.1)",upperFill:void 0===j.upperFill||j.upperFill,lowerFill:void 0===j.lowerFill||j.lowerFill,priceScaleId:E||"right",visible:!1!==j.visible,lastValueVisible:void 0===F||F,priceLineVisible:void 0===W||W,priceLineSource:void 0!==x?x:"lastBar",priceLineWidth:void 0!==D?D:1,priceLineColor:void 0!==O?O:"",priceLineStyle:void 0!==R?R:2},t=(0,a.b)(e,i);return b&&b.length>0&&t.setData(b),{setData:e=>{try{t.setData(e)}catch(i){}},update:e=>{try{t.update(e)}catch(i){}},applyOptions:e=>{try{t.setOptions((0,d.L)(e))}catch(i){}},priceScale:()=>{try{return e.priceScale(E||"right")}catch(i){return null}},remove:()=>{try{t.remove()}catch(e){}}}}catch(ie){return null}case"ribbon":try{const i={upperLine:j.upperLine||{color:"#4CAF50",lineStyle:0,lineWidth:2,lineVisible:!0},lowerLine:j.lowerLine||{color:"#F44336",lineStyle:0,lineWidth:2,lineVisible:!0},fill:j.fill||"rgba(76, 175, 80, 0.1)",fillVisible:!1!==j.fillVisible,priceScaleId:E||"right",visible:!1!==j.visible,lastValueVisible:void 0===F||F,priceLineVisible:void 0===W||W,priceLineSource:void 0!==x?x:"lastBar",priceLineWidth:void 0!==D?D:1,priceLineColor:void 0!==O?O:"",priceLineStyle:void 0!==R?R:2},t=new l.uK(e,i);return b&&b.length>0&&t.setData(b),{setData:e=>{try{t.setData(e)}catch(i){}},update:e=>{try{t.setData([e])}catch(i){}},applyOptions:e=>{try{t.setOptions((0,d.L)(e))}catch(i){}},priceScale:()=>{try{return e.priceScale(E||"right")}catch(i){return null}},remove:()=>{}}}catch(te){return console.error("Error creating ribbon series:",te),null}case"signal":try{const i=(0,s.Z)(e,{type:"signal",data:b||[],options:{neutralColor:j.neutralColor||"#f0f0f0",signalColor:j.signalColor||"#ff0000",alertColor:j.alertColor,visible:!1!==j.visible},paneId:I});return v&&void 0!==u&&void 0!==g&&(v.current["".concat(u,"-").concat(g)]=i),{setData:e=>{try{i.updateData(e)}catch(t){}},update:e=>{try{i.updateData([e])}catch(t){}},applyOptions:e=>{try{i.updateOptions({neutralColor:e.neutralColor||"#f0f0f0",signalColor:e.signalColor||"#ff0000",alertColor:e.alertColor,visible:!1!==e.visible})}catch(t){}},priceScale:()=>{try{return e.priceScale(E||"right")}catch(i){return null}},remove:()=>{try{i.destroy(),v&&void 0!==u&&void 0!==g&&delete v.current["".concat(u,"-").concat(g)]}catch(e){}}}}catch(re){return null}case"trend_fill":try{var _,N,Y,z,q,G,U,J;const i=(0,c.z)(e,{type:"trend_fill",data:b||[],options:{uptrendFillColor:j.uptrendFillColor||"#4CAF50",downtrendFillColor:j.downtrendFillColor||"#F44336",trendLine:{color:(null===(_=j.trendLine)||void 0===_?void 0:_.color)||"#F44336",lineWidth:(null===(N=j.trendLine)||void 0===N?void 0:N.lineWidth)||2,lineStyle:(null===(Y=j.trendLine)||void 0===Y?void 0:Y.lineStyle)||0,visible:!1!==(null===(z=j.trendLine)||void 0===z?void 0:z.visible)},baseLine:{color:(null===(q=j.baseLine)||void 0===q?void 0:q.color)||"#666666",lineWidth:(null===(G=j.baseLine)||void 0===G?void 0:G.lineWidth)||1,lineStyle:(null===(U=j.baseLine)||void 0===U?void 0:U.lineStyle)||1,visible:!1!==(null===(J=j.baseLine)||void 0===J?void 0:J.visible)},visible:!1!==j.visible},paneId:I});return b&&b.length>0&&i.setData(b),{setData:e=>{try{i.setData(e)}catch(te){}},update:e=>{try{i.updateData([e])}catch(te){}},applyOptions:e=>{try{i.applyOptions(e)}catch(te){}},priceScale:()=>{try{return e.priceScale(E||"right")}catch(i){return null}},remove:()=>{try{i.destroy()}catch(te){}}}}catch(te){return null}case"baseline":{const i=(0,r.A)((0,r.A)({},j),{},{baseValue:j.baseValue||{price:0},topLineColor:j.topLineColor||"rgba(76, 175, 80, 0.4)",topFillColor1:j.topFillColor1||"rgba(76, 175, 80, 0.0)",topFillColor2:j.topFillColor2||"rgba(76, 175, 80, 0.4)",bottomLineColor:j.bottomLineColor||"rgba(255, 82, 82, 0.4)",bottomFillColor1:j.bottomFillColor1||"rgba(255, 82, 82, 0.4)",bottomFillColor2:j.bottomFillColor2||"rgba(255, 82, 82, 0.0)",lineWidth:j.lineWidth||2,priceScaleId:E||"",lastValueVisible:void 0===F||F,priceLineVisible:void 0===W||W,priceLineSource:void 0!==x?x:"lastBar",priceLineWidth:void 0!==D?D:1,priceLineColor:void 0!==O?O:"",priceLineStyle:void 0!==R?R:2});B&&(i.priceFormat=B),T=e.addSeries(n.j8,i,I);break}case"histogram":{const t=i.data&&i.data.some(e=>e.color),o=(0,r.A)((0,r.A)({},j),{},{priceFormat:B||{type:"volume"},priceScaleId:E||"",scaleMargins:j.scaleMargins||{top:.75,bottom:0},lastValueVisible:void 0===F||F,color:t?void 0:j.color||"#2196F3",priceLineVisible:void 0===W||W,priceLineSource:void 0!==x?x:"lastBar",priceLineWidth:void 0!==D?D:1,priceLineColor:void 0!==O?O:"",priceLineStyle:void 0!==R?R:2});B&&(o.priceFormat=B),T=e.addSeries(n.Ej,o,I);break}case"line":{const t=i.lineOptions||{},o=(0,r.A)((0,r.A)({},j),{},{lineStyle:void 0!==t.lineStyle?t.lineStyle:j.lineStyle,lineType:void 0!==t.lineType?t.lineType:j.lineType,lineVisible:void 0!==t.lineVisible?t.lineVisible:j.lineVisible,pointMarkersVisible:void 0!==t.pointMarkersVisible?t.pointMarkersVisible:j.pointMarkersVisible,pointMarkersRadius:void 0!==t.pointMarkersRadius?t.pointMarkersRadius:j.crosshairMarkerRadius,crosshairMarkerVisible:void 0!==t.crosshairMarkerVisible?t.crosshairMarkerVisible:j.crosshairMarkerVisible,crosshairMarkerRadius:void 0!==t.crosshairMarkerRadius?t.crosshairMarkerRadius:j.crosshairMarkerRadius,crosshairMarkerBorderColor:void 0!==t.crosshairMarkerBorderColor?t.crosshairMarkerBorderColor:j.crosshairMarkerBorderColor,crosshairMarkerBackgroundColor:void 0!==t.crosshairMarkerBackgroundColor?t.crosshairMarkerBackgroundColor:j.crosshairMarkerBackgroundColor,crosshairMarkerBorderWidth:void 0!==t.crosshairMarkerBorderWidth?t.crosshairMarkerBorderWidth:j.crosshairMarkerBorderWidth,lastPriceAnimation:void 0!==t.lastPriceAnimation?t.lastPriceAnimation:S,color:j.color||"#2196F3",lineWidth:j.lineWidth||2,crossHairMarkerVisible:void 0!==t.crosshairMarkerVisible?t.crosshairMarkerVisible:void 0===j.crossHairMarkerVisible||j.crossHairMarkerVisible,priceScaleId:E||"",lastValueVisible:void 0===F||F,priceLineVisible:void 0===W||W,priceLineSource:void 0!==x?x:"lastBar",priceLineWidth:void 0!==D?D:1,priceLineColor:void 0!==O?O:"",priceLineStyle:void 0!==R?R:2});B&&(o.priceFormat=B),T=e.addSeries(n.Im,o,I);try{!1===F&&T.applyOptions({lastValueVisible:!1})}catch(oe){}break}case"bar":{const i=(0,r.A)((0,r.A)({},j),{},{upColor:j.upColor||"#4CAF50",downColor:j.downColor||"#F44336",openVisible:j.openVisible||!1,priceScaleId:E||"",lastValueVisible:void 0===F||F,priceLineVisible:void 0===W||W,priceLineSource:void 0!==x?x:"lastBar",priceLineWidth:void 0!==D?D:1,priceLineColor:void 0!==O?O:"",priceLineStyle:void 0!==R?R:2});B&&(i.priceFormat=B),T=e.addSeries(n.RD,i,I);break}case"candlestick":{const i=(0,r.A)((0,r.A)({},j),{},{upColor:j.upColor||"#4CAF50",downColor:j.downColor||"#F44336",borderVisible:!1!==j.borderVisible,wickUpColor:j.wickUpColor||"#4CAF50",wickDownColor:j.wickDownColor||"#F44336",priceScaleId:E||"",lastValueVisible:void 0===F||F,priceLineVisible:void 0===W||W,priceLineSource:void 0!==x?x:"lastBar",priceLineWidth:void 0!==D?D:1,priceLineColor:void 0!==O?O:"",priceLineStyle:void 0!==R?R:2});B&&(i.priceFormat=B),T=e.addSeries(n.HD,i,I);break}default:throw Error("Invalid series type: ".concat(m))}if(y&&T.priceScale().applyOptions((0,d.L)(y)),b&&b.length>0&&T.setData(b),i.priceLines&&Array.isArray(i.priceLines)&&i.priceLines.forEach((e,i)=>{try{T.createPriceLine(e)}catch(te){console.warn("❌ Failed to create price line ".concat(i+1," for series:"),te)}}),i.markers&&Array.isArray(i.markers))try{const e=function(e,i){if(!i||0===i.length)return e;const t=i.map(e=>"number"==typeof e.time?e.time:"string"==typeof e.time?Math.floor(new Date(e.time).getTime()/1e3):null).filter(e=>null!==e);if(0===t.length)return e;return e.map((e,i)=>{if(e.time&&"number"==typeof e.time){const i=t.reduce((i,t)=>{const r=Math.abs(t-e.time);return Math.abs(i-e.time)>r?t:i});return(0,r.A)((0,r.A)({},e),{},{time:i})}return e})}(i.markers,b);(0,n.hR)(T,e)}catch(te){}if(void 0!==I&&(T.paneId=I),i.legend&&i.legend.visible){const e="".concat(u||"default","-series-").concat(g||0);T.legendConfig=i.legend,T.seriesId=e;try{var K,X,Z,$;console.log("🔍 Debug: Looking for legend manager - chartId: ".concat(u,", finalPaneId: ").concat(I)),console.log("🔍 Debug: paneLegendManagers exists:",!!window.paneLegendManagers),console.log("🔍 Debug: chartId exists:",!(null===(K=window.paneLegendManagers)||void 0===K||!K[u])),console.log("🔍 Debug: Available pane IDs:",Object.keys((null===(X=window.paneLegendManagers)||void 0===X?void 0:X[u])||{}));const t=null===(Z=window.paneLegendManagers)||void 0===Z||null===($=Z[u])||void 0===$?void 0:$[I];var Q;t?(t.addSeriesLegend(e,i),console.log("✅ Added legend for series ".concat(e," to pane ").concat(I))):(console.warn("❌ No legend manager found for pane ".concat(I," (chartId: ").concat(u,")")),console.warn("❌ Available panes:",Object.keys((null===(Q=window.paneLegendManagers)||void 0===Q?void 0:Q[u])||{})))}catch(te){console.error("❌ Error adding legend for series ".concat(e,":"),te)}}if(i.trades&&i.tradeVisualizationOptions&&i.trades.length>0)try{const t=i.tradeVisualizationOptions,r=(0,h.SG)(i.trades,t,b);r.markers&&r.markers.length>0&&(0,n.hR)(T,r.markers),r.rectangles&&r.rectangles.length>0&&(e._pendingTradeRectangles||(e._pendingTradeRectangles=[]),e._pendingTradeRectangles.push({rectangles:r.rectangles,series:T,chartId:u}))}catch(te){console.error("❌ [seriesFactory] Error processing trades:",te)}return T}},6403:(e,i,t)=>{t.d(i,{$$:()=>o,a1:()=>s}),t(2555);const r=new Map;function o(e){if(r.has(e))return r.get(e)||null;const i=document.querySelector(e);return r.set(e,i),setTimeout(()=>{r.delete(e)},5e3),i}function n(e,i){const t=new Map;return function(){for(var r=arguments.length,o=Array(r),n=0;r>n;n++)o[n]=arguments[n];const a=i?i(...o):JSON.stringify(o);if(t.has(a))return t.get(a);const s=e(...o);return t.set(a,s),s}}n(e=>{const i=e.getBoundingClientRect();return{width:i.width,height:i.height,top:i.top,left:i.left}},e=>"".concat(e.offsetWidth,"-").concat(e.offsetHeight));class a{constructor(){this.metrics=new Map}static getInstance(){return a.instance||(a.instance=new a),a.instance}startTimer(e){const i=performance.now();return()=>{const t=performance.now()-i;this.metrics.has(e)||this.metrics.set(e,[]),this.metrics.get(e).push(t)}}getMetrics(e){const i={};if(e){const t=this.metrics.get(e);t&&t.length>0&&(i[e]={avg:t.reduce((e,i)=>e+i,0)/t.length,min:Math.min(...t),max:Math.max(...t),count:t.length})}else this.metrics.forEach((e,t)=>{e.length>0&&(i[t]={avg:e.reduce((e,i)=>e+i,0)/e.length,min:Math.min(...e),max:Math.max(...e),count:e.length})});return i}clearMetrics(){this.metrics.clear()}}a.instance=void 0,new class{constructor(){this.listeners=new Map}addEventListener(e,i,t){const r="".concat(e,"-").concat(i);this.listeners.has(r)||this.listeners.set(r,new Set),this.listeners.get(r).add(t),e.addEventListener(i,t)}removeEventListener(e,i,t){const r="".concat(e,"-").concat(i),o=this.listeners.get(r);o&&(o.delete(t),e.removeEventListener(i,t),0===o.size&&this.listeners.delete(r))}removeAllListeners(){this.listeners.forEach(e=>{e.forEach(()=>{})}),this.listeners.clear()}};const s=n(function(e,i,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{container:{position:"relative",border:"none",borderRadius:"0px",padding:"0px",width:t||null===e?"100%":"number"==typeof e?"".concat(e,"px"):e||"100%",height:t?"100%":"number"==typeof i?"".concat(i,"px"):i||"100%",minWidth:r.minWidth||(t?200:void 0),minHeight:r.minHeight||(t?200:void 0),maxWidth:r.maxWidth,maxHeight:r.maxHeight},chartContainer:{width:t||null===e?"100%":"number"==typeof e?"".concat(e,"px"):e||"100%",height:t?"100%":"number"==typeof i?"".concat(i,"px"):i||"100%",position:"relative"}}},(e,i,t,r)=>"".concat(e,"-").concat(i,"-").concat(t,"-").concat(JSON.stringify(r)))},7866:(e,i,t)=>{t.d(i,{L:()=>n});var r=t(2555),o=t(559);const n=e=>{if(!e)return e;const i=(0,r.A)({},e);if(void 0!==i.lineStyle){const e=(e=>{if(e)return"number"==typeof e&&o.Sc&&Object.values(o.Sc).includes(e)?e:"string"==typeof e&&o.Sc?{solid:o.Sc.Solid,dotted:o.Sc.Dotted,dashed:o.Sc.Dashed,"large-dashed":o.Sc.LargeDashed,"sparse-dotted":o.Sc.SparseDotted}[e.toLowerCase()]:Array.isArray(e)&&e.every(e=>"number"==typeof e&&e>=0)&&o.Sc?o.Sc.Solid:void 0})(i.lineStyle);void 0!==e?i.lineStyle=e:delete i.lineStyle}i.style&&"object"==typeof i.style&&(i.style=n(i.style)),i.upperLine&&"object"==typeof i.upperLine&&(i.upperLine=n(i.upperLine)),i.middleLine&&"object"==typeof i.middleLine&&(i.middleLine=n(i.middleLine)),i.lowerLine&&"object"==typeof i.lowerLine&&(i.lowerLine=n(i.lowerLine));for(const t in i)i[t]&&"object"==typeof i[t]&&!Array.isArray(i[t])&&(i[t]=n(i[t]));return i}},8132:(e,i,t)=>{t.d(i,{M:()=>r});class r{constructor(){this.observers=new Map,this.callbacks=new Map}addObserver(e,i,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.removeObserver(e);const{throttleMs:o=100,debounceMs:n=0}=r;let a=null,s=0;const c=e=>{const i=Date.now();o>i-s||(n>0?(a&&clearTimeout(a),a=setTimeout(()=>{t(e),a=null},n)):(t(e),s=i))};try{const r=new ResizeObserver(e=>{1===e.length?c(e[0]):e.forEach(c)});r.observe(i),this.observers.set(e,r),this.callbacks.set(e,t)}catch(l){console.error("❌ Failed to create ResizeObserver for ".concat(e,":"),l)}}removeObserver(e){const i=this.observers.get(e);if(i)try{i.disconnect(),this.observers.delete(e),this.callbacks.delete(e)}catch(t){console.warn("⚠️ Error removing ResizeObserver for ".concat(e,":"),t)}}hasObserver(e){return this.observers.has(e)}getObserverCount(){return this.observers.size}cleanup(){this.observers.forEach((e,i)=>{try{e.disconnect()}catch(t){console.warn("⚠️ Error cleaning up ResizeObserver ".concat(i,":"),t)}}),this.observers.clear(),this.callbacks.clear()}getObserverIds(){return Array.from(this.observers.keys())}pauseAll(){this.observers.forEach((e,i)=>{try{e.disconnect()}catch(t){console.warn("⚠️ Error pausing ResizeObserver ".concat(i,":"),t)}})}resumeAll(){this.observers.forEach((e,i)=>{})}}}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var t=o[e]={exports:{}};return r[e].call(t.exports,t,t.exports,n),t.exports}n.m=r,e=[],n.O=(i,t,r,o)=>{if(!t){var a=1/0;for(d=0;d<e.length;d++){t=e[d][0],r=e[d][1],o=e[d][2];for(var s=!0,c=0;c<t.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every(e=>n.O[e](t[c]))?t.splice(c--,1):(s=!1,a>o&&(a=o));if(s){e.splice(d--,1);var l=r();void 0!==l&&(i=l)}}return i}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,r,o]},n.n=e=>{var i=e&&e.__esModule?()=>e.default:()=>e;return n.d(i,{a:i}),i},n.d=(e,i)=>{for(var t in i)n.o(i,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((i,t)=>(n.f[t](e,i),i),[])),n.u=e=>"static/js/"+e+".1ec6e452.chunk.js",n.miniCssF=e=>{},n.o=(e,i)=>({}.hasOwnProperty.call(e,i)),i={},t="streamlit_lightweight_charts_pro:",n.l=(e,r,o,a)=>{if(i[e])i[e].push(r);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var h=l[d];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=e),i[e]=[r];var p=(t,r)=>{s.onerror=s.onload=null,clearTimeout(u);var o=i[e];if(delete i[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(r)),t)return t(r)},u=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={204:0,187:0};n.f.j=(i,t)=>{var r=n.o(e,i)?e[i]:void 0;if(0!==r)if(r)t.push(r[2]);else if(187!=i){var o=new Promise((t,o)=>r=e[i]=[t,o]);t.push(r[2]=o);var a=n.p+n.u(i),s=Error();n.l(a,t=>{if(n.o(e,i)&&(0!==(r=e[i])&&(e[i]=void 0),r)){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+i+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}},"chunk-"+i,i)}else e[i]=0},n.O.j=i=>0===e[i];var i=(i,t)=>{var r,o,a=t[0],s=t[1],c=t[2],l=0;if(a.some(i=>0!==e[i])){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var d=c(n)}for(i&&i(t);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},t=self.webpackChunkstreamlit_lightweight_charts_pro=self.webpackChunkstreamlit_lightweight_charts_pro||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))})();var a=n.O(void 0,[644,925,726,734,574,970,380,997,375,315,185,187],()=>n(5273));a=n.O(a)})();