[build-system]
requires = [
    "setuptools>=42",
    "setuptools_scm[toml]>=3.4",
    "wheel",
]
build-backend = "setuptools.build_meta"

[project]
name = "p1-gpstime"
dynamic = ["version"]
description = "GPS-aware datetime module"
readme = "README.md"
license = "GPL-3.0-or-later"
license-files = ["COPYING", "COPYING-GPL-3"]
authors = [
    { name = "Jameson Graef Rollins", email = "jameson.rollins@ligo.org" },
]
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Natural Language :: English",
    "Operating System :: OS Independent",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
]
requires-python = ">=3.6"
dependencies = [
    'platformdirs; python_version >= "3.10"',
    'appdirs;      python_version <  "3.10"',
    "python-dateutil",
    "requests",
]

[project.urls]
Homepage = "https://git.ligo.org/cds/software/gpstime"
Alternate = "https://github.com/PointOneNav/gpstime"

[tool.setuptools]
packages = ["gpstime"]
script-files = ["bin/gpstime"]

[tool.setuptools_scm]
write_to = "gpstime/__version__.py"

[tool.coverage.run]
source = ["gpstime"]
omit = [
    "__version__.py",
    "test.py",
]

[tool.coverage.report]
# print report with one decimal point
precision = 1
show_missing = true
omit = [
    "__version__.py",
    "test.py",
]
