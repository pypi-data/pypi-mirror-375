import{C}from"./Container-Br6JH6Pm.js";import{L as w}from"./ListItem-LV_WU--g.js";import{g as B,p as I,i as M,am as P,D as L,F as u,ag as A,ah as D,J as N,K as F,ap as R,P as S,S as x,E as e,a as z,U as H,x as U,o as X,a6 as s,a4 as d,a0 as _,X as c,Y as o,I as h,as as y,ad as t,a1 as Y,W as k,ab as $,ak as E,ar as T,a2 as l,ac as J,bH as K,cc as W,a5 as j}from"./index-B-lUZalq.js";import{V}from"./VToolbar-RljK0PC9.js";import"./Button-kSJGA_Pw.js";import"./VBtn-BPJ1JKW-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VContainer-DB65WVbe.js";/* empty css              */const q=I({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:n=>["even","odd"].includes(n)},...S(),...R(),...F(),...N()},"VTable"),G=B()({name:"VTable",props:q(),setup(n,v){let{slots:r,emit:f}=v;const{themeClasses:g}=M(n),{densityClasses:a}=P(n);return L(()=>{const m={VCheckboxBtn:{density:n.density}};return u(n.tag,{class:D(["v-table",{"v-table--fixed-height":!!n.height,"v-table--fixed-header":n.fixedHeader,"v-table--fixed-footer":n.fixedFooter,"v-table--has-top":!!r.top,"v-table--has-bottom":!!r.bottom,"v-table--hover":n.hover,"v-table--striped-even":n.striped==="even","v-table--striped-odd":n.striped==="odd"},g.value,a.value,n.class]),style:A(n.style)},{default:()=>[r.top?.(),u(x,{defaults:m},{default:()=>[r.default?e("div",{class:"v-table__wrapper",style:{height:z(n.height)}},[e("table",null,[r.default()])]):r.wrapper?.()]}),r.bottom?.()]})}),{}}}),O={style:{"margin-bottom":"10px"}},Q={class:"line-clamp-1"},Z={class:"line-clamp-1"},ee={style:{"margin-bottom":"10px"}},te={key:0},ae=["href"],ce=H({__name:"CoreConfigs",setup(n){const v=K(),r=U([]),f=function(a){v.push(`/settings/editcore/${a}`)},g=function(a,m){const p=[{label:"settings.configure",labelArgs:[],action:()=>{f(m.domain)},icon:"mdi-cog"},{label:"settings.documentation",labelArgs:[],action:()=>{W(s.providerManifests[m.domain].documentation)},icon:"mdi-bookshelf",disabled:!s.providerManifests[m.domain].documentation}];j.emit("contextmenu",{items:p,posX:a.clientX,posY:a.clientY})};return X(async()=>{r.value=await s.getCoreConfigs(),d.libraryArtistsCount=await s.getLibraryArtistsCount(),d.libraryAlbumsCount=await s.getLibraryAlbumsCount(),d.libraryTracksCount=await s.getLibraryTracksCount(),d.libraryPlaylistsCount=await s.getLibraryPlaylistsCount(),d.libraryRadiosCount=await s.getLibraryRadiosCount()}),(a,m)=>{const p=E("Button");return c(),_(h,null,[e("div",O,[u(V,{color:"transparent"},{title:o(()=>[y(t(a.$t("settings.core_modules")),1)]),_:1}),u(C,null,{default:o(()=>[(c(!0),_(h,null,Y(r.value.sort((i,b)=>l(s).providerManifests[i.domain].name.localeCompare(l(s).providerManifests[b.domain].name)),i=>(c(),k(w,{key:i.domain,"show-menu-btn":"",class:"list-item-main",link:"",onMenu:b=>g(b,i),onClick:b=>f(i.domain)},{prepend:o(()=>[u(J,{domain:i.domain,size:40,class:"listitem-media-thumb",style:{"margin-left":"10px"}},null,8,["domain"])]),title:o(()=>[e("div",Q,t(l(s).providerManifests[i.domain].name),1)]),subtitle:o(()=>[e("div",Z,t(l(s).providerManifests[i.domain].description),1)]),append:o(()=>[i.last_error?(c(),k(p,{key:0,icon:"",title:i.last_error},{default:o(()=>[u(T,{color:"red"},{default:o(()=>[...m[0]||(m[0]=[y(" mdi-alert-circle ",-1)])]),_:1})]),_:1},8,["title"])):$("",!0)]),_:2},1032,["onMenu","onClick"]))),128))]),_:1})]),e("div",ee,[u(V,{color:"transparent"},{title:o(()=>[y(t(a.$t("settings.server_info")),1)]),_:1}),u(C,null,{default:o(()=>[u(G,null,{default:o(()=>[e("tbody",null,[e("tr",null,[e("td",null,t(a.$t("settings.server_id")),1),e("td",null,t(l(s).serverInfo.value?.server_id),1)]),e("tr",null,[e("td",null,t(a.$t("settings.server_version")),1),e("td",null,t(l(s).serverInfo.value?.server_version),1)]),l(s).serverInfo.value?.homeassistant_addon?$("",!0):(c(),_("tr",te,[e("td",null,t(a.$t("settings.server_base_url")),1),e("td",null,t(l(s).serverInfo.value?.base_url),1)])),e("tr",null,[e("td",null,t(a.$t("settings.server_as_addon")),1),e("td",null,[u(T,{icon:l(s).serverInfo.value?.homeassistant_addon?"mdi-check":"mdi-close"},null,8,["icon"])])]),e("tr",null,[e("td",null,t(a.$t("settings.artists_in_library")),1),e("td",null,t(l(d).libraryArtistsCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.albums_in_library")),1),e("td",null,t(l(d).libraryAlbumsCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.tracks_in_library")),1),e("td",null,t(l(d).libraryTracksCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.playlists_in_library")),1),e("td",null,t(l(d).libraryPlaylistsCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.radio_in_library")),1),e("td",null,t(l(d).libraryRadiosCount),1)]),e("tr",null,[e("td",null,t(a.$t("settings.server_logging")),1),e("td",null,[e("a",{href:`${l(s).baseUrl}/music-assistant.log`,target:"_blank"},t(a.$t("settings.download_log")),9,ae)])])])]),_:1})]),_:1})])],64)}}});export{ce as default};
