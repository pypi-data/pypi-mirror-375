"use strict";(self.webpackChunk_polyaxon_app=self.webpackChunk_polyaxon_app||[]).push([[938],{1740:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},10027:(e,t,r)=>{r.r(t),r.d(t,{default:()=>J,mapDispatchToProps:()=>K,mapStateToProps:()=>X});var n=r(79824),o=r(86090),s=r(87374),a=r(41594),i=r(93285),l=r(96529),c=r(36377),p=r(41619),u=r(84525),d=r(71096),m=r(79313),h=r(50377),g=r(99669),E=r(92259),f=r(61613),y=r(91833),k=r(16825),v=r(43269),b=r(82501),w=r(56847),S=r(68266),x=r(39005),A=r(34051),T=r(56161);const C=e=>a.createElement(a.Fragment,null,e.header&&a.createElement(A.ZQ,{justifyContent:"spaceAround"},e.header),a.createElement(k.$,{size:"xxl"}),a.createElement(A.ZQ,{justifyContent:"spaceAround"},a.createElement(T.v,{style:{maxWidth:400}},e.content)));var U=r(89967),L=r(95661);class z extends a.Component{render(){return a.createElement(C,{content:(()=>{const e=a.createElement(E.U,{size:"xs"},"Signup ",a.createElement(f.z,{onClick:e=>(0,x.A)(e,l.DS.getSignupUrl(),l.b6)},"Here")),t=a.createElement(E.U,{size:"xs"},"Login"," ",a.createElement(f.z,{onClick:e=>{this.props.logout(),(0,x.A)(e,l.DS.getLoginUrl(),l.b6)}},"Here"));return a.createElement(g.tV,{icon:a.createElement(h.sv,{size:"xxl",type:"logoPolyaxon"}),description:(()=>"identity.not-found"===this.props.authReason?"Identity not found.":"identity.token-exchange-error"===this.props.authReason?"An error was raised during the token exchange.":"identity.password-reset"===this.props.authReason?"":"signup.success"===this.props.authReason?"Check Your Email!":"")(),title:(()=>this.props.authReason&&["identity.not-found","identity.token-exchange-error"].indexOf(this.props.authReason)>-1?"Identity Error!":"identity.password-reset"===this.props.authReason?"Check Your Email!":"signup.success"===this.props.authReason?"Registration complete!":"")(),footer:(()=>"signup"===this.props.footer?e:"login"===this.props.footer?t:null)()},a.createElement(E.U,null,a.createElement(L.vS,{textAlign:"left"},(()=>this.props.authMessage?a.createElement(a.Fragment,null,a.createElement("p",null,this.props.authMessage)):"identity.not-found"===this.props.authReason?a.createElement(a.Fragment,null,a.createElement("p",null,"Hi there! We couldn't find a Polyaxon account with a verified email matching your"," ",a.createElement(U.k,null,this.props.authProvider)," email (",a.createElement(U.k,null,this.props.authEmail),")."),a.createElement("p",null,"If you already have a Polyaxon account, add ",a.createElement(U.k,null,this.props.authEmail)," as a verified email in your Account Settings and try again.")):"signup.success"===this.props.authReason?a.createElement(a.Fragment,null,a.createElement("p",null,"Thank you for signin up!"),a.createElement("p",null,"We will send you more instructions to finish your registration process.")):null)())))})()})}}const _=(0,n.Ng)((function(e,t){return{authReason:t.authReason,authMessage:t.authMessage,authProvider:t.authProvider,authEmail:t.authEmail,footer:t.footer}}),(function(e){return{logout:()=>e(s.I2.logout(!1))}}))(z);var P=r(53847);const F=()=>a.createElement(a.Fragment,null,a.createElement(k.$,null),a.createElement(A.ZQ,{gutterSize:"l",alignItems:"center",justifyContent:"center"},a.createElement(P.PM,{size:"quarter"}),a.createElement(T.v,{grow:!1},a.createElement(E.U,{size:"m"},"Or")),a.createElement(P.PM,{size:"quarter"})),a.createElement(k.$,null)),R=m.Ik().shape({username:m.Yj().required("field value is required.").min(2,"field value is too Short."),password:m.Yj().required("field value is required.").min(6,"field value is too Short.")});class I extends a.Component{componentDidMount(){this.props.oauthToken&&this.setToken(this.props.oauthToken)}componentDidUpdate(e){this.props.isLoading||this.props.errors||!this.props.success||this.redirect()}setToken=e=>{this.props.setToken(e),this.redirect()};redirect=()=>{this.props.next?window.location.replace(this.props.next):window.location.replace(l.DS.getHomeUrl(""))};loginForm=()=>{const e=this.props.installation.auth||[];return a.createElement(g.tV,{icon:a.createElement(h.sv,{size:"xxl",type:"logoPolyaxon"}),description:"Login to continue to Polyaxon.",footer:a.createElement(E.U,{size:"xs"},"Don't have an account?"," ",a.createElement(f.z,{onClick:e=>(0,x.A)(e,l.DS.getSignupUrl(),l.b6)},"Sign up"))},e.indexOf("password")>-1&&a.createElement(a.Fragment,null,a.createElement(d.l1,{initialValues:{username:"",password:""},validationSchema:R,onSubmit:(e,t)=>{e.username&&e.password&&this.props.login(e.username,e.password)}},(e=>a.createElement(y.l,{error:(0,S.GX)(this.props.errors),isInvalid:(0,S.yF)(this.props.errors),style:{textAlign:"left"}},a.createElement("form",{onSubmit:e.handleSubmit},a.createElement(S.A_,{props:e,errors:this.props.errors,fieldName:"username",label:"username or email",compressed:!1,fullWidth:!0}),a.createElement(S.s3,{props:e,errors:this.props.errors,fieldName:"password",label:"password",labelAppend:a.createElement(E.U,{size:"xs"},a.createElement(f.z,{onClick:e=>(0,x.A)(e,l.DS.getResetPasswordUrl(),l.b6)},"Forgot password?")),compressed:!1,fullWidth:!0}),a.createElement(k.$,{size:"xl"}),a.createElement(v.Fo,{fullWidth:!0,type:"submit",fill:!0,size:"m",disabled:this.props.isLoading},"Continue"))))),e.length>1?a.createElement(F,null):a.createElement(k.$,null)),e.indexOf("github")>-1&&a.createElement("form",{id:"continue-github",method:"post",action:s.AA.BASE_SSO_URL(this.props.installation.host,"github")},a.createElement("input",{type:"hidden",name:"service",value:"auth"}),a.createElement("input",{type:"hidden",name:"key",value:this.props.installation.key}),a.createElement("input",{type:"hidden",name:"referrer",value:s.AA.GET_BASE_REFERER_URL(s.AA.BASE_URL,this.props.next)}),a.createElement(v.Fo,{id:"continue-github",color:"text",fullWidth:!0,iconType:"logoGithub",size:"m",disabled:this.props.isLoading,type:"submit",form:"continue-github"},"Continue with Github"),a.createElement(k.$,null)),e.indexOf("google")>-1&&a.createElement("form",{id:"continue-google",method:"post",action:s.AA.BASE_SSO_URL(this.props.installation.host,"google")},a.createElement("input",{type:"hidden",name:"service",value:"auth"}),a.createElement("input",{type:"hidden",name:"key",value:this.props.installation.key}),a.createElement("input",{type:"hidden",name:"referrer",value:s.AA.GET_BASE_REFERER_URL(s.AA.BASE_URL,this.props.next)}),a.createElement(v.Fo,{id:"continue-google",color:"text",fullWidth:!0,iconType:"logoGoogleG",size:"m",disabled:this.props.isLoading,type:"submit",form:"continue-google"},"Continue with Google"),a.createElement(k.$,null)),e.indexOf("okta")>-1&&a.createElement("form",{id:"continue-okta",method:"post",action:s.AA.BASE_SSO_URL(this.props.installation.host,"okta")},a.createElement("input",{type:"hidden",name:"service",value:"auth"}),a.createElement("input",{type:"hidden",name:"key",value:this.props.installation.key}),a.createElement("input",{type:"hidden",name:"referrer",value:s.AA.GET_BASE_REFERER_URL(s.AA.BASE_URL,this.props.next)}),a.createElement(v.Fo,{id:"continue-okta",color:"text",fullWidth:!0,iconType:"logoOkta",size:"m",disabled:this.props.isLoading,type:"submit",form:"continue-okta"},"Continue with Okta"),a.createElement(k.$,null)))};render(){return this.props.oauthReason?a.createElement(_,{authReason:this.props.oauthReason,authMessage:this.props.oauthMessage,authProvider:this.props.oauthProvider,authEmail:this.props.oauthEmail,footer:"signup"}):a.createElement(C,{content:this.loginForm(),header:a.createElement(a.Fragment,null,this.props.isLoading&&a.createElement(b.I,{size:"xl"}),this.props.success&&a.createElement(w.uM,{color:"success",iconType:"check"},"Redirecting"))})}}const D=(0,o.y)((0,n.Ng)((function(e,t){const r=new URLSearchParams(t.location.search),n=r.get("next"),o=r.get("redirect"),s=o?(0,l.wM)(o).token:void 0,a=r.get("reason"),i=r.get("message"),d=r.get("email"),m=r.get("provider"),h=(0,l.Hn)(e.loadingIndicators.auth.global.get);return{next:n,isLoading:h,errors:(0,p.L)(e.alerts.auth.global,h,c.k.GET),success:(0,l.Hn)((0,u.l)(e.alerts.auth.global,h,c.k.GET)),oauthToken:s,oauthReason:a,oauthMessage:i,oauthEmail:d,oauthProvider:m,installation:e.installation}}),(function(e){return{login:(t,r)=>e(s.I2.login(t,r)),setToken:t=>e(s.I2.getTokenSuccessActionCreator(t))}}))(I)),M=m.Ik().shape({username:m.Yj().required("field value is required.").min(2,"field value is too Short."),organization:m.Yj().required("field value is required.").min(3,"field value is too Short."),email:S.wB,password:m.Yj().required("field value is required.").min(6,"field value is too Short.")});class N extends a.Component{componentDidMount(){this.props.oauthToken&&this.setToken(this.props.oauthToken)}componentDidUpdate(e){this.props.isLoading||this.props.errors||!this.props.success||this.redirect()}setToken=e=>{this.props.setToken(e),this.redirect()};redirect=()=>{this.props.next?window.location.replace(this.props.next):window.location.replace(l.DS.getHomeUrl(""))};signupForm=()=>{const e={username:"",email:"",organization:this.props.organization||"",password:""},t=this.props.installation.auth||[];return a.createElement(g.tV,{icon:a.createElement(h.sv,{size:"xxl",type:"logoPolyaxon"}),description:"Sign up to continue to Polyaxon.",footer:a.createElement(E.U,{size:"xs"},a.createElement("p",null,"Already have an account?"," ",a.createElement(f.z,{onClick:e=>(0,x.A)(e,l.DS.getLoginUrl(),l.b6)},"Log in")),a.createElement("p",null,"By signing up, you acknowledge that you've read and agree to our"," ",a.createElement("a",{href:"https://polyaxon.com/terms",target:"_blank",rel:"noreferrer"},"Terms of Service")," ","and"," ",a.createElement("a",{href:"https://polyaxon.com/privacy",target:"_blank",rel:"noreferrer"},"Privacy Statement"),"."))},t.indexOf("password")>-1&&a.createElement(a.Fragment,null,a.createElement(d.l1,{initialValues:e,validationSchema:M,onSubmit:(e,t)=>{e.username&&e.password&&e.organization&&e.email&&(this.props.signup(e.username,e.email,e.organization,e.password,this.props.invitationKey),t.setTouched({}))}},(e=>a.createElement(y.l,{error:(0,S.GX)(this.props.errors),isInvalid:(0,S.yF)(this.props.errors),style:{textAlign:"left"}},a.createElement("form",{onSubmit:e.handleSubmit},a.createElement(S.A_,{props:e,errors:this.props.errors,fieldName:"username",compressed:!1,fullWidth:!0}),a.createElement(S.LP,{props:e,errors:this.props.errors,fieldName:"email",compressed:!1,fullWidth:!0}),a.createElement(S.A_,{props:e,errors:this.props.errors,fieldName:"organization",compressed:!1,fullWidth:!0}),a.createElement(S.s3,{props:e,errors:this.props.errors,fieldName:"password",label:"password",compressed:!1,fullWidth:!0}),a.createElement(k.$,{size:"xl"}),a.createElement(v.Fo,{fullWidth:!0,type:"submit",fill:!0,size:"m",disabled:this.props.isLoading},"Continue"))))),t.length>1?a.createElement(F,null):a.createElement(k.$,null)),t.indexOf("github")>-1&&a.createElement("form",{id:"continue-github",method:"post",action:s.AA.BASE_SSO_URL(this.props.installation.host,"github")},a.createElement("input",{type:"hidden",name:"service",value:"auth"}),a.createElement("input",{type:"hidden",name:"key",value:this.props.installation.key}),a.createElement("input",{type:"hidden",name:"referrer",value:s.AA.GET_BASE_REFERER_URL(s.AA.BASE_URL)}),a.createElement("input",{type:"hidden",name:"organization",value:this.props.organization}),a.createElement("input",{type:"hidden",name:"invitation_key",value:this.props.invitationKey}),a.createElement(v.Fo,{id:"continue-github",color:"text",fullWidth:!0,iconType:"logoGithub",size:"m",disabled:this.props.isLoading,type:"submit",form:"continue-github"},"Continue with github"),a.createElement(k.$,null)),t.indexOf("google")>-1&&a.createElement("form",{id:"continue-google",method:"post",action:s.AA.BASE_SSO_URL(this.props.installation.host,"google")},a.createElement("input",{type:"hidden",name:"service",value:"auth"}),a.createElement("input",{type:"hidden",name:"key",value:this.props.installation.key}),a.createElement("input",{type:"hidden",name:"referrer",value:s.AA.GET_BASE_REFERER_URL(s.AA.BASE_URL)}),a.createElement("input",{type:"hidden",name:"organization",value:this.props.organization}),a.createElement("input",{type:"hidden",name:"invitation_key",value:this.props.invitationKey}),a.createElement(v.Fo,{id:"continue-google",color:"text",fullWidth:!0,iconType:"logoGoogleG",size:"m",disabled:this.props.isLoading,type:"submit",form:"continue-google"},"Continue with Google"),a.createElement(k.$,null)),t.indexOf("okta")>-1&&a.createElement("form",{id:"continue-okta",method:"post",action:s.AA.BASE_SSO_URL(this.props.installation.host,"okta")},a.createElement("input",{type:"hidden",name:"service",value:"auth"}),a.createElement("input",{type:"hidden",name:"key",value:this.props.installation.key}),a.createElement("input",{type:"hidden",name:"referrer",value:s.AA.GET_BASE_REFERER_URL(s.AA.BASE_URL)}),a.createElement("input",{type:"hidden",name:"organization",value:this.props.organization}),a.createElement("input",{type:"hidden",name:"invitation_key",value:this.props.invitationKey}),a.createElement(v.Fo,{id:"continue-okta",color:"text",fullWidth:!0,iconType:"logoOkta",size:"m",disabled:this.props.isLoading,type:"submit",form:"continue-okta"},"Continue with Okta"),a.createElement(k.$,null)))};render(){return this.props.oauthReason?a.createElement(_,{authReason:this.props.oauthReason,authMessage:this.props.oauthMessage,authProvider:this.props.oauthProvider,authEmail:this.props.oauthEmail,footer:"signup"}):a.createElement(C,{content:this.signupForm(),header:a.createElement(a.Fragment,null,this.props.isLoading&&a.createElement(b.I,{size:"xl"}),this.props.success&&a.createElement(w.uM,{color:"success",iconType:"check"},"Redirecting"))})}}const q=(0,o.y)((0,n.Ng)((function(e,t){const r=new URLSearchParams(t.location.search),n=r.get("next"),o=r.get("redirect"),s=o?(0,l.wM)(o).token:void 0,a=r.get("reason"),i=r.get("message"),d=r.get("email"),m=r.get("provider"),h=r.get("organization")||void 0,g=r.get("invitation_key")||void 0,E=(0,l.Hn)(e.loadingIndicators.auth.global.get);return{next:n,isLoading:E,errors:(0,p.L)(e.alerts.auth.global,E,c.k.GET),success:(0,l.Hn)((0,u.l)(e.alerts.auth.global,E,c.k.GET)),oauthToken:s,oauthReason:a,oauthMessage:i,oauthEmail:d,oauthProvider:m,organization:h,invitationKey:g,installation:e.installation}}),(function(e){return{signup:(t,r,n,o,a)=>e(s.I2.singup(t,r,n,o,a)),setToken:t=>e(s.I2.getTokenSuccessActionCreator(t))}}))(N)),W=m.Ik().shape({email:S.wB});class G extends a.Component{resetForm=()=>a.createElement(g.tV,{icon:a.createElement(h.sv,{size:"xxl",type:"logoPolyaxon"}),description:"Enter your email address and we will send you instructions to reset your password.",title:"Forgot Your Password?"},a.createElement(d.l1,{initialValues:{email:""},validationSchema:W,onSubmit:(e,t)=>{e.email&&(this.props.resetPassword(e.email),t.setTouched({}))}},(e=>a.createElement(y.l,{error:(0,S.GX)(this.props.errors),isInvalid:(0,S.yF)(this.props.errors),style:{textAlign:"left"}},a.createElement("form",{onSubmit:e.handleSubmit},a.createElement(S.LP,{props:e,errors:this.props.errors,fieldName:"email",compressed:!1,fullWidth:!0}),a.createElement(k.$,{size:"xl"}),a.createElement(v.Fo,{fullWidth:!0,type:"submit",fill:!0,size:"m",disabled:this.props.isLoading},"Continue"))))),a.createElement(k.$,null));render(){return this.props.success?a.createElement(_,{authReason:"identity.password-reset",authMessage:"Please check your email address for instructions to reset your password.",authProvider:"",authEmail:"",footer:"login"}):a.createElement(C,{content:this.resetForm()})}}const $=(0,o.y)((0,n.Ng)((function(e,t){const r=(0,l.Hn)(e.loadingIndicators.auth.global.get);return{isLoading:r,errors:(0,p.L)(e.alerts.auth.global,r,c.k.GET),success:(0,l.Hn)((0,u.l)(e.alerts.auth.global,r,c.k.GET))}}),(function(e){return{resetPassword:t=>e(s.I2.resetPassword(t))}}))(G)),j=m.Ik().shape({new_password1:m.Yj().required("field value is required.").min(6,"field value is too Short."),new_password2:m.Yj().required("field value is required.").min(6,"field value is too Short.")});class O extends a.Component{componentDidUpdate(e){this.props.isLoading||this.props.errors||!this.props.success||this.redirect()}redirect=()=>{window.location.replace(l.DS.getHomeUrl(""))};resetForm=()=>a.createElement(g.tV,{icon:a.createElement(h.sv,{size:"xxl",type:"logoPolyaxon"}),description:"Enter your email address and we will send you instructions to reset your password.",title:"Forgot Your Password?"},a.createElement(d.l1,{initialValues:{new_password1:"",new_password2:""},validationSchema:j,onSubmit:(e,t)=>{e.new_password1&&e.new_password2&&(this.props.resetPasswordConfirm({...e,old_password:this.props.resetKey}),t.setTouched({}))}},(e=>a.createElement(y.l,{error:(0,S.GX)(this.props.errors),isInvalid:(0,S.yF)(this.props.errors),style:{textAlign:"left"}},a.createElement("form",{onSubmit:e.handleSubmit},a.createElement(S.s3,{props:e,errors:this.props.errors,fieldName:"new_password1",label:"new password",compressed:!1,fullWidth:!0,helpText:!0}),a.createElement(S.s3,{props:e,errors:this.props.errors,fieldName:"new_password2",label:"confirm new password",compressed:!1,fullWidth:!0}),a.createElement(k.$,{size:"xl"}),a.createElement(v.Fo,{fullWidth:!0,type:"submit",fill:!0,size:"m",disabled:this.props.isLoading},"Continue"))))),a.createElement(k.$,null));render(){return a.createElement(C,{content:this.resetForm(),header:a.createElement(a.Fragment,null,this.props.isLoading&&a.createElement(b.I,{size:"xl"}),this.props.success&&a.createElement(w.uM,{color:"success",iconType:"check"},"Redirecting"))})}}const B=(0,o.y)((0,n.Ng)((function(e,t){const r=(0,l.Hn)(e.loadingIndicators.auth.global.get);return{isLoading:r,errors:(0,p.L)(e.alerts.auth.global,r,c.k.GET),success:(0,l.Hn)((0,u.l)(e.alerts.auth.global,r,c.k.GET)),resetKey:new URLSearchParams(t.location.search).get("reset_key")||void 0}}),(function(e){return{resetPasswordConfirm:t=>e(s.I2.resetPasswordConfirm(t))}}))(O)),V=m.Ik().shape({name:m.Yj().required("field value is required.").min(2,"field value is too Short."),organization:m.Yj().required("field value is required.").min(3,"field value is too Short."),email:S.wB,seats:m.ai().required("field value is required.")});class H extends a.Component{trialForm=()=>{const e={name:"",email:"",organization:"",seats:3,plan:this.props.plan||l.vw.PLAN_NAMES_STARTER,ce:""};return a.createElement(g.tV,{icon:a.createElement(h.sv,{size:"xxl",type:"logoPolyaxon"}),description:"Try Polyaxon for Free"},a.createElement(d.l1,{initialValues:e,validationSchema:V,onSubmit:(e,t)=>{e.name&&e.seats&&e.plan&&e.organization&&e.email&&(this.props.startTrial(e.name,e.email,e.organization,e.seats,e.plan,{ce:e.ce}),t.setTouched({}))}},(e=>a.createElement(y.l,{error:(0,S.GX)(this.props.errors),isInvalid:(0,S.yF)(this.props.errors),style:{textAlign:"left"}},a.createElement("form",{onSubmit:e.handleSubmit},a.createElement(S.A_,{props:e,errors:this.props.errors,fieldName:"name",label:"Name",compressed:!1,fullWidth:!0}),a.createElement(S.LP,{props:e,errors:this.props.errors,fieldName:"email",compressed:!1,fullWidth:!0}),a.createElement(S.A_,{props:e,errors:this.props.errors,fieldName:"organization",label:"Organization",compressed:!1,fullWidth:!0}),a.createElement(S.zM,{props:e,errors:this.props.errors,fieldName:"plan",label:"Plan",options:[{value:l.vw.PLAN_NAMES_PLATFORM,text:"Platform"},{value:l.vw.PLAN_NAMES_TEAMS,text:"Teams"}],compressed:!1,fullWidth:!0}),a.createElement(S.AK,{props:e,errors:this.props.errors,fieldName:"seats",label:"Seats",minValue:1,compressed:!1,fullWidth:!0}),a.createElement(S.zM,{props:e,errors:this.props.errors,fieldName:"ce",label:"Are you using Polyaxon CE",options:[{value:"no",text:"No"},{value:"less than 2 weeks",text:"Less than two weeks"},{value:"less than a month",text:"Less than a month"},{value:"less than three month",text:"Less than three months"},{value:"production",text:"We are using it in production"}],compressed:!1,fullWidth:!0}),a.createElement(k.$,{size:"xl"}),a.createElement(v.Fo,{fullWidth:!0,type:"submit",fill:!0,size:"m",disabled:this.props.isLoading},"Continue"))))))};render(){return a.createElement(C,{content:(()=>this.props.success?a.createElement(g.tV,{icon:a.createElement(h.sv,{size:"xxl",type:"logoPolyaxon"}),description:"We will follow up soon with instructions to get you started.",title:"Thank you for submitting the form"}):this.trialForm())(),header:this.props.isLoading&&a.createElement(b.I,{size:"xl"})})}}const Y=(0,o.y)((0,n.Ng)((function(e,t){const r=new URLSearchParams(t.location.search).get("plan"),n=(0,l.Hn)(e.loadingIndicators.auth.global.get);return{isLoading:n,errors:(0,p.L)(e.alerts.auth.global,n,c.k.GET),success:(0,l.Hn)((0,u.l)(e.alerts.auth.global,n,c.k.GET)),plan:r}}),(function(e){return{startTrial:(t,r,n,o,a,i)=>e(s.I2.startTrial(t,r,n,o,a,i))}}))(H));class Z extends a.PureComponent{componentDidMount(){this.props.isLoggedIn&&this.props.logout()}componentDidUpdate(){this.props.initAuth()}render(){return a.createElement(a.Fragment,null,a.createElement(i.m,null,a.createElement("title",null,"Polyaxon Auth")),a.createElement("div",{className:"yScrollWithShadows",style:{paddingTop:"4em"}},a.createElement(o.dO,null,a.createElement(o.qh,{exact:!0,path:s.JZ.Oow,component:Y}),a.createElement(o.qh,{exact:!0,path:s.JZ.Tg4,component:D}),a.createElement(o.qh,{exact:!0,path:s.JZ.uFz,component:q}),a.createElement(o.qh,{exact:!0,path:s.JZ.qfy,component:$}),a.createElement(o.qh,{exact:!0,path:s.JZ.wLy,component:B}),a.createElement(o.qh,{path:"*",render:()=>a.createElement(o.rd,{to:l.DS.getLoginUrl()})}))))}}function X(e,t){return{isLoggedIn:Boolean(e.auth.token)}}function K(e){return{logout:()=>e(s.I2.logout()),initAuth:()=>e(s.I2.initAuth())}}const J=(0,o.y)((0,n.Ng)(X,K)(Z))},20062:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},30855:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},36758:e=>{e.exports=function(e){return e[1]}},40935:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var p=[].concat(e[c]);n&&a[p[0]]||(void 0!==s&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=s),r&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=r):p[2]=r),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),t.push(p))}},t}},72591:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var s={},a=[],i=0;i<e.length;i++){var l=e[i],c=n.base?l[0]+n.base:l[0],p=s[c]||0,u="".concat(c," ").concat(p);s[c]=p+1;var d=r(u),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(m);else{var h=o(m,n);n.byIndex=i,t.splice(i,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var s=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var i=r(s[a]);t[i].references--}for(var l=n(e,o),c=0;c<s.length;c++){var p=r(s[c]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}s=l}}},73656:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},88128:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},93051:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},94329:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Q,mapDispatchToProps:()=>J,mapStateToProps:()=>K});var n=r(79824),o=r(86090),s=r(96529),a=r(87374),i=r(41594),l=r(45667),c=r(34839),p=r(7753),u=r(39005),d=r(5605);const m=()=>{const e=(0,o.W6)(),t=s.DS.getProfileUrl(),r=(0,s.xT)(t);return i.createElement(p.q,{listItems:[{label:"Details",href:`${t}details`,onClick:r=>(0,u.A)(r,`${t}details`,e),icon:i.createElement(d.CP,{type:"user",content:"Details"}),isActive:r.startsWith("details")},{label:"Token",href:`${t}token`,onClick:r=>(0,u.A)(r,`${t}token`,e),icon:i.createElement(d.CP,{type:"tokenKey",content:"Token"}),isActive:r.startsWith("token")},{label:"Password",href:`${t}password`,onClick:r=>(0,u.A)(r,`${t}password`,e),icon:i.createElement(d.CP,{type:"nested",content:"Password"}),isActive:r.startsWith("password")},{label:"Bookmarks",onClick:r=>(0,u.A)(r,`${t}bookmarks`,e),icon:i.createElement(d.CP,{type:"starEmpty",content:"Bookmarks"}),isActive:r.startsWith("bookmarks")}],size:"s",color:"text"})},h=()=>i.createElement(c.A,{getBreadcrumbs:()=>[{text:"Profile"}],title:"User profile",sidebar:i.createElement(d.js,{SidebarComponent:m})});var g=r(3410),E=r(34051),f=r(56161),y=r(92166),k=r(43269),v=r(16825),b=r(93273),w=r(46332),S=r(17201),x=r(1287),A=r(95114),T=r(21553);var C=r(36377),U=r(41619),L=r(10930),z=r(84525);const _=(0,n.Ng)((function(e,t){let r,n,o=!1;if(t.token){const s=t.token.uuid||"";o=(0,L.R)(e.loadingIndicators.userTokens.byUuids,s,C.k.UPDATE),r=(0,U.x)(e.alerts.userTokens.byUuids,o,s,C.k.UPDATE),n=(0,z.d)(e.alerts.userTokens.byUuids,o,s,C.k.UPDATE)}else o=(0,s.Hn)(e.loadingIndicators.userTokens.global.create),r=(0,U.L)(e.alerts.userTokens.global,o,C.k.CREATE),n=(0,z.l)(e.alerts.userTokens.global,o,C.k.CREATE);return{token:t.token,onCancel:t.onCancel,isLoading:o,errors:r,success:n}}),(function(e,t){return{onSave:r=>t.token?e(a.Li.updateUserToken(t.token.uuid||"",r)):e(a.Li.createUserToken(r))}}))((e=>i.createElement(T.A,{onSave:e.onSave,onCancel:e.onCancel,errors:e.errors,success:e.success,isLoading:e.isLoading,token:e.token})));var P=r(29580);class F extends i.Component{constructor(e){super(e),this.state={sortField:"",sortDirection:s.UE.ASC,pageSize:w.yQ,pageIndex:0,tokenConfirmationVisible:null,selectedToken:""}}componentDidMount(){this.refresh()}refresh=(e,t,r,n)=>{const o=t||this.state.pageSize,a=((0,s.gD)(e)?this.state.pageIndex:e)*o;this.props.onFetch(a,o,(0,S.FD)(r||this.state.sortField,n||this.state.sortDirection),"")};onTableChange=e=>{const t=e.page,r=e.sort,n=t&&!(0,s.gD)(t.index)?t.index:this.state.pageIndex,o=t?t.size:this.state.pageSize,a=r?r.field:this.state.sortField,i=r?r.direction:this.state.sortDirection;this.setState((e=>({...e,pageIndex:n,pageSize:o,sortField:a,sortDirection:i}))),this.refresh(n,o,a,i)};closeModal=()=>{this.setState((e=>({...e,tokenConfirmationVisible:null})))};showTokenModal=(e,t)=>{this.setState((r=>({...r,selectedToken:e,tokenConfirmationVisible:t})))};getSelectedToken=e=>{const t=e.filter((e=>e.uuid===this.state.selectedToken));return t.length>0?t[0]:e[0]};getTokenTableColumns=()=>{const e=(0,x.wA)();return[...(0,A.YD)(e,["name","createdAt","updatedAt","startedAt","expiresAt"]),{name:"Actions",actions:(0,x.BF)((e=>this.showTokenModal(e,"info")),(e=>this.showTokenModal(e,"update")),(e=>this.showTokenModal(e,"refresh")),(e=>this.showTokenModal(e,"regenerate")),(e=>this.showTokenModal(e,"delete")))}]};render(){const e=this.props.tokens||[],t={pageIndex:this.state.pageIndex,pageSize:this.state.pageSize,totalItemCount:this.props.count||0,pageSizeOptions:w.ZE},r={sort:{field:this.state.sortField,direction:this.state.sortDirection},allowNeutralSort:!1};return i.createElement(i.Fragment,null,i.createElement(g.l,null,i.createElement(E.ZQ,{justifyContent:"flexEnd",gutterSize:"xs"},i.createElement(f.v,{grow:!1},i.createElement(y.A,{callback:this.refresh})),i.createElement(f.v,{grow:!1},i.createElement(k.Fo,{iconType:"plusInCircleFilled",size:"s",color:"success",onClick:()=>this.showTokenModal("","add")},"New Token"))),i.createElement(v.$,null),this.props.token&&i.createElement(P.IN,{name:"Default token",value:i.createElement(x.v_,{tokenKey:this.props.token}),icon:"tokenKey",space:"s"}),i.createElement(v.$,null),i.createElement(b.l,{items:e,itemId:"uuid",columns:this.getTokenTableColumns(),pagination:t,sorting:r,onChange:this.onTableChange,hasActions:!0,tableLayout:"auto"}),"info"===this.state.tokenConfirmationVisible&&(0,x.d9)(this.getSelectedToken(e),this.closeModal),"update"===this.state.tokenConfirmationVisible&&(0,x._d)(i.createElement(_,{token:this.getSelectedToken(e),onCancel:this.closeModal}),this.closeModal),"delete"===this.state.tokenConfirmationVisible&&(0,x.cb)(this.getSelectedToken(e),(()=>this.props.onDelete(this.state.selectedToken)),this.closeModal),"add"===this.state.tokenConfirmationVisible&&(0,x.zO)(i.createElement(_,{onCancel:this.closeModal}),this.closeModal),"refresh"===this.state.tokenConfirmationVisible&&(0,x.yT)(this.getSelectedToken(e),(e=>this.props.onUpdate(this.state.selectedToken,e)),this.closeModal),"regenerate"===this.state.tokenConfirmationVisible&&(0,x.nB)(this.getSelectedToken(e),(e=>this.props.onUpdate(this.state.selectedToken,e)),this.closeModal)))}}var R=r(55090);const I=(0,o.y)((0,n.Ng)((function(e,t){const r=(0,R.aZ)(e.userTokens);return{tokens:r.tokens,count:r.count,token:e.auth.token}}),(function(e,t){return{onDelete:t=>e(a.Li.deleteUserToken(t)),onUpdate:(t,r)=>e(a.Li.updateUserToken(t,r)),onFetch:(t,r,n,o)=>e(a.Li.fetchUserTokens(t,r,n,o))}}))(F));var D=r(71096),M=r(79313),N=r(91833),q=r(17204),W=r(68266);const G=M.Ik().shape({username:W.r3,name:W.TD});class $ extends i.PureComponent{updateUser=e=>{const t={};let r=!1;e.theme&&e.theme!==this.props.user?.theme?.toString()&&(t.theme=e.theme,r=!0),e.name&&e.name!==this.props.user?.name&&(t.name=e.name),e.username&&e.username!==this.props.user?.username&&(t.username=e.username),(0,s.Im)(t)||this.props.onUpdate(t,r)};render(){const e=this.props.user;return e?i.createElement(i.Fragment,null,i.createElement(g.l,null,i.createElement(q.ij,null,i.createElement(f.v,null,(()=>{const t={username:e.username||"",email:e.email||"",name:e.name||"",theme:e.theme?.toString()||s.dA};return i.createElement(D.l1,{initialValues:t,validationSchema:G,onSubmit:(e,t)=>{this.updateUser(e),t.setTouched({})}},(e=>i.createElement(N.l,{error:(0,W.GX)(this.props.errors),isInvalid:(0,W.yF)(this.props.errors)},i.createElement("form",{onSubmit:e.handleSubmit},i.createElement(W.A_,{props:e,errors:this.props.errors,fieldName:"username"}),i.createElement(W.LP,{props:e,errors:this.props.errors,fieldName:"email",readOnly:!0}),i.createElement(W.A_,{props:e,errors:this.props.errors,fieldName:"name",helpText:"This field should contain your full name (first name and last name(s))."}),i.createElement(W.gY,null),i.createElement(v.$,null),i.createElement(k.Fo,{fill:!0,size:"s",color:"primary",type:"submit",disabled:this.props.isLoading},"Save")))))})())))):null}}const j=(0,o.y)((0,n.Ng)((function(e,t){const r=(0,s.Hn)(e.loadingIndicators.currentUser.global.update);return{isLoading:r,errors:(0,U.L)(e.alerts.currentUser.global,r,C.k.UPDATE),success:(0,s.Hn)((0,z.l)(e.alerts.currentUser.global,r,C.k.UPDATE)),user:e.users.currentUser}}),(function(e){return{onUpdate:(t,r=!1)=>e(a.CX.updateCurrentUser(t,void 0,r))}}))($)),O=M.Ik().shape({old_password:M.Yj().required("field value is required.").min(6,"field value is too Short."),new_password1:M.Yj().required("field value is required.").min(6,"field value is too Short."),new_password2:M.Yj().required("field value is required.").min(6,"field value is too Short.")});class B extends i.PureComponent{updatePassword=e=>{e.old_password&&e.new_password1&&e.new_password2&&this.props.onUpdate(e)};render(){return this.props.user?i.createElement(i.Fragment,null,i.createElement(g.l,null,i.createElement(q.ij,null,i.createElement(f.v,{grow:!1},(()=>i.createElement(D.l1,{key:this.props.success?"success":"form",initialValues:{old_password:"",new_password1:"",new_password2:""},validationSchema:O,enableReinitialize:!0,onSubmit:(e,t)=>{this.updatePassword(e),t.setTouched({})}},(e=>i.createElement(N.l,{error:(0,W.GX)(this.props.errors),isInvalid:(0,W.yF)(this.props.errors)},i.createElement("form",{onSubmit:e.handleSubmit},i.createElement(W.s3,{props:e,errors:this.props.errors,fieldName:"old_password",label:"old password",fullWidth:!0}),i.createElement(W.s3,{props:e,errors:this.props.errors,fieldName:"new_password1",label:"new password",fullWidth:!0}),i.createElement(W.s3,{props:e,errors:this.props.errors,fieldName:"new_password2",label:"confirm new password",fullWidth:!0}),i.createElement(v.$,null),i.createElement(k.Fo,{fill:!0,size:"s",color:"primary",type:"submit",disabled:this.props.isLoading},"Save"))))))())))):null}}const V=(0,o.y)((0,n.Ng)((function(e,t){const r=(0,s.Hn)(e.loadingIndicators.currentUser.global.update);return{isLoading:r,errors:(0,U.L)(e.alerts.currentUser.global,r,C.k.UPDATE),success:(0,s.Hn)((0,z.l)(e.alerts.currentUser.global,r,C.k.UPDATE)),user:e.users.currentUser}}),(function(e){return{onUpdate:t=>e(a.CX.updatePassword(t))}}))(B));class H extends i.Component{constructor(e){super(e),this.state={sortField:"",sortDirection:s.UE.ASC,pageSize:w.yQ,pageIndex:0}}componentDidMount(){this.refresh()}refresh=(e,t,r,n)=>{const o=t||this.state.pageSize,a=((0,s.gD)(e)?this.state.pageIndex:e)*o;this.props.onFetch(a,o,(0,S.FD)(r||this.state.sortField,n||this.state.sortDirection),"")};getItemsTableColumns=()=>{const e={owner:(0,A.GV)("Owner","owner",void 0,void 0,!1),project:(0,A.GV)("Project","project",void 0,void 0,!1),name:(0,A.cW)(void 0,!1),uuid:(0,A.BC)(void 0,!1),status:(0,A.LA)(),createdAt:(0,A.lH)(),updatedAt:(0,A.me)()};return[...(0,A.YD)(e,["uuid","status","owner","project","name","createdAt","updatedAt"]),{name:"Actions",actions:[{name:"Unbookmark",description:"Unbookmark",icon:"starMinusEmpty",type:"icon",color:"danger","data-test-subj":"action-remove",onClick:e=>this.props.unbookmark(e.owner,e.project,e.uuid)},{name:"View",description:"View",icon:"popout",type:"icon",color:"primary","data-test-subj":"action-remove",onClick:e=>s.b6.push(s.DS.getRunUrl(e.owner,e.project,e.uuid))}]}]};onTableChange=e=>{const t=e.page,r=e.sort,n=t&&!(0,s.gD)(t.index)?t.index:this.state.pageIndex,o=t?t.size:this.state.pageSize,a=r?r.field:this.state.sortField,i=r?r.direction:this.state.sortDirection;this.setState((e=>({...e,pageIndex:n,pageSize:o,sortField:a,sortDirection:i}))),this.refresh(n,o,a,i)};render(){const e=this.props.runs.map((e=>({owner:e.owner||"",project:e.project||"",name:e.name||"",uuid:e.uuid||"",status:e.status||"",created_at:e.created_at||"",updated_at:e.updated_at||""}))),t={pageIndex:this.state.pageIndex,pageSize:this.state.pageSize,totalItemCount:this.props.count||0,pageSizeOptions:w.ZE},r={sort:{field:this.state.sortField,direction:this.state.sortDirection},allowNeutralSort:!1};return i.createElement(g.l,null,i.createElement(E.ZQ,{justifyContent:"flexEnd"},i.createElement(f.v,{grow:!1},i.createElement(y.A,{callback:this.refresh}))),i.createElement(v.$,null),i.createElement(b.l,{items:e,itemId:"uuid",columns:this.getItemsTableColumns(),pagination:t,sorting:r,onChange:this.onTableChange,hasActions:!0,tableLayout:"auto"}))}}const Y=(0,o.y)((0,n.Ng)((function(e,t){const r=(0,R.iX)(e.runs);return{runs:r.runs,count:r.count}}),(function(e,t){return{bookmark:(t,r,n)=>e(a.o6.bookmark(t,r,n)),unbookmark:(t,r,n)=>e(a.o6.unbookmark(t,r,n)),onFetch:(t,r,n,o)=>e(a.o6.fetchBookmarkedruns(t,r,n,o))}}))(H));var Z=r(66227);class X extends i.PureComponent{componentDidMount(){this.props.user||this.props.isLoading||this.props.errors&&this.props.success||this.props.getCurrentUser()}componentDidUpdate(e){this.props.user||this.props.isLoading||this.props.errors&&this.props.success||this.props.getCurrentUser(),this.props.initUser()}render(){const e=this.props.user;return i.createElement(i.Fragment,null,i.createElement(h,null),i.createElement(Z.Y,{PageSidebar:m,pageBody:(()=>(0,s.gD)(e)?this.props.isLoading?i.createElement(l.wc,{size:"xs",color:"success"}):(s.b6.push(s.DS.getLoginUrl(this.props.next)),null):i.createElement(o.dO,null,i.createElement(o.qh,{exact:!0,path:a.JZ.XH4,component:j}),i.createElement(o.qh,{exact:!0,path:a.JZ.eyD,component:I}),i.createElement(o.qh,{exact:!0,path:a.JZ.OUe,component:V}),i.createElement(o.qh,{exact:!0,path:a.JZ.SYo,component:Y})))()}))}}function K(e,t){const r=t.location.search?`${t.location.pathname}${t.location.search}`:t.location.pathname,n=(0,s.Hn)(e.loadingIndicators.currentUser.global.get),o=(0,U.L)(e.alerts.currentUser.global,n,C.k.GET),a=(0,s.Hn)((0,z.l)(e.alerts.currentUser.global,n,C.k.GET));return{user:e.users.currentUser,isLoading:n,errors:o,success:a,next:r}}function J(e){return{initUser:()=>e(a.CX.initUser()),getCurrentUser:()=>e(a.CX.getCurrentUser())}}const Q=(0,o.y)((0,n.Ng)(K,J)(X))}}]);