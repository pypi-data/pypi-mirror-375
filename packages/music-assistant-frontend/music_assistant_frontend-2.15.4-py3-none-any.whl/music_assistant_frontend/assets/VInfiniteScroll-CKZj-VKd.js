import{g as E,p as $,r as W,bS as G,v as K,i as j,bT as J,n as X,x as L,s as I,az as Z,u as Q,w as q,o as O,bU as p,c as Y,D as z,bi as R,F as v,G as D,aI as ee,au as te,J as ne,bV as ae,L as ie,bW as oe,bX as re,bY as se,f as le,R as A,e as ce,bZ as ue,E as b,bq as de,S as me,a as ve,aw as fe,af as ge,ag as ye,ah as Se,K as be,ai as ke,b_ as he,b$ as we,as as Ve}from"./index-B-lUZalq.js";import{V as Te,a as Pe}from"./layout-BuzUTwrQ.js";import{b as N,a as Ie}from"./VBtn-BPJ1JKW-.js";function xe(e){const l=I(e());let a=-1;function i(){clearInterval(a)}function o(){i(),A(()=>l.value=e())}function c(d){const k=d?getComputedStyle(d):{transitionDuration:.2},f=parseFloat(k.transitionDuration)*1e3||200;if(i(),l.value<=0)return;const g=performance.now();a=window.setInterval(()=>{const h=performance.now()-g+f;l.value=Math.max(e()-h,0),l.value<=0&&i()},f)}return le(i),{clear:i,time:l,start:c,reset:o}}const Ce=$({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...re({location:"bottom"}),...oe(),...ie(),...ae(),...ne(),...te(se({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Fe=E()({name:"VSnackbar",props:Ce(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const i=W(e,"modelValue"),{positionClasses:o}=G(e),{scopeId:c}=K(),{themeClasses:d}=j(e),{colorClasses:k,colorStyles:f,variantClasses:g}=J(e),{roundedClasses:h}=X(e),u=xe(()=>Number(e.timeout)),_=L(),w=L(),V=I(!1),T=I(0),x=L(),y=Z(Te,void 0);Q(()=>!!y,()=>{const s=Pe();ce(()=>{x.value=s.mainStyles.value})}),q(i,S),q(()=>e.timeout,S),O(()=>{i.value&&S()});let P=-1;function S(){u.reset(),window.clearTimeout(P);const s=Number(e.timeout);if(!i.value||s===-1)return;const C=p(w.value);u.start(C),P=window.setTimeout(()=>{i.value=!1},s)}function M(){u.reset(),window.clearTimeout(P)}function F(){V.value=!0,M()}function t(){V.value=!1,S()}function n(s){T.value=s.touches[0].clientY}function m(s){Math.abs(T.value-s.changedTouches[0].clientY)>50&&(i.value=!1)}function r(){V.value&&t()}const H=Y(()=>e.location.split(" ").reduce((s,C)=>(s[`v-snackbar--${C}`]=!0,s),{}));return z(()=>{const s=R.filterProps(e),C=!!(a.default||a.text||e.text);return v(R,D({ref:_,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},H.value,o.value,e.class],style:[x.value,e.style]},s,{modelValue:i.value,"onUpdate:modelValue":U=>i.value=U,contentProps:D({class:["v-snackbar__wrapper",d.value,k.value,h.value,g.value],style:[f.value],onPointerenter:F,onPointerleave:t},s.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:n,onTouchend:m,onAfterLeave:r},c),{default:()=>[ue(!1,"v-snackbar"),e.timer&&!V.value&&b("div",{key:"timer",class:"v-snackbar__timer"},[v(de,{ref:w,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:u.time.value},null)]),C&&b("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[a.text?.()??e.text,a.default?.()]),a.actions&&v(me,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[b("div",{class:"v-snackbar__actions"},[a.actions({isActive:i})])]})],activator:a.activator})}),ee({},_)}}),Ae=$({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...ke(),...be()},"VInfiniteScroll"),B=he({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,l)=>!0},setup(e,l){let{emit:a}=l;const{intersectionRef:i,isIntersecting:o}=we();return q(o,async c=>{a("intersect",e.side,c)}),z(()=>b("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:i},[Ve("Â ")])),{}}}),qe=E()({name:"VInfiniteScroll",props:Ae(),emits:{load:e=>!0},setup(e,l){let{slots:a,emit:i}=l;const o=L(),c=I("ok"),d=I("ok"),k=Y(()=>ve(e.margin)),f=I(!1);function g(t){if(!o.value)return;const n=e.direction==="vertical"?"scrollTop":"scrollLeft";o.value[n]=t}function h(){if(!o.value)return 0;const t=e.direction==="vertical"?"scrollTop":"scrollLeft";return o.value[t]}function u(){if(!o.value)return 0;const t=e.direction==="vertical"?"scrollHeight":"scrollWidth";return o.value[t]}function _(){if(!o.value)return 0;const t=e.direction==="vertical"?"clientHeight":"clientWidth";return o.value[t]}O(()=>{o.value&&(e.side==="start"?g(u()):e.side==="both"&&g(u()/2-_()/2))});function w(t,n){t==="start"?c.value=n:t==="end"?d.value=n:t==="both"&&(c.value=n,d.value=n)}function V(t){return t==="start"?c.value:d.value}let T=0;function x(t,n){f.value=n,f.value&&y(t)}function y(t){if(e.mode!=="manual"&&!f.value)return;const n=V(t);if(!o.value||["empty","loading"].includes(n))return;T=u(),w(t,"loading");function m(r){w(t,r),A(()=>{r==="empty"||r==="error"||(r==="ok"&&t==="start"&&g(u()-T+h()),e.mode!=="manual"&&A(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{y(t)})})})}))})}i("load",{side:t,done:m})}const{t:P}=fe();function S(t,n){if(e.side!==t&&e.side!=="both")return;const m=()=>y(t),r={side:t,props:{onClick:m,color:e.color}};return n==="error"?a.error?.(r):n==="empty"?a.empty?.(r)??b("div",null,[P(e.emptyText)]):e.mode==="manual"?n==="loading"?a.loading?.(r)??v(N,{indeterminate:!0,color:e.color},null):a["load-more"]?.(r)??v(Ie,{variant:"outlined",color:e.color,onClick:m},{default:()=>[P(e.loadMoreText)]}):a.loading?.(r)??v(N,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:M}=ge(e);z(()=>{const t=e.tag,n=e.side==="start"||e.side==="both",m=e.side==="end"||e.side==="both",r=e.mode==="intersect";return v(t,{ref:o,class:Se(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":n,"v-infinite-scroll--end":m}]),style:ye(M.value)},{default:()=>[b("div",{class:"v-infinite-scroll__side"},[S("start",c.value)]),n&&r&&v(B,{key:"start",side:"start",onIntersect:x,rootMargin:k.value},null),a.default?.(),m&&r&&v(B,{key:"end",side:"end",onIntersect:x,rootMargin:k.value},null),b("div",{class:"v-infinite-scroll__side"},[S("end",d.value)])]})});function F(t){const n=t??e.side;w(n,"ok"),A(()=>{g(u()-T+h()),e.mode!=="manual"&&A(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{n==="both"?(y("start"),y("end")):y(n)})})})})})}return{reset:F}}});export{Fe as V,qe as a};
