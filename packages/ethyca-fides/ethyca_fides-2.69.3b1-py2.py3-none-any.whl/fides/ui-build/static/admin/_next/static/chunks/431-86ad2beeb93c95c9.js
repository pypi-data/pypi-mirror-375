"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{40431:function(e,t,r){r.d(t,{jo:function(){return p},WJ:function(){return S},bJ:function(){return g},Oi:function(){return m},jx:function(){return b},km:function(){return d},XI:function(){return v}});var n,l=r(95897);function u(e,t,r){try{return e(t)}catch(e){return(0,l.ZK)("[nuqs] Error while parsing value `%s`: %O"+(r?" (for key `%s`)":""),t,e,r),null}}var s=function(){if("undefined"==typeof window||!window.GestureEvent)return 50;try{let e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}(),i=new Map,a={history:"replace",scroll:!1,shallow:!0,throttleMs:s},o=new Set,c=0,f=null,h=r(27378);function p(e){function t(t){if(void 0===t)return null;let r="";if(Array.isArray(t)){if(void 0===t[0])return null;r=t[0]}return"string"==typeof t&&(r=t),u(e.parse,r)}return{eq:(e,t)=>e===t,...e,parseServerSide:t,withDefault(e){return{...this,defaultValue:e,parseServerSide:r=>t(r)??e}},withOptions(e){return{...this,...e}}}}var m=p({parse:e=>e,serialize:e=>`${e}`}),O=p({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()});function y(e,t){return e.valueOf()===t.valueOf()}function b(e){return p({parse:t=>e.includes(t)?t:null,serialize:e=>e.toString()})}function d(e){return p({parse:t=>e.includes(t)?t:null,serialize:e=>e.toString()})}function g(e){return p({parse:t=>{let r=parseFloat(t);return e.includes(r)?r:null},serialize:e=>e.toString()})}function S(e){return p({parse:t=>{try{let r=JSON.parse(t);return e(r)}catch{return null}},serialize:e=>JSON.stringify(e),eq:(e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t)})}p({parse:e=>{let t=O.parse(e);return null===t?null:t-1},serialize:e=>O.serialize(e+1)}),p({parse:e=>{let t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{let t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}}),p({parse:e=>{let t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()}),p({parse:e=>"true"===e,serialize:e=>e?"true":"false"}),p({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString(),eq:y}),p({parse:e=>{let t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString(),eq:y}),p({parse:e=>{let t=new Date(e.slice(0,10));return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString().slice(0,10),eq:y});var w={all:n=n||new Map,on:function(e,t){var r=n.get(e);r?r.push(t):n.set(e,[t])},off:function(e,t){var r=n.get(e);r&&(t?r.splice(r.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var r=n.get(e);r&&r.slice().map(function(e){e(t)}),(r=n.get("*"))&&r.slice().map(function(r){r(e,t)})}},j={};function v(e,{history:t="replace",scroll:r=!1,shallow:n=!0,throttleMs:u=s,clearOnDefault:p=!0,startTransition:m,urlKeys:O=j}={}){let y=Object.keys(e).join(","),b=(0,h.useMemo)(()=>Object.fromEntries(Object.keys(e).map(e=>[e,O[e]??e])),[y,JSON.stringify(O)]),d=(0,l.YW)(),g=d.searchParams,S=(0,h.useRef)({}),v=(0,h.useMemo)(()=>Object.fromEntries(Object.keys(e).map(t=>[t,e[t].defaultValue??null])),[Object.values(e).map(({defaultValue:e})=>e).join(",")]),[k,M]=(0,h.useState)(()=>N(e,O,g??new URLSearchParams).state),F=(0,h.useRef)(k);if((0,l.fF)("[nuq+ `%s`] render - state: %O, iSP: %s",y,k,g),Object.keys(S.current).join("&")!==Object.values(b).join("&")){let{state:t,hasChanged:r}=N(e,O,g,S.current,F.current);r&&(F.current=t,M(t)),S.current=Object.fromEntries(Object.values(b).map(e=>[e,g?.get(e)??null]))}(0,h.useEffect)(()=>{let{state:t,hasChanged:r}=N(e,O,g,S.current,F.current);r&&(F.current=t,M(t))},[Object.values(b).map(e=>`${e}=${g?.get(e)}`).join("&")]),(0,h.useEffect)(()=>{let t=Object.keys(e).reduce((t,r)=>(t[r]=({state:t,query:n})=>{var u;let{defaultValue:s}=e[r],i=b[r];F.current={...F.current,[r]:t??s??null},S.current[i]=n,(0,l.fF)("[nuq+ `%s`] Cross-hook key sync %s: %O (default: %O). Resolved: %O",y,i,t,s,F.current),u=F.current,(0,l.fF)("[nuq+ `%s`] updateInternalState %O",y,u),F.current=u,M(u)},t),{});for(let r of Object.keys(e)){let e=b[r];(0,l.fF)("[nuq+ `%s`] Subscribing to sync for `%s`",y,e),w.on(e,t[r])}return()=>{for(let r of Object.keys(e)){let e=b[r];(0,l.fF)("[nuq+ `%s`] Unsubscribing to sync for `%s`",y,e),w.off(e,t[r])}}},[y,b]);let z=(0,h.useCallback)((h,O={})=>{let g=Object.fromEntries(Object.keys(e).map(e=>[e,null])),S="function"==typeof h?h(q(F.current,v))??g:h??g;for(let[c,f]of((0,l.fF)("[nuq+ `%s`] setState: %O",y,S),Object.entries(S))){let h=e[c],y=b[c];if(!h)continue;(O.clearOnDefault??h.clearOnDefault??p)&&null!==f&&void 0!==h.defaultValue&&(h.eq??((e,t)=>e===t))(f,h.defaultValue)&&(f=null);let d=function(e,t,r,n){let u=null===t?null:r(t);return(0,l.fF)("[nuqs queue] Enqueueing %s=%s %O",e,u,n),i.set(e,u),"push"===n.history&&(a.history="push"),n.scroll&&(a.scroll=!0),!1===n.shallow&&(a.shallow=!1),n.startTransition&&o.add(n.startTransition),a.throttleMs=Math.max(n.throttleMs??s,Number.isFinite(a.throttleMs)?a.throttleMs:0),u}(y,f,h.serialize??String,{history:O.history??h.history??t,shallow:O.shallow??h.shallow??n,scroll:O.scroll??h.scroll??r,throttleMs:O.throttleMs??h.throttleMs??u,startTransition:O.startTransition??h.startTransition??m});w.emit(y,{state:f,query:d})}return function({getSearchParamsSnapshot:e=function(){return new URLSearchParams(location.search)},updateUrl:t,rateLimitFactor:r=1}){return null===f&&(f=new Promise((n,u)=>{if(!Number.isFinite(a.throttleMs)){(0,l.fF)("[nuqs queue] Skipping flush due to throttleMs=Infinity"),n(e()),setTimeout(()=>{f=null},0);return}function h(){c=performance.now();let[r,h]=function({updateUrl:e,getSearchParamsSnapshot:t}){let r=t();if(0===i.size)return[r,null];let n=Array.from(i.entries()),u={...a},c=Array.from(o);for(let[e,t]of(i.clear(),o.clear(),a.history="replace",a.scroll=!1,a.shallow=!0,a.throttleMs=s,(0,l.fF)("[nuqs queue] Flushing queue %O with options %O",n,u),n))null===t?r.delete(e):r.set(e,t);try{return function(e,t){let r=n=>{if(n===e.length)return t();let l=e[n];if(!l)throw Error("Invalid transition function");l(()=>r(n+1))};r(0)}(c,()=>{e(r,{history:u.history,scroll:u.scroll,shallow:u.shallow})}),[r,null]}catch(e){return console.error((0,l.vU)(429),n.map(([e])=>e).join(),e),[r,e]}}({updateUrl:t,getSearchParamsSnapshot:e});null===h?n(r):u(r),f=null}setTimeout(function(){let e=performance.now()-c,t=a.throttleMs,n=r*Math.max(0,Math.min(t,t-e));(0,l.fF)("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",n,t),0===n?h():setTimeout(h,n)},0)})),f}(d)},[y,t,n,r,u,m,b,d.updateUrl,d.getSearchParamsSnapshot,d.rateLimitFactor,v]);return[(0,h.useMemo)(()=>q(k,v),[k,v]),z]}function N(e,t,r,n,l){let s=!1,a=Object.keys(e).reduce((a,o)=>{let c=t?.[o]??o,{parse:f}=e[o],h=i.get(c),p=void 0===h?r?.get(c)??null:h;if(n&&l&&(n[c]??null)===p)return a[o]=l[o]??null,a;s=!0;let m=null===p?null:u(f,p,o);return a[o]=m??null,n&&(n[c]=p),a},{});if(!s){let t=Object.keys(e),r=Object.keys(l??{});s=t.length!==r.length||t.some(e=>!r.includes(e))}return{state:a,hasChanged:s}}function q(e,t){return Object.fromEntries(Object.keys(e).map(r=>[r,e[r]??t[r]??null]))}}}]);