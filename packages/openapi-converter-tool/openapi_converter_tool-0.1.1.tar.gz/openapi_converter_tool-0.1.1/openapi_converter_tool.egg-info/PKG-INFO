Metadata-Version: 2.4
Name: openapi-converter-tool
Version: 0.1.1
Summary: ç‹¬ç«‹çš„ OpenAPI 3.0.1 åˆ°é¡¹ç›® API æ ¼å¼è½¬æ¢å·¥å…·
Home-page: https://github.com/openapi-converter/openapi-converter
Author: OpenAPI Converter Team
Author-email: team@openapi-converter.dev
Project-URL: Bug Reports, https://github.com/openapi-converter/openapi-converter/issues
Project-URL: Source, https://github.com/openapi-converter/openapi-converter
Project-URL: Documentation, https://openapi-converter.readthedocs.io
Keywords: openapi swagger api conversion yaml
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Code Generators
Classifier: Topic :: Internet :: WWW/HTTP :: HTTP Servers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: PyYAML>=6.0
Provides-Extra: dev
Requires-Dist: pytest>=6.0; extra == "dev"
Requires-Dist: pytest-cov; extra == "dev"
Requires-Dist: black; extra == "dev"
Requires-Dist: isort; extra == "dev"
Requires-Dist: flake8; extra == "dev"
Provides-Extra: web
Requires-Dist: flask>=2.0.0; extra == "web"
Requires-Dist: werkzeug>=2.0.0; extra == "web"
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: keywords
Dynamic: project-url
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# Converter

ç‹¬ç«‹çš„ OpenAPI 3.0.1 åˆ°é¡¹ç›® API æ ¼å¼è½¬æ¢å·¥å…·

## ğŸ“ é¡¹ç›®ç»“æ„

```
openapi-converter/
â”œâ”€â”€ src/                          # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ __init__.py              # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ cli.py                   # å‘½ä»¤è¡Œæ¥å£
â”‚   â”œâ”€â”€ config.py                # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ openapi-converter.py             # æ ¸å¿ƒè½¬æ¢é€»è¾‘
â”‚   â””â”€â”€ web_app.py               # Web åº”ç”¨
â”œâ”€â”€ templates/                    # Web åº”ç”¨æ¨¡æ¿
â”‚   â””â”€â”€ index.html               # Web åº”ç”¨ HTML æ¨¡æ¿
â”œâ”€â”€ examples/                     # ç¤ºä¾‹æ–‡ä»¶
â”‚   â””â”€â”€ openapi_template.yaml    # ç¤ºä¾‹ OpenAPI æ–‡ä»¶
â”œâ”€â”€ Makefile                      # æ„å»ºå’Œå¼€å‘å‘½ä»¤
â”œâ”€â”€ README.md                     # ä¸»è¦æ–‡æ¡£
â”œâ”€â”€ requirements.txt              # Python ä¾èµ–
â””â”€â”€ setup.py                      # åŒ…é…ç½®å’Œå®‰è£…è„šæœ¬
```

### ç›®å½•è¯´æ˜

#### `src/` - æ ¸å¿ƒæºä»£ç 
- **`__init__.py`** - åŒ…åˆå§‹åŒ–æ–‡ä»¶ï¼Œå®šä¹‰åŒ…çš„ä¸»è¦æ¥å£
- **`cli.py`** - å‘½ä»¤è¡Œæ¥å£å®ç°ï¼Œæä¾› `openapi-converter` å’Œ `openapi-converter-web` å‘½ä»¤
- **`config.py`** - é…ç½®ç®¡ç†æ¨¡å—ï¼Œå¤„ç†è½¬æ¢å‚æ•°å’Œé…ç½®æ–‡ä»¶
- **`openapi-converter.py`** - æ ¸å¿ƒè½¬æ¢é€»è¾‘ï¼Œå®ç° OpenAPI åˆ°é¡¹ç›®æ ¼å¼çš„è½¬æ¢
- **`web_app.py`** - Flask Web åº”ç”¨ï¼Œæä¾›å¯è§†åŒ–è½¬æ¢ç•Œé¢

#### `templates/` - Web åº”ç”¨æ¨¡æ¿
- **`index.html`** - Web åº”ç”¨çš„ HTML æ¨¡æ¿ï¼Œæä¾›ç”¨æˆ·å‹å¥½çš„è½¬æ¢ç•Œé¢

#### `examples/` - ç¤ºä¾‹æ–‡ä»¶
- **`openapi_template.yaml`** - ç¤ºä¾‹ OpenAPI æ–‡ä»¶ï¼Œç”¨äºæ¼”ç¤ºå’Œæµ‹è¯•è½¬æ¢åŠŸèƒ½

#### æ ¹ç›®å½•æ–‡ä»¶
- **`Makefile`** - æ„å»ºã€æµ‹è¯•ã€å¼€å‘ç›¸å…³çš„å‘½ä»¤é›†åˆ
- **`README.md`** - é¡¹ç›®ä¸»è¦æ–‡æ¡£ï¼ŒåŒ…å«ä½¿ç”¨è¯´æ˜å’Œç¤ºä¾‹
- **`requirements.txt`** - Python åŒ…ä¾èµ–åˆ—è¡¨
- **`setup.py`** - åŒ…é…ç½®å’Œå®‰è£…è„šæœ¬ï¼Œå®šä¹‰å¦‚ä½•æ‰“åŒ…å’Œå®‰è£…å·¥å…·

### è®¾è®¡ç†å¿µ

#### 1. åŠŸèƒ½åˆ†ç¦»
- **æ ¸å¿ƒåŠŸèƒ½** (`src/`) - æ‰€æœ‰ä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨æºä»£ç ç›®å½•
- **Web æ¨¡æ¿** (`templates/`) - Flask Web åº”ç”¨æ¨¡æ¿ç‹¬ç«‹ç®¡ç†
- **ç¤ºä¾‹æ•°æ®** (`examples/`) - ç¤ºä¾‹å’Œæµ‹è¯•æ–‡ä»¶ç‹¬ç«‹ç®¡ç†

#### 2. æ¸…æ™°å±‚æ¬¡
- **æºä»£ç ** - æ‰€æœ‰ Python æ¨¡å—é›†ä¸­åœ¨ `src/` ç›®å½•ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- **Web æ¨¡æ¿** - Flask æ¨¡æ¿æ–‡ä»¶ç‹¬ç«‹ç®¡ç†ï¼Œæ”¯æŒ Web ç•Œé¢å¼€å‘
- **ç¤ºä¾‹æ•°æ®** - ç¤ºä¾‹å’Œæµ‹è¯•æ–‡ä»¶ç‹¬ç«‹ç®¡ç†ï¼Œä¾¿äºç”¨æˆ·å­¦ä¹ å’Œæµ‹è¯•

#### 3. æ˜“äºç»´æŠ¤
- **æ¨¡å—åŒ–è®¾è®¡** - æ¯ä¸ªæ–‡ä»¶èŒè´£å•ä¸€ï¼Œä¾¿äºç†è§£å’Œä¿®æ”¹
- **æ ‡å‡†åŒ–ç»“æ„** - éµå¾ª Python åŒ…çš„æ ‡å‡†ç»“æ„ï¼Œä¾¿äºå¼€å‘å’Œéƒ¨ç½²
- **æ–‡æ¡£å®Œæ•´** - æ¯ä¸ªç›®å½•éƒ½æœ‰æ˜ç¡®çš„ç”¨é€”è¯´æ˜ï¼Œä¾¿äºæ–°å¼€å‘è€…ç†è§£

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…
```bash
pip install openapi-openapi-converter-tool
```

### ä½¿ç”¨æ–¹å¼

#### æ–¹å¼ä¸€ï¼šå‘½ä»¤è¡Œè½¬æ¢ï¼ˆæ¨èï¼‰
```bash
# åŸºæœ¬è½¬æ¢
openapi-openapi-converter convert your-api.yaml

# æŒ‡å®šè¾“å‡ºç›®å½•
openapi-openapi-converter convert your-api.yaml -o api/explore

# ä½¿ç”¨é…ç½®æ–‡ä»¶
openapi-openapi-converter config init
openapi-openapi-converter convert your-api.yaml -c openapi-converter-config.yaml
```

#### æ–¹å¼äºŒï¼šWeb å¯è§†åŒ–ç•Œé¢
```bash
# å¯åŠ¨ Web åº”ç”¨
openapi-openapi-converter-web

# æŒ‡å®šç«¯å£
openapi-openapi-converter-web 8080
```

ç„¶åæ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:5000

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤

```bash
# åŸºæœ¬å‘½ä»¤
openapi-converter --version                    # æŸ¥çœ‹ç‰ˆæœ¬
openapi-converter --help                      # æŸ¥çœ‹å¸®åŠ©
openapi-converter convert --help              # è½¬æ¢å¸®åŠ©
openapi-converter config --help               # é…ç½®å¸®åŠ©
openapi-converter-web --help                  # Web åº”ç”¨å¸®åŠ©

# è½¬æ¢å‘½ä»¤
openapi-converter convert input.yaml          # è½¬æ¢åˆ°é»˜è®¤ç›®å½•
openapi-converter convert input.yaml -o api/  # è½¬æ¢åˆ°æŒ‡å®šç›®å½•
openapi-converter convert input.yaml -c config.yaml  # ä½¿ç”¨é…ç½®æ–‡ä»¶

# é…ç½®ç®¡ç†
openapi-converter config init                 # åˆ›å»ºé…ç½®æ–‡ä»¶
openapi-converter config show                 # æ˜¾ç¤ºå½“å‰é…ç½®

# Web åº”ç”¨
openapi-converter-web                         # å¯åŠ¨ï¼ˆé»˜è®¤ç«¯å£ 5000ï¼‰
openapi-converter-web 8080                    # å¯åŠ¨ï¼ˆæŒ‡å®šç«¯å£ï¼‰
```

## ğŸ”§ é…ç½®

### åˆ›å»ºé…ç½®æ–‡ä»¶
```bash
openapi-converter config init
```

### é…ç½®æ–‡ä»¶ç¤ºä¾‹
```yaml
# openapi-converter-config.yaml
conversion:
  standard_headers:
    Content-Type: application/json
    Accept: application/json
    User-Agent: MyApp/1.0
  content_type: application/json
  output_dir: api
  file_naming: kebab-case
```

## ğŸ“ è¾“å‡ºç»“æœ

è½¬æ¢åä¼šç”Ÿæˆå¦‚ä¸‹ç»“æ„çš„æ–‡ä»¶ï¼š
```
api/
â”œâ”€â”€ users.yaml              # GET /users
â”œâ”€â”€ users_post.yaml         # POST /users  
â”œâ”€â”€ users_{id}.yaml         # GET /users/{id}
â””â”€â”€ users_{id}_put.yaml     # PUT /users/{id}
```

æ¯ä¸ªæ–‡ä»¶åŒ…å«ï¼š
- è¯·æ±‚æ–¹æ³•ã€è·¯å¾„ã€å‚æ•°
- è¯·æ±‚ä½“ç»“æ„
- å“åº”ç»“æ„
- ç¤ºä¾‹ curl å‘½ä»¤

## ğŸ› ï¸ æ•…éšœæ’é™¤

### ç«¯å£å†²çªï¼ˆmacOSï¼‰
```bash
# ä½¿ç”¨å…¶ä»–ç«¯å£
openapi-converter-web 8080

# æˆ–å…³é—­ AirPlay Receiver
# ç³»ç»Ÿåå¥½è®¾ç½® -> é€šç”¨ -> éš”ç©ºæŠ•é€ä¸æ¥åŠ› -> å…³é—­ AirPlay Receiver
```

### ç«¯å£ç®¡ç†å·¥å…·
```bash
# ä½¿ç”¨ç³»ç»Ÿå‘½ä»¤æŸ¥æ‰¾ç«¯å£
lsof -i :5000
netstat -an | grep 5000

# ä½¿ç”¨ Makefile æ£€æŸ¥ç«¯å£
make port-check PORT=5000

# ä½¿ç”¨ Makefile é‡Šæ”¾ç«¯å£
make port-kill PORT=5000
```

### å¸¸è§é”™è¯¯
- **æ–‡ä»¶ä¸å­˜åœ¨**ï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
- **æƒé™é—®é¢˜**ï¼šæ£€æŸ¥è¾“å‡ºç›®å½•çš„å†™å…¥æƒé™
- **ç«¯å£è¢«å ç”¨**ï¼šä½¿ç”¨å…¶ä»–ç«¯å£æˆ–é‡Šæ”¾è¢«å ç”¨çš„ç«¯å£

## ğŸ“š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šåŸºæœ¬è½¬æ¢
```bash
# 1. å®‰è£…
pip install openapi-converter

# 2. è½¬æ¢
openapi-converter convert petstore.yaml

# 3. æŸ¥çœ‹ç»“æœ
ls api/
```

### ç¤ºä¾‹ 2ï¼šæ‰¹é‡è½¬æ¢
```bash
for file in openapi/*.yaml; do
    openapi-converter convert "$file" -o "api/$(basename "$file" .yaml)"
done
```

### ç¤ºä¾‹ 3ï¼šWeb ç•Œé¢ä½¿ç”¨
```bash
# 1. å¯åŠ¨æœåŠ¡
openapi-converter-web 8080

# 2. æ‰“å¼€æµè§ˆå™¨
# http://localhost:8080

# 3. ä¸Šä¼ æ–‡ä»¶ã€é…ç½®é€‰é¡¹ã€ä¸‹è½½ç»“æœ
```

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®æ‰©å±•

#### æ·»åŠ æ–°åŠŸèƒ½
1. **æ ¸å¿ƒåŠŸèƒ½** - åœ¨ `src/` ç›®å½•ä¸‹æ·»åŠ æ–°çš„ Python æ¨¡å—
2. **Web æ¨¡æ¿** - åœ¨ `templates/` ç›®å½•ä¸‹æ·»åŠ æ–°çš„ Flask æ¨¡æ¿
3. **ç¤ºä¾‹æ•°æ®** - åœ¨ `examples/` ç›®å½•ä¸‹æ·»åŠ æ–°çš„ç¤ºä¾‹æ–‡ä»¶

#### ä¿®æ”¹ç°æœ‰åŠŸèƒ½
1. **æ ¸å¿ƒé€»è¾‘** - ä¿®æ”¹ `src/` ç›®å½•ä¸‹çš„ç›¸åº”æ¨¡å—
2. **Web ç•Œé¢** - ä¿®æ”¹ `templates/` ç›®å½•ä¸‹çš„æ¨¡æ¿æ–‡ä»¶
3. **ç¤ºä¾‹æ•°æ®** - ä¿®æ”¹ `examples/` ç›®å½•ä¸‹çš„ç¤ºä¾‹æ–‡ä»¶

#### æµ‹è¯•å’ŒéªŒè¯
```bash
# è¿è¡Œæ¼”ç¤º
make demo

# å¯åŠ¨ Web åº”ç”¨æµ‹è¯•
make web

# ä»£ç æ£€æŸ¥
make lint

# ä»£ç æ ¼å¼åŒ–
make format
```

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd openapi-converter

# å®‰è£…å¼€å‘ä¾èµ–
make install-dev

# å®‰è£…å·¥å…·åŒ…ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
make install

# è¿è¡Œæµ‹è¯•
make test
```

## ğŸ¯ æœ€ä½³å®è·µ

### æ–‡ä»¶ç»„ç»‡
```
project/
â”œâ”€â”€ openapi/
â”‚   â”œâ”€â”€ petstore.yaml
â”‚   â””â”€â”€ user-api.yaml
â”œâ”€â”€ api/                    # è½¬æ¢è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ pets/
â”‚   â””â”€â”€ users/
â””â”€â”€ config/
    â””â”€â”€ openapi-converter-config.yaml
```

### ç‰ˆæœ¬æ§åˆ¶
```bash
# å¿½ç•¥è¾“å‡ºç›®å½•
echo "api/" >> .gitignore

# ä¿ç•™é…ç½®æ–‡ä»¶
git add openapi-converter-config.yaml
```

## ğŸ” é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰è½¬æ¢è§„åˆ™
ç¼–è¾‘é…ç½®æ–‡ä»¶æ¥è‡ªå®šä¹‰ï¼š
- è¯·æ±‚å¤´
- å†…å®¹ç±»å‹
- æ–‡ä»¶å‘½å
- è¾“å‡ºæ ¼å¼

### é›†æˆåˆ° CI/CD
```yaml
# .github/workflows/convert-api.yml
- name: Convert OpenAPI
  run: |
    pip install openapi-converter
    openapi-converter convert api-spec.yaml -o generated-api/
```

## ğŸ—ï¸ å¼€å‘

### å®‰è£…å¼€å‘ç‰ˆæœ¬
```bash
git clone <repository>
cd openapi-converter
pip install -e .
```

### è¿è¡Œæµ‹è¯•
```bash
make test
```

### ä»£ç æ ¼å¼åŒ–
```bash
make format
```

## è®¸å¯è¯

MIT License
