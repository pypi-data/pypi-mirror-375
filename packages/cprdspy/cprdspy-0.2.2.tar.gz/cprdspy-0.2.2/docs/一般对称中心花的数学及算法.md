# 一般对称中心花的数学及算法

![](./images/geogebra-export.png)

$$AF=R,BF=r,BD=2d,GF=2a$$
$$
α=∠BAD,β=∠ABD
$$
$$
r^2=a^2+d^2\\
B(r\cos∠BGH，r\sin∠BGH)=(a,d)\\
D(a,-d)\\
\theta=2\arctan \frac{a}{d}\\
\theta_{b1}=\pi+\frac{\pi}{2}-\frac{\theta}{2}\\
\theta_{e1}=\pi+\frac{\pi}{2}+\frac{\theta}{2}\\
\theta_{b2}=\frac{\pi}{2}-\frac{\theta}{2}\\
\theta_{e2}=\frac{\pi}{2}+\frac{\theta}{2}\\
$$

$$

$$
```python

import numpy as np

def rotate_point(point, theta):
    """将点绕原点旋转theta角度"""
    x, y = point
    x_new = x * np.cos(theta) - y * np.sin(theta)
    y_new = x * np.sin(theta) + y * np.cos(theta)
    return (x_new, y_new)

def draw_petal_any(center, r, d, rotate_theta=0, color='b'):
    a = np.sqrt(r**2 - d**2 / 4)
    theta = 2 * np.arctan(2 * a / d)
    theta_b1 = np.pi + np.pi / 2 - theta / 2
    theta_e1 = np.pi + np.pi / 2 + theta / 2
    theta_b2 = np.pi / 2 - theta / 2
    theta_e2 = np.pi / 2 + theta / 2
    center1 = (a + center[0], d / 2 + center[1])
    center2 = (a + center[0], center[1] - d / 2)
    # 关键点整体绕原点旋转
    center1_rot = rotate_point(center1, rotate_theta)
    center2_rot = rotate_point(center2, rotate_theta)
    arc_degree(center1_rot, r, theta_b1 + rotate_theta, theta_e1 + rotate_theta, color)
    arc_degree(center2_rot, r, theta_b2 + rotate_theta, theta_e2 + rotate_theta, color)

# 绘制12个花瓣绕原点旋转
for i in range(12):
    draw_petal_any((0, 0), 1, 1.99, rotate_theta=i * 2 * np.pi / 12)

    
```