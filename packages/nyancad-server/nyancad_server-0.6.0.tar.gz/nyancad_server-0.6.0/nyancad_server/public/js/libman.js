import { $APP, shadow$provide } from "./common.js";
var SG=function(a,b){return a.query("models/name_search",b)},YG=function(a){var b=SG(TG,{startkey:a,endkey:[$APP.r.g(a),"￰"].join(""),include_docs:!1,limit:10}),c=$APP.Im(1);$APP.lm(function(){var d=function(){function f(g){var h=g[1];if(h===1){h=$APP.Jg;var n=$APP.Km(b);g[7]=h;return $APP.Fm(g,2,n)}if(h===2)return h=g[2],n=h instanceof $APP.ej,g[8]=h,g[9]=n,g[1]=$APP.m(n)?3:4,$APP.Z;if(h===3)return h=g[8],h=$APP.cj.g($APP.fj(h)),h=$APP.J.h(h,$APP.dj),g[2]=h,g[1]=5,$APP.Z;if(h===4)return h=g[9],g[2]=
h,g[1]=5,$APP.Z;if(h===5)return g[1]=$APP.m(g[2])?6:7,$APP.Z;if(h===6)throw h=g[8],h;return h===7?(h=g[8],g[2]=h,g[1]=8,$APP.Z):h===8?(h=g[7],h=$APP.Pm(h,g[2],$APP.Ew),$APP.Gm(g,h)):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.Q(q,$APP.Z)){var t=q;break a}}}catch(v){t=v;p[2]=t;if($APP.D(p[4]))p[1]=$APP.E(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.Q(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=n;p[1]=1;
return p}var n=null;n=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};n.m=h;n.g=g;return n}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Em(e)});return c},ZG=function(a){var b=TG,c=$APP.Im(1);$APP.lm(function(){var d=function(){function f(g){var h=g[1];if(h===1)return h={selector:$APP.nl(a),limit:10},h=b.find(h),h=$APP.Km(h),$APP.Fm(g,2,h);if(h===2){h=g[2];var n=h instanceof $APP.ej;g[7]=h;
g[8]=n;g[1]=$APP.m(n)?3:4;return $APP.Z}if(h===3)return h=g[7],h=$APP.cj.g($APP.fj(h)),h=$APP.J.h(h,$APP.dj),g[2]=h,g[1]=5,$APP.Z;if(h===4)return h=g[8],g[2]=h,g[1]=5,$APP.Z;if(h===5)return g[1]=$APP.m(g[2])?6:7,$APP.Z;if(h===6)throw h=g[7],h;return h===7?(h=g[7],g[2]=h,g[1]=8,$APP.Z):h===8?(h=$APP.Om(g[2].docs),n=$APP.tf.g($APP.bi($APP.Tm,$APP.ge)),h=$APP.Ff.i($APP.Jg,n,h),$APP.Gm(g,h)):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.Q(q,$APP.Z)){var t=q;break a}}}catch(v){t=
v;p[2]=t;if($APP.D(p[4]))p[1]=$APP.E(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.Q(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null];p[0]=n;p[1]=1;return p}var n=null;n=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};n.m=h;n.g=g;return n}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Em(e)});return c},$G=function(a,b,c,d,e){var f=$APP.Gl($APP.u(c)),
g=$APP.Gl($APP.u(c)),h=$APP.la(e);return function(n,p,q,t,v){$APP.Ye($APP.u(g),$APP.u(q))&&($APP.pf(f,$APP.u(q)),$APP.pf(g,$APP.u(q)));return new $APP.U(null,2,5,$APP.V,[n,$APP.W.j(p,$APP.Ew,function(){var x=$APP.u(f);return t.g?t.g(x):t.call(null,x)}(),$APP.M([$APP.qw,function(x){x=x.target.value;h.h?h.h(q,x):h.call(null,q,x);return v.h?v.h(f,x):v.call(null,f,x)}]))],null)}},aH=function(a,b,c,d,e,f,g){return new $APP.U(null,3,5,$APP.V,[$APP.Kz,new $APP.U(null,6,5,$APP.V,[$G,$APP.Gx,$APP.Nk.j($APP.M([new $APP.l(null,
1,[$APP.xl,"combobox-input"],null),a])),b,f,g],null),new $APP.U(null,3,5,$APP.V,[$APP.Sw,new $APP.l(null,3,[$APP.xl,"combobox-select",$APP.Ew,$APP.u(c),$APP.qw,function(h){return $APP.pf(c,parseInt(h.target.value))}],null),$APP.ci($APP.lf(function(h,n){return new $APP.U(null,3,5,$APP.V,[$APP.ry,new $APP.l(null,2,[$APP.Gj,h,$APP.Ew,h],null),f.g?f.g(n):f.call(null,n)],null)},function(){var h=$APP.u(d);return e.g?e.g(h):e.call(null,h)}()))],null)],null)},bH=function(a){return $APP.pf($APP.Wu,new $APP.U(null,
5,5,$APP.V,[$APP.Cy,new $APP.l(null,1,[$APP.tz,function(b){console.log(b);b.preventDefault();b=b.target.elements.valuefield.value;$APP.D(b)&&(a.g?a.g(b):a.call(null,b));return $APP.pf($APP.Wu,null)}],null),new $APP.U(null,2,5,$APP.V,[$APP.Iy,"Enter the name of the new schematic"],null),new $APP.U(null,2,5,$APP.V,[$APP.Iy,new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,3,[$APP.Dj,"valuefield",$APP.aA,"text",$APP.Yx,!0],null)],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Iy,new $APP.U(null,3,5,
$APP.V,[$APP.Zz,new $APP.l(null,1,[$APP.Ey,function(){return $APP.pf($APP.Wu,null)}],null),"Cancel"],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,2,[$APP.aA,"submit",$APP.Ew,"Ok"],null)],null)],null)],null))},cH=function(a,b,c){return $APP.pf($APP.Yu,new $APP.l(null,3,[$APP.Ou,a,$APP.Pu,b,$APP.Zu,c],null))},dH=function(a,b){var c=function(){var e=$APP.Ad(a);return $APP.hB.g?$APP.hB.g(e):$APP.hB.call(null,e)}(),d=$APP.m(c)?a==null?null:$APP.Fb(a):a;d=$APP.Ff.h($APP.R,$APP.lf(function(e,
f){return new $APP.U(null,2,5,$APP.V,[["category.",$APP.r.g(e)].join(""),f],null)},d));c=$APP.m(c)?$APP.W.i(d,$APP.aA,c):d;return $APP.D(b)?$APP.W.i(c,$APP.Dj,new $APP.l(null,1,["$regex",["(?i)",$APP.r.g(b)].join("")],null)):c},gH=function(a,b){var c=$APP.Im(1);$APP.lm(function(){var d=function(){function f(g){var h=g[1];if(h===7)return h=dH(b,a),h=ZG(h),$APP.Fm(g,10,h);if(h===1)return h=$APP.pf(eH,!0),g[7]=h,g[2]=null,g[1]=2,$APP.Z;if(h===4){g[4]=$APP.Mc(g[4]);h=g[2];var n=$APP.pf(eH,!1),p=g[5];
if($APP.m(p))throw p;g[8]=n;g[2]=h;g[1]=3;return $APP.Z}if(h===15)return h=$APP.Rm(TG,"models",10,$APP.R),$APP.Fm(g,18,h);if(h===13)return g[2]=g[2],g[1]=9,$APP.Z;if(h===6){g[4]=$APP.Mc(g[4]);h=g[2];g[5]=h;if(h instanceof Error)g[1]=5,g[5]=null;else throw h;return $APP.Z}return h===17?(g[2]=g[2],g[1]=13,$APP.Z):h===3?$APP.Gm(g,g[2]):h===12?(g[1]=15,$APP.Z):h===2?(g[4]=$APP.ze(4,g[4]),g[4]=$APP.ze(6,g[4]),h=$APP.D(b),g[1]=h?7:8,$APP.Z):h===11?(h=YG($APP.uj(a)),$APP.Fm(g,14,h)):h===9?(h=$APP.pf(fH,
g[2]),g[4]=$APP.Mc(g[4]),g[2]=h,g[1]=4,$APP.Z):h===5?(n=console.error("Remote search error:",g[2]),h=$APP.pf(fH,$APP.Jg),g[9]=n,g[2]=h,g[1]=4,$APP.Z):h===14?(g[2]=g[2],g[1]=13,$APP.Z):h===16?(g[2]=null,g[1]=17,$APP.Z):h===10?(g[2]=g[2],g[1]=9,$APP.Z):h===18?(g[2]=g[2],g[1]=17,$APP.Z):h===8?(h=$APP.D(a),g[1]=h?11:12,$APP.Z):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.Q(q,$APP.Z)){var t=q;break a}}}catch(v){t=v;p[2]=t;if($APP.D(p[4]))p[1]=$APP.E(p[4]);else throw t;
t=$APP.Z;break a}t=void 0}if(!$APP.Q(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=n;p[1]=1;return p}var n=null;n=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};n.m=h;n.g=g;return n}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Em(e)});return c},iH=function(a){var b=TG.replicate.to(hH,{doc_ids:[a],live:!1});b.on("complete",function(){return console.log("Model replicated:",
a)});return b.on("error",function(c){return console.error("Replication error:",c)})},lH=function(){var a=$APP.u(jH),b=$APP.u(kH);a=dH(a,b);b=TG.replicate.to(hH,{selector:$APP.nl(a),live:!1});$APP.yi($APP.M([a]));b.on("complete",function(){return console.log("Filtered models replicated")});return b.on("error",function(c){return console.error("Replication error:",c)})},mH=function(a){var b=new URL("..",window.location);b.searchParams.append("schem",$APP.Su(a));return b},nH=function(a){a=$APP.Xe(a);
a=$APP.O(a,$APP.Xy);var b=$APP.Mu(a).transformPoint($APP.Qu(1,0));a=b.x;b=b.y;return Math.abs(a)>Math.abs(b)?a<0?$APP.Xt:$APP.cv:b<0?$APP.ly:$APP.bv},oH=function(a,b){var c=$APP.Im(1);$APP.lm(function(){var d=function(){function f(g){var h=g[1];if(h===1)return h=$APP.Rm(hH,$APP.Su(a),null,$APP.R),$APP.Fm(g,2,h);if(h===2){var n=g[2];h=$APP.Af(function(){return function(v){return $APP.J.h($APP.aA.g(v),"port")}}());var p=$APP.Af($APP.gf(function(){return function(v){return $APP.J.h($APP.dw.g(v),"text")}}())),
q=$APP.tf.g($APP.bi(nH,$APP.Dj)),t=$APP.pv.i(h,p,q);h=$APP.X.s(b,$APP.rv,$APP.dx,function(){return function(){return $APP.he(t,function(v,x){var z=$APP.N(x,0,null);x=$APP.N(x,1,null);return $APP.rv.s(v,z,$APP.we,x)},new $APP.l(null,4,[$APP.bv,$APP.Df,$APP.ly,$APP.Df,$APP.cv,$APP.Df,$APP.Xt,$APP.Df],null),$APP.Eh(n))}}());return $APP.Gm(g,h)}return null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.Q(q,$APP.Z)){var t=q;break a}}}catch(v){t=v;p[2]=t;if($APP.D(p[4]))p[1]=
$APP.E(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.Q(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null];p[0]=n;p[1]=1;return p}var n=null;n=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};n.m=h;n.g=g;return n}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Em(e)});return c},pH=function(a){return $APP.pf($APP.Wu,new $APP.U(null,5,5,$APP.V,[$APP.Cy,new $APP.l(null,
1,[$APP.tz,function(b){b.preventDefault();var c=b.target.elements.devicetype.value;b=b.target.elements.modelname.value;$APP.D(b)&&$APP.Pd($APP.hB,c)&&(a.h?a.h(c,b):a.call(null,c,b));return $APP.pf($APP.Wu,null)}],null),new $APP.U(null,2,5,$APP.V,[$APP.Iy,"Enter the type and name of the new SPICE model"],null),new $APP.U(null,3,5,$APP.V,[$APP.Iy,new $APP.U(null,3,5,$APP.V,[$APP.Sw,new $APP.l(null,3,[$APP.Dj,"devicetype",$APP.zl,"device-type",$APP.Vv,"diode"],null),function(){return function d(c){return new $APP.De(null,
function(){for(;;){var e=$APP.D(c);if(e){if($APP.Id(e)){var f=$APP.nc(e),g=$APP.H(f),h=$APP.Ge(g);a:{for(var n=0;;)if(n<g){var p=$APP.qd(f,n);h.add(new $APP.U(null,3,5,$APP.V,[$APP.ry,new $APP.l(null,2,[$APP.Gj,p,$APP.Ew,p],null),p],null));n+=1}else{f=!0;break a}f=void 0}return f?$APP.Je($APP.Le(h),d($APP.oc(e))):$APP.Je($APP.Le(h),null)}h=$APP.E(e);return $APP.ze(new $APP.U(null,3,5,$APP.V,[$APP.ry,new $APP.l(null,2,[$APP.Gj,h,$APP.Ew,h],null),h],null),d($APP.Mc(e)))}return null}},null,null)}($APP.Ud($APP.Qd,
$APP.hB))}()],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,5,[$APP.Dj,"modelname",$APP.zl,"model-name",$APP.aA,"text",$APP.Yx,!0,$APP.Bz,"Model name"],null)],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Iy,new $APP.U(null,3,5,$APP.V,[$APP.Zz,new $APP.l(null,2,[$APP.aA,"button",$APP.Ey,function(){return $APP.pf($APP.Wu,null)}],null),"Cancel"],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,2,[$APP.aA,"submit",$APP.Ew,"Create"],null)],null)],null)],null))},sH=function(a,b,c){a.preventDefault();
var d=$APP.O($APP.u(b),c);return cH(a.clientX,a.clientY,new $APP.U(null,3,5,$APP.V,[qH,$APP.Sa($APP.qz.g(d))?new $APP.U(null,3,5,$APP.V,[rH,new $APP.l(null,1,[$APP.Ey,function(){return window.open(mH(c),c)}],null),"edit"],null):null,new $APP.U(null,3,5,$APP.V,[rH,new $APP.l(null,1,[$APP.Ey,function(){return $APP.X.i(b,$APP.bk,c)}],null),"delete"],null)],null))},tH=function(a,b){var c=$APP.J,d=c.h,e=$APP.H(a),f=$APP.H(b);return d.call(c,$APP.ig(null,a,0,(e<f?e:f)|0,null),b)},vH=function(){var a=$APP.u(uH);
return $APP.bb(function(b,c){$APP.N(c,0,null);c=$APP.N(c,1,null);var d=$APP.Ky.g(c);d=$APP.m(d)?d:$APP.Df;c=$APP.aA.h(c,"ckt");return $APP.qv(b,$APP.we.h(d,c),$APP.Lh)},$APP.R,a)},zH=function(){return new $APP.U(null,2,5,$APP.V,[wH,$APP.D($APP.u(uH))?new $APP.U(null,3,5,$APP.V,[xH,$APP.Df,vH()],null):new $APP.U(null,2,5,$APP.V,[yH,"There aren't any models yet"],null)],null)},LH=function(a){var b=$APP.Bf(function(c){var d=$APP.N(c,0,null),e=$APP.N(c,1,null);c=$APP.we.h;var f=$APP.Ky.g(e);c=c.call($APP.we,
$APP.m(f)?f:$APP.Df,$APP.aA.h(e,"ckt"));d=$APP.sd(e,$APP.Dj,d);d=$APP.uj(d);e=$APP.uj($APP.u(kH));d=d.indexOf(e)!=-1;return tH(c,$APP.u(jH))&&d},$APP.u(a));return new $APP.U(null,3,5,$APP.V,[AH,new $APP.U(null,3,5,$APP.V,[BH,new $APP.U(null,2,5,$APP.V,[CH,"Installed"],null),$APP.D(b)?new $APP.U(null,5,5,$APP.V,[$APP.bC,DH,$APP.ci(function(){return function e(d){return new $APP.De(null,function(){for(;;){var f=$APP.D(d);if(f){if($APP.Id(f)){var g=$APP.nc(f),h=$APP.H(g),n=$APP.Ge(h);a:{for(var p=0;;)if(p<
h){var q=$APP.qd(g,p),t=$APP.N(q,0,null),v=$APP.N(q,1,null),x=$APP.Sa($APP.qz.g(v))?$APP.UB:$APP.TB;q=n;t=new $APP.U(null,3,5,$APP.V,[new $APP.U(null,4,5,$APP.V,[$APP.Xz,new $APP.U(null,1,5,$APP.V,[x],null)," ",$APP.sd(v,$APP.Dj,t)],null),t,$APP.sd(v,$APP.Dj,t)],null);q.add(t);p+=1}else{g=!0;break a}g=void 0}return g?$APP.Je($APP.Le(n),e($APP.oc(f))):$APP.Je($APP.Le(n),null)}g=$APP.E(f);n=$APP.N(g,0,null);g=$APP.N(g,1,null);h=$APP.Sa($APP.qz.g(g))?$APP.UB:$APP.TB;return $APP.ze(new $APP.U(null,3,
5,$APP.V,[new $APP.U(null,4,5,$APP.V,[$APP.Xz,new $APP.U(null,1,5,$APP.V,[h],null)," ",$APP.sd(g,$APP.Dj,n)],null),n,$APP.sd(g,$APP.Dj,n)],null),e($APP.Mc(f)))}return null}},null,null)}(b)}()),function(c){return $APP.Sa($APP.Hf($APP.u(a),new $APP.U(null,2,5,$APP.V,[c,$APP.qz],null)))?function(){return window.open(mH(c))}:null},function(c){return function(d){return sH(d,a,c)}}],null):new $APP.U(null,2,5,$APP.V,[yH,"No installed models found"],null)],null),new $APP.U(null,3,5,$APP.V,[EH,new $APP.U(null,
3,5,$APP.V,[FH,new $APP.U(null,2,5,$APP.V,[CH,"Available"],null),$APP.D($APP.u(fH))?new $APP.U(null,4,5,$APP.V,[GH,new $APP.l(null,2,[$APP.Ey,function(){return lH()},$APP.kw,"Download all matching models"],null),new $APP.U(null,1,5,$APP.V,[$APP.WB],null),"Download All"],null):null],null),$APP.m($APP.u(eH))?new $APP.U(null,2,5,$APP.V,[HH,"Loading..."],null):$APP.D($APP.u(fH))?new $APP.U(null,2,5,$APP.V,[IH,$APP.ci(function(){return function e(d){return new $APP.De(null,function(){for(;;){var f=$APP.D(d);
if(f){var g=f;if($APP.Id(g)){var h=$APP.nc(g),n=$APP.H(h),p=$APP.Ge(n);return function(){for(var A=0;;)if(A<n){var F=$APP.qd(h,A),I=$APP.N(F,0,null),K=$APP.N(F,1,null),S=$APP.Sa($APP.qz.g(K)),Y=S?$APP.UB:$APP.TB;$APP.Ke(p,new $APP.U(null,6,5,$APP.V,[JH,new $APP.l(null,1,[$APP.Gj,I],null),new $APP.U(null,1,5,$APP.V,[Y],null)," ",$APP.sd(K,$APP.Dj,I),new $APP.U(null,3,5,$APP.V,[KH,new $APP.l(null,2,[$APP.Ey,function(ka,pa,La,Xa,Aa){return function(){return iH(Aa)}}(A,S,Y,F,I,K,h,n,p,g,f,b),$APP.kw,
"Download this model"],null),new $APP.U(null,1,5,$APP.V,[$APP.WB],null)],null)],null));A+=1}else return!0}()?$APP.Je($APP.Le(p),e($APP.oc(g))):$APP.Je($APP.Le(p),null)}var q=$APP.E(g),t=$APP.N(q,0,null),v=$APP.N(q,1,null),x=$APP.Sa($APP.qz.g(v)),z=x?$APP.UB:$APP.TB;return $APP.ze(new $APP.U(null,6,5,$APP.V,[JH,new $APP.l(null,1,[$APP.Gj,t],null),new $APP.U(null,1,5,$APP.V,[z],null)," ",$APP.sd(v,$APP.Dj,t),new $APP.U(null,3,5,$APP.V,[KH,new $APP.l(null,2,[$APP.Ey,function(A,F,I,K){return function(){return iH(K)}}(x,
z,q,t,v,g,f,b),$APP.kw,"Download this model"],null),new $APP.U(null,1,5,$APP.V,[$APP.WB],null)],null)],null),e($APP.Mc(g)))}return null}},null,null)}($APP.u(fH))}())],null):new $APP.U(null,2,5,$APP.V,[yH,"No remote models found"],null)],null)],null)},MH=function(a,b){var c=new $APP.U(null,2,5,$APP.V,[$APP.dx,b],null);return new $APP.U(null,3,5,$APP.V,[$APP.Wz,new $APP.U(null,3,5,$APP.V,[$APP.gx,new $APP.l(null,1,[$APP.Hy,$APP.Rh(b)],null),$APP.Rh(b)],null),new $APP.U(null,6,5,$APP.V,[$G,$APP.Gx,new $APP.l(null,
2,[$APP.zl,$APP.Rh(b),$APP.aA,"text"],null),a,function(d){return $APP.sj(" ",$APP.Hf(d,c))},function(d,e){return $APP.X.s(d,$APP.qv,c,$APP.wj(e,/[, ]+/,-1))}],null)],null)},NH=function(a){return new $APP.U(null,4,5,$APP.V,[$APP.Wz,new $APP.U(null,3,5,$APP.V,[$APP.gx,new $APP.l(null,1,[$APP.Hy,"parameters"],null),"Names"],null),new $APP.U(null,6,5,$APP.V,[$G,$APP.Gx,new $APP.l(null,3,[$APP.zl,"parameters",$APP.aA,"text",$APP.Bz,"resistance dtemp"],null),a,function(b){return $APP.sj(" ",$APP.tf.h($APP.Dj,
$APP.sd(b,$APP.Pw,$APP.Df)))},function(b,c){var d=$APP.wj(c,/[, ]+/,-1);return $APP.X.s(b,$APP.rv,$APP.Pw,function(e){return $APP.Gf(function(f,g){return $APP.W.i(f,$APP.Dj,g)},$APP.yf.h(e,$APP.wf($APP.R)),d)})}],null),$APP.ci(function(){return function d(c){return new $APP.De(null,function(){for(;;){var e=$APP.D(c);if(e){var f=e;if($APP.Id(f)){var g=$APP.nc(f),h=$APP.H(g),n=$APP.Ge(h);return function(){for(var v=0;;)if(v<h){var x=$APP.qd(g,v),z=$APP.N(x,0,null),A=$APP.N(x,1,null);$APP.Ke(n,new $APP.U(null,
4,5,$APP.V,[$APP.Wz,new $APP.l(null,1,[$APP.Gj,z],null),new $APP.U(null,2,5,$APP.V,[$APP.gx,[$APP.r.g($APP.Dj.h(A,""))," tooltip"].join("")],null),new $APP.U(null,6,5,$APP.V,[$G,$APP.Gx,new $APP.l(null,1,[$APP.aA,"text"],null),a,function(F,I,K){return function(S){return $APP.If(S,new $APP.U(null,3,5,$APP.V,[$APP.Pw,K,$APP.Pz],null),"")}}(v,x,z,A,g,h,n,f,e),function(F,I,K){return function(S,Y){return $APP.X.s(S,$APP.qv,new $APP.U(null,3,5,$APP.V,[$APP.Pw,K,$APP.Pz],null),Y)}}(v,x,z,A,g,h,n,f,e)],null)],
null));v+=1}else return!0}()?$APP.Je($APP.Le(n),d($APP.oc(f))):$APP.Je($APP.Le(n),null)}var p=$APP.E(f),q=$APP.N(p,0,null),t=$APP.N(p,1,null);return $APP.ze(new $APP.U(null,4,5,$APP.V,[$APP.Wz,new $APP.l(null,1,[$APP.Gj,q],null),new $APP.U(null,2,5,$APP.V,[$APP.gx,[$APP.r.g($APP.Dj.h(t,""))," tooltip"].join("")],null),new $APP.U(null,6,5,$APP.V,[$G,$APP.Gx,new $APP.l(null,1,[$APP.aA,"text"],null),a,function(v,x){return function(z){return $APP.If(z,new $APP.U(null,3,5,$APP.V,[$APP.Pw,x,$APP.Pz],null),
"")}}(p,q,t,f,e),function(v,x){return function(z,A){return $APP.X.s(z,$APP.qv,new $APP.U(null,3,5,$APP.V,[$APP.Pw,x,$APP.Pz],null),A)}}(p,q,t,f,e)],null)],null),d($APP.Mc(f)))}return null}},null,null)}($APP.lf($APP.yk,$APP.sd($APP.u(a),$APP.Pw,$APP.Df)))}())],null)},TH=function(a){var b=$APP.Il(a,new $APP.U(null,1,5,$APP.V,[$APP.u(DH)],null));a=$APP.Il(OH,new $APP.U(null,1,5,$APP.V,[$APP.u(DH)],null));var c=$APP.Il(a,new $APP.U(null,1,5,$APP.V,[PH],null)),d=$APP.Il(a,new $APP.U(null,1,5,$APP.V,[QH],
null)),e=$APP.Il(b,new $APP.U(null,2,5,$APP.V,[$APP.qz,$APP.u(c)],null)),f=$APP.Il(e,new $APP.U(null,1,5,$APP.V,[$APP.u(d)],null));$APP.D($APP.u(a))||$APP.pf(a,new $APP.l(null,2,[PH,$APP.xx,QH,0],null));return $APP.m($APP.u(DH))?new $APP.U(null,9,5,$APP.V,[$APP.Nv,new $APP.U(null,3,5,$APP.V,[$APP.gx,new $APP.l(null,1,[$APP.Hy,"model-name"],null),"Name"],null),new $APP.U(null,6,5,$APP.V,[$G,$APP.Gx,new $APP.l(null,1,[$APP.zl,"model-name"],null),b,$APP.Dj,function(g,h){return $APP.X.s(g,$APP.W,$APP.Dj,
h)}],null),new $APP.U(null,3,5,$APP.V,[$APP.gx,new $APP.l(null,2,[$APP.Hy,"categories",$APP.kw,"Comma-seperated device categories"],null),"Categories"],null),new $APP.U(null,6,5,$APP.V,[$G,$APP.Gx,new $APP.l(null,1,[$APP.zl,"categories"],null),b,function(g){g=$APP.Ky.g(g);return $APP.sj(" ",$APP.m(g)?g:$APP.Df)},function(g,h){return $APP.X.s(g,$APP.W,$APP.Ky,$APP.wj(h,/[, ]+/,-1))}],null),$APP.J.h($APP.aA.h($APP.u(b),"ckt"),"ckt")?new $APP.U(null,7,5,$APP.V,[$APP.Wz,new $APP.U(null,2,5,$APP.V,[RH,
"Port Configuration"],null),$APP.Sa($APP.qz.g($APP.u(b)))?new $APP.U(null,3,5,$APP.V,[$APP.Zz,new $APP.l(null,1,[$APP.Ey,function(){return oH($APP.u(DH),b)}],null),"Import from schematic"],null):null,new $APP.U(null,3,5,$APP.V,[MH,b,$APP.bv],null),new $APP.U(null,3,5,$APP.V,[MH,b,$APP.ly],null),new $APP.U(null,3,5,$APP.V,[MH,b,$APP.cv],null),new $APP.U(null,3,5,$APP.V,[MH,b,$APP.Xt],null)],null):null,$APP.m($APP.qz.g($APP.u(b)))?new $APP.U(null,11,5,$APP.V,[$APP.Wz,new $APP.U(null,2,5,$APP.V,[RH,
"Template Configuration"],null),new $APP.U(null,3,5,$APP.V,[$APP.gx,new $APP.l(null,2,[$APP.Hy,"device-type",$APP.kw,"Device type"],null),"Device Type"],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,4,[$APP.zl,"device-type",$APP.aA,"text",$APP.ox,!0,$APP.Ew,$APP.aA.g($APP.u(b))],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.gx,new $APP.l(null,1,[$APP.Hy,"language"],null),"Language"],null),new $APP.U(null,6,5,$APP.V,[$APP.Sw,new $APP.l(null,4,[$APP.zl,"language",$APP.aA,"text",$APP.Ew,
function(){var g=$APP.u(c);return $APP.m(g)?$APP.Rh(g):"spice"}(),$APP.qw,function(g){return $APP.pf(c,$APP.qi.g(g.target.value))}],null),new $APP.U(null,3,5,$APP.V,[$APP.ry,new $APP.l(null,1,[$APP.Ew,"spice"],null),"Spice"],null),new $APP.U(null,3,5,$APP.V,[$APP.ry,new $APP.l(null,1,[$APP.Ew,"spectre"],null),"Spectre"],null),new $APP.U(null,3,5,$APP.V,[$APP.ry,new $APP.l(null,1,[$APP.Ew,"verilog"],null),"Verilog"],null),new $APP.U(null,3,5,$APP.V,[$APP.ry,new $APP.l(null,1,[$APP.Ew,"vhdl"],null),
"VHDL"],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.gx,new $APP.l(null,1,[$APP.Hy,"implementation"],null),"Implementation"],null),new $APP.U(null,8,5,$APP.V,[aH,new $APP.l(null,1,[$APP.zl,"implementation"],null),f,d,e,function(g){return $APP.we.h($APP.D(g)?g:new $APP.U(null,1,5,$APP.V,[new $APP.l(null,1,[$APP.Dj,"default"],null)],null),new $APP.l(null,1,[$APP.Dj,"\x3cnew\x3e"],null))},function(g){return $APP.Dj.h(g,"default")},function(g,h){return $APP.X.s(g,$APP.W,$APP.Dj,h)}],null),new $APP.U(null,
3,5,$APP.V,[$APP.gx,new $APP.l(null,1,[$APP.Hy,"template-code"],null),"Code"],null),new $APP.U(null,6,5,$APP.V,[$G,$APP.My,new $APP.l(null,2,[$APP.zl,"template-code",SH,8],null),f,$APP.$y,function(g,h){return $APP.X.s(g,$APP.W,$APP.$y,h)}],null),$APP.J.h($APP.u(c),$APP.xx)?new $APP.U(null,3,5,$APP.V,[$APP.Wz,new $APP.U(null,3,5,$APP.V,[$APP.gx,new $APP.l(null,2,[$APP.Hy,"use-x",$APP.kw,"Forces subcircuit instantiation even for other device types"],null),"Use X"],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,
new $APP.l(null,4,[$APP.aA,"checkbox",$APP.zl,"use-x",$APP.Uz,$APP.sd($APP.u(f),$APP.by,!1),$APP.qw,function(g){return $APP.X.s(f,$APP.W,$APP.by,g.target.checked)}],null)],null)],null):null],null):null,new $APP.U(null,2,5,$APP.V,[RH,"Parameters"],null),new $APP.U(null,2,5,$APP.V,[NH,b],null)],null):new $APP.U(null,2,5,$APP.V,[yH,"Select a model to edit its properties."],null)},XH=function(a){a=$APP.Il(a,new $APP.U(null,1,5,$APP.V,[$APP.u(DH)],null));return new $APP.U(null,2,5,$APP.V,[UH,$APP.m($APP.u(DH))?
$APP.Sa($APP.qz.g($APP.u(a)))?new $APP.U(null,3,5,$APP.V,[$APP.Wz,new $APP.U(null,4,5,$APP.V,[$APP.ow,new $APP.l(null,2,[$APP.Ey,function(){return window.open(mH($APP.u(DH)),$APP.u(DH))},$APP.kw,"Edit"],null),new $APP.U(null,1,5,$APP.V,[$APP.aC],null)," Edit"],null),$APP.m($APP.u(VH))?new $APP.U(null,3,5,$APP.V,[WH,new $APP.l(null,2,[$APP.Yv,$APP.u(VH),$APP.aA,"image/svg+xml"],null),"Schematic preview"],null):new $APP.U(null,2,5,$APP.V,[yH,"No preview available. Use the snapshot button in the schematic editor to create one."],
null)],null):new $APP.U(null,2,5,$APP.V,[yH,"N/A"],null):new $APP.U(null,2,5,$APP.V,[yH,"Select a model to preview."],null)],null)},hI=function(){var a=$APP.m($APP.u(YH))?$APP.bg($APP.Qh($APP.u(jH))):$APP.u(jH);return new $APP.U(null,3,5,$APP.V,[$APP.Wz,new $APP.U(null,4,5,$APP.V,[ZH,new $APP.U(null,3,5,$APP.V,[$H,new $APP.U(null,4,5,$APP.V,[$APP.ow,new $APP.l(null,1,[$APP.Ey,function(){return bH(function(b){var c=["models:",$APP.r.g($APP.bj())].join("");return $APP.X.s(uH,$APP.W,c,new $APP.l(null,
3,[$APP.Dj,b,$APP.aA,"ckt",$APP.Ky,a],null))})}],null),new $APP.U(null,1,5,$APP.V,[$APP.VB],null),"Add schematic"],null),new $APP.U(null,4,5,$APP.V,[$APP.Zz,new $APP.l(null,1,[$APP.Ey,function(){return pH(function(b,c){var d=["models:",$APP.r.g($APP.bj())].join("");return $APP.X.s(uH,$APP.W,d,new $APP.l(null,4,[$APP.Dj,c,$APP.aA,b,$APP.Ky,a,$APP.qz,new $APP.l(null,4,[$APP.xx,$APP.Df,aI,$APP.Df,bI,$APP.Df,cI,$APP.Df],null)],null))})}],null),new $APP.U(null,1,5,$APP.V,[$APP.VB],null),"Add SPICE model"],
null)],null),new $APP.U(null,3,5,$APP.V,[dI,new $APP.U(null,3,5,$APP.V,[eI,"Models: ",$APP.D($APP.u(jH))?$APP.sj("/",$APP.u(jH)):"All models"],null),new $APP.U(null,6,5,$APP.V,[$G,$APP.Gx,new $APP.l(null,3,[$APP.aA,"text",$APP.Bz,"Filter models...",$APP.xl,"filter-input"],null),kH,$APP.ge,$APP.pf],null)],null),new $APP.U(null,2,5,$APP.V,[LH,uH],null)],null),new $APP.U(null,4,5,$APP.V,[fI,new $APP.U(null,2,5,$APP.V,[XH,uH],null),new $APP.U(null,2,5,$APP.V,[gI,"Model Properties"],null),new $APP.U(null,
2,5,$APP.V,[TH,uH],null)],null)],null)},lI=function(){return new $APP.U(null,5,5,$APP.V,[$APP.Wz,new $APP.U(null,3,5,$APP.V,[iI,new $APP.U(null,3,5,$APP.V,[jI,new $APP.U(null,2,5,$APP.V,[$APP.hy,"Libraries"],null),$APP.m($APP.u(kI))?new $APP.U(null,3,5,$APP.V,[$APP.Fw,new $APP.l(null,1,[$APP.kw,"saving changes"],null),new $APP.U(null,1,5,$APP.V,[$APP.XB],null)],null):new $APP.U(null,3,5,$APP.V,[$APP.Py,new $APP.l(null,1,[$APP.kw,"changes saved"],null),new $APP.U(null,1,5,$APP.V,[$APP.YB],null)],null)],
null),new $APP.U(null,1,5,$APP.V,[zH],null)],null),new $APP.U(null,1,5,$APP.V,[hI],null),new $APP.U(null,1,5,$APP.V,[$APP.dv],null),new $APP.U(null,1,5,$APP.V,[$APP.Xu],null)],null)},mI=function(){window.name="libman";document.onclick=function(){return $APP.X.s($APP.Yu,$APP.W,$APP.Zu,null)};return $APP.Nl(new $APP.U(null,1,5,$APP.V,[lI],null),document.querySelector(".mosaic-app.mosaic-libman"))},ZH=new $APP.P(null,"div.schsel","div.schsel",-1209283060),wH=new $APP.P(null,"div.cellsel","div.cellsel",
-277762551),WH=new $APP.P(null,"object","object",1474613949),KH=new $APP.P(null,"button.download-btn","button.download-btn",393799271),dI=new $APP.P(null,"div.models-header","div.models-header",663084968),$H=new $APP.P(null,"div.addbuttons","div.addbuttons",-579122699),FH=new $APP.P(null,"div.section-header-with-button","div.section-header-with-button",-1496927002),PH=new $APP.P(null,"lang","lang",-1819677104),SH=new $APP.P(null,"rows","rows",850049680),GH=new $APP.P(null,"button.download-btn.all",
"button.download-btn.all",1621055522),QH=new $APP.P(null,"impl","impl",1677848700),nI=new $APP.P(null,"on-toggle","on-toggle",-695538774),CH=new $APP.P(null,"h4.section-header","h4.section-header",-1932630550),IH=new $APP.P(null,"div.remote-models","div.remote-models",1057366884),gI=new $APP.P(null,"h3","h3",2067611163),eI=new $APP.P(null,"h2","h2",-372662728),RH=new $APP.P(null,"h4","h4",2004862993),BH=new $APP.P(null,"div.installed-section","div.installed-section",1048260336),fI=new $APP.P(null,
"div.proppane","div.proppane",-1332639267),oI=new $APP.P("nyancad.mosaic.libman","preview-loader","nyancad.mosaic.libman/preview-loader",-817072560),EH=new $APP.P(null,"div.available-section","div.available-section",845121981),AH=new $APP.P(null,"div.schematics","div.schematics",908542795),yH=new $APP.P(null,"div.empty","div.empty",47401225),bI=new $APP.P(null,"verilog","verilog",-637374307),rH=new $APP.P(null,"li","li",723558921),pI=new $APP.P("nyancad.mosaic.libman","remote-search","nyancad.mosaic.libman/remote-search",
962545358),UH=new $APP.P(null,"div.preview","div.preview",-1882273840),qH=new $APP.P(null,"ul","ul",-1349521403),qI=new $APP.P(null,"preview.svg","preview.svg",367345699),rI=new $APP.P(null,"open","open",-1763596448),sI=new $APP.P(null,"div.detailbody","div.detailbody",-1679946259),aI=new $APP.P(null,"spectre","spectre",-2121928684),tI=new $APP.P(null,"details.tree","details.tree",-1643409151),cI=new $APP.P(null,"vhdl","vhdl",2122312874),jI=new $APP.P(null,"div.libhead","div.libhead",1365032704),
iI=new $APP.P(null,"div.libraries","div.libraries",704668226),HH=new $APP.P(null,"div.loading-spinner","div.loading-spinner",404753947),uI=new $APP.P("nyancad.mosaic.libman","remote-search-category","nyancad.mosaic.libman/remote-search-category",-216653617),JH=new $APP.P(null,"label.remote-model","label.remote-model",2141806916);var hH=new $APP.oA("schematics"),TG=new $APP.oA("https://api.nyancad.com/models"),uH=$APP.Ym(hH,"models",$APP.Gl($APP.R));$APP.qf(uH.cache,function(a){var b=$APP.Rn($APP.Dx,a);return b?b:console.log($APP.Hi.j($APP.M([a])),$APP.Nn($APP.Dx,a))});$APP.Wm(hH,$APP.M([uH]));
var jH=$APP.Gl($APP.Df),DH=$APP.Gl(null),kI=$APP.Gl(!1),kH=$APP.Gl(""),OH=$APP.Gl($APP.R),VH=$APP.Gl(null),fH=$APP.Gl($APP.R),eH=$APP.Gl(!1),YH=$APP.Hl(function(){var a=$APP.Ad($APP.u(jH));return $APP.hB.g?$APP.hB.g(a):$APP.hB.call(null,a)});
$APP.Di(DH,oI,function(a,b,c,d){if($APP.m(d)){var e=$APP.Im(1);$APP.lm(function(){var f=function(){function h(n){var p=n[1];if(p===7)return p=n[7],n[2]=p,n[1]=8,$APP.Z;if(p===1){var q=[$APP.r.g($APP.Su(d)),"$snapshots"].join("");p=[$APP.r.g(q),":"].join("");q=[$APP.r.g(q),":￰"].join("");p=$APP.Lm(hH,{include_docs:!0,attachments:!0,binary:!0,endkey:p,startkey:q,descending:!0,limit:1});p=$APP.Km(p);return $APP.Fm(n,2,p)}if(p===4)return n[2]=n[8],n[1]=5,$APP.Z;if(p===6)throw p=n[7],p;return p===3?(p=
n[7],p=$APP.cj.g($APP.fj(p)),p=$APP.J.h(p,$APP.dj),n[2]=p,n[1]=5,$APP.Z):p===2?(p=n[2],q=p instanceof $APP.ej,n[7]=p,n[8]=q,n[1]=$APP.m(q)?3:4,$APP.Z):p===11?$APP.Gm(n,n[2]):p===9?(p=URL.createObjectURL(n[9]),p=$APP.pf(VH,p),n[2]=p,n[1]=11,$APP.Z):p===5?(n[1]=$APP.m(n[2])?6:7,$APP.Z):p===10?(p=$APP.pf(VH,null),n[2]=p,n[1]=11,$APP.Z):p===8?(p=$APP.Om(n[2].rows),p=$APP.Hf(p,new $APP.U(null,5,5,$APP.V,[0,$APP.Qm,$APP.Lw,qI,$APP.Yv],null)),n[9]=p,n[1]=$APP.m(p)?9:10,$APP.Z):null}return function(){function n(t){for(;;){a:{try{for(;;){var v=
h(t);if(!$APP.Q(v,$APP.Z)){var x=v;break a}}}catch(z){x=z;t[2]=x;if($APP.D(t[4]))t[1]=$APP.E(t[4]);else throw x;x=$APP.Z;break a}x=void 0}if(!$APP.Q(x,$APP.Z))return x}}function p(){var t=[null,null,null,null,null,null,null,null,null,null];t[0]=q;t[1]=1;return t}var q=null;q=function(t){switch(arguments.length){case 0:return p.call(this);case 1:return n.call(this,t)}throw Error("Invalid arity: "+arguments.length);};q.m=p;q.g=n;return q}()}(),g=function(){var h=f();h[6]=e;return h}();return $APP.Em(g)});
return e}return $APP.pf(VH,null)});$APP.Di(kH,pI,function(a,b,c,d){return gH(d,$APP.u(jH))});$APP.Di(jH,uI,function(a,b,c,d){return gH($APP.u(kH),d)});gH($APP.u(kH),$APP.u(jH));
var xH=function xH(a,b){return new $APP.U(null,2,5,$APP.V,[$APP.Wz,$APP.ci(function(){return function f(e){return new $APP.De(null,function(){for(;;){var g=$APP.D(e);if(g){var h=g;if($APP.Id(h)){var n=$APP.nc(h),p=$APP.H(n),q=$APP.Ge(p);return function(){for(var A=0;;)if(A<p){var F=$APP.qd(n,A),I=$APP.N(F,0,null),K=$APP.N(F,1,null),S=$APP.we.h(a,I);$APP.Ke(q,new $APP.U(null,4,5,$APP.V,[tI,new $APP.l(null,4,[$APP.Gj,S,$APP.xl,S,rI,tH($APP.u(jH),S),nI,function(Y,ka){return function(pa){pa.stopPropagation();
return $APP.m(pa.target.open)?$APP.pf(jH,ka):tH($APP.u(jH),ka)?$APP.pf(jH,ka==null?null:$APP.Fb(ka)):null}}(A,S,F,I,K,n,p,q,h,g)],null),new $APP.U(null,2,5,$APP.V,[$APP.py,I],null),$APP.D(K)?new $APP.U(null,2,5,$APP.V,[sI,new $APP.U(null,3,5,$APP.V,[xH,S,K],null)],null):null],null));A+=1}else return!0}()?$APP.Je($APP.Le(q),f($APP.oc(h))):$APP.Je($APP.Le(q),null)}var t=$APP.E(h),v=$APP.N(t,0,null),x=$APP.N(t,1,null),z=$APP.we.h(a,v);return $APP.ze(new $APP.U(null,4,5,$APP.V,[tI,new $APP.l(null,4,[$APP.Gj,
z,$APP.xl,z,rI,tH($APP.u(jH),z),nI,function(A){return function(F){F.stopPropagation();return $APP.m(F.target.open)?$APP.pf(jH,A):tH($APP.u(jH),A)?$APP.pf(jH,A==null?null:$APP.Fb(A)):null}}(z,t,v,x,h,g)],null),new $APP.U(null,2,5,$APP.V,[$APP.py,v],null),$APP.D(x)?new $APP.U(null,2,5,$APP.V,[sI,new $APP.U(null,3,5,$APP.V,[xH,z,x],null)],null):null],null),f($APP.Mc(h)))}return null}},null,null)}(b)}())],null)};$APP.ja("nyancad.mosaic.libman.init",mI);mI();