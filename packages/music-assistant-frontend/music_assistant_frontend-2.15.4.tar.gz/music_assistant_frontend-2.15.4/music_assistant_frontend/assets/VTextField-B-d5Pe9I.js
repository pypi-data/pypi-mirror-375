import{g as K,p as Q,z as L,D as Y,F as n,ax as ae,aC as re,E as l,ag as H,ah as A,aD as ye,c9 as be,P as te,cQ as xe,J as Ce,L as he,cR as Ve,cS as p,ca as ee,i as ke,cO as Ie,n as _e,h as Pe,c0 as Fe,c as y,x as B,k as Se,aH as Be,w as we,cP as Re,cT as Te,I as q,G,cU as Le,aJ as Ae,aK as De,a as $e,S as Ee,cV as oe,r as Me,aI as Ne,c1 as Oe,au as Ue,cW as ze,R as le,cX as We}from"./index-B-lUZalq.js";import{d as je,e as Je,u as de,j as Xe,m as qe,V as se}from"./VInput-BWBQqjuk.js";const Ge=Q({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...te(),...be({transition:{component:xe}})},"VCounter"),He=K()({name:"VCounter",functional:!0,props:Ge(),setup(e,c){let{slots:i}=c;const b=L(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Y(()=>n(ye,{transition:e.transition},{default:()=>[ae(l("div",{class:A(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:H(e.style)},[i.default?i.default({counter:b.value,max:e.max,value:e.value}):b.value]),[[re,e.active]])]})),{}}}),Ke=Q({floating:Boolean,...te()},"VFieldLabel"),X=K()({name:"VFieldLabel",props:Ke(),setup(e,c){let{slots:i}=c;return Y(()=>n(je,{class:A(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:H(e.style)},i)),{}}}),Qe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],ce=Q({appendInnerIcon:ee,bgColor:String,clearable:Boolean,clearIcon:{type:ee,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:ee,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Qe.includes(e)},"onClick:clear":p(),"onClick:appendInner":p(),"onClick:prependInner":p(),...te(),...Ve(),...he(),...Ce()},"VField"),ue=K()({name:"VField",inheritAttrs:!1,props:{id:String,...Je(),...ce()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{attrs:i,emit:b,slots:a}=c;const{themeClasses:f}=ke(e),{loaderClasses:V}=Ie(e),{focusClasses:D,isFocused:w,focus:_,blur:P}=de(e),{InputIcon:R}=Xe(e),{roundedClasses:$}=_e(e),{rtlClasses:E}=Pe(),u=L(()=>e.dirty||e.active),x=L(()=>!!(e.label||a.label)),F=L(()=>!e.singleLine&&x.value),M=Fe(),r=y(()=>e.id||`input-${M}`),N=L(()=>e.details?`${r.value}-messages`:void 0),O=B(),S=B(),t=B(),o=y(()=>["plain","underlined"].includes(e.variant)),k=y(()=>e.error||e.disabled?void 0:u.value&&w.value?e.color:e.baseColor),T=y(()=>{if(!(!e.iconColor||e.glow&&!w.value))return e.iconColor===!0?k.value:e.iconColor}),{backgroundColorClasses:ne,backgroundColorStyles:Z}=Se(()=>e.bgColor),{textColorClasses:U,textColorStyles:C}=Be(k);we(u,v=>{if(F.value){const d=O.value.$el,m=S.value.$el;requestAnimationFrame(()=>{const g=Le(d),s=m.getBoundingClientRect(),h=s.x-g.x,W=s.y-g.y-(g.height/2-s.height/2),j=s.width/.75,J=Math.abs(j-g.width)>1?{maxWidth:$e(j)}:void 0,fe=getComputedStyle(d),ie=getComputedStyle(m),ve=parseFloat(fe.transitionDuration)*1e3||150,me=parseFloat(ie.getPropertyValue("--v-field-label-scale")),ge=ie.getPropertyValue("color");d.style.visibility="visible",m.style.visibility="hidden",Ae(d,{transform:`translate(${h}px, ${W}px) scale(${me})`,color:ge,...J},{duration:ve,easing:De,direction:v?"normal":"reverse"}).finished.then(()=>{d.style.removeProperty("visibility"),m.style.removeProperty("visibility")})})}},{flush:"post"});const I=y(()=>({isActive:u,isFocused:w,controlRef:t,blur:P,focus:_}));function z(v){v.target!==document.activeElement&&v.preventDefault()}return Y(()=>{const v=e.variant==="outlined",d=!!(a["prepend-inner"]||e.prependInnerIcon),m=!!(e.clearable||a.clear)&&!e.disabled,g=!!(a["append-inner"]||e.appendInnerIcon||m),s=()=>a.label?a.label({...I.value,label:e.label,props:{for:r.value}}):e.label;return l("div",G({class:["v-field",{"v-field--active":u.value,"v-field--appended":g,"v-field--center-affix":e.centerAffix??!o.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":d,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!s(),[`v-field--variant-${e.variant}`]:!0},f.value,ne.value,D.value,V.value,$.value,E.value,e.class],style:[Z.value,e.style],onClick:z},i),[l("div",{class:"v-field__overlay"},null),n(Re,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),d&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&n(R,{key:"prepend-icon",name:"prependInner",color:T.value},null),a["prepend-inner"]?.(I.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&F.value&&n(X,{key:"floating-label",ref:S,class:A([U.value]),floating:!0,for:r.value,"aria-hidden":!u.value,style:H(C.value)},{default:()=>[s()]}),x.value&&n(X,{key:"label",ref:O,for:r.value},{default:()=>[s()]}),a.default?.({...I.value,props:{id:r.value,class:"v-field__input","aria-describedby":N.value},focus:_,blur:P})??l("div",{id:r.value,class:"v-field__input","aria-describedby":N.value},null)]),m&&n(Te,{key:"clear"},{default:()=>[ae(l("div",{class:"v-field__clearable",onMousedown:h=>{h.preventDefault(),h.stopPropagation()}},[n(Ee,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[a.clear?a.clear({...I.value,props:{onFocus:_,onBlur:P,onClick:e["onClick:clear"],tabindex:-1}}):n(R,{name:"clear",onFocus:_,onBlur:P,tabindex:-1},null)]})]),[[re,e.dirty]])]}),g&&l("div",{key:"append",class:"v-field__append-inner"},[a["append-inner"]?.(I.value),e.appendInnerIcon&&n(R,{key:"append-icon",name:"appendInner",color:T.value},null)]),l("div",{class:A(["v-field__outline",U.value]),style:H(C.value)},[v&&l(q,null,[l("div",{class:"v-field__outline__start"},null),F.value&&l("div",{class:"v-field__outline__notch"},[n(X,{ref:S,floating:!0,for:r.value,"aria-hidden":!u.value},{default:()=>[s()]})]),l("div",{class:"v-field__outline__end"},null)]),o.value&&F.value&&n(X,{ref:S,floating:!0,for:r.value,"aria-hidden":!u.value},{default:()=>[s()]})])])}),{controlRef:t,fieldIconColor:T}}});function Ye(e){function c(i,b){!e.autofocus||!i||b[0].target?.focus?.()}return{onIntersect:c}}const Ze=["color","file","time","date","datetime-local","week","month"],pe=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...qe(),...ce()},"VTextField"),al=K()({name:"VTextField",directives:{vIntersect:oe},inheritAttrs:!1,props:pe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{attrs:i,emit:b,slots:a}=c;const f=Me(e,"modelValue"),{isFocused:V,focus:D,blur:w}=de(e),{onIntersect:_}=Ye(e),P=y(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:(f.value??"").toString().length),R=y(()=>{if(i.maxlength)return i.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),$=y(()=>["plain","underlined"].includes(e.variant)),E=B(),u=B(),x=B(),F=y(()=>Ze.includes(e.type)||e.persistentPlaceholder||V.value||e.active);function M(){V.value||D(),le(()=>{x.value!==document.activeElement&&x.value?.focus()})}function r(t){b("mousedown:control",t),t.target!==x.value&&(M(),t.preventDefault())}function N(t){b("click:control",t)}function O(t,o){t.stopPropagation(),M(),le(()=>{f.value=null,o(),We(e["onClick:clear"],t)})}function S(t){const o=t.target;if(f.value=o.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const k=[o.selectionStart,o.selectionEnd];le(()=>{o.selectionStart=k[0],o.selectionEnd=k[1]})}}return Y(()=>{const t=!!(a.counter||e.counter!==!1&&e.counter!=null),o=!!(t||a.details),[k,T]=Oe(i),{modelValue:ne,...Z}=se.filterProps(e),U=ue.filterProps(e);return n(se,G({ref:E,modelValue:f.value,"onUpdate:modelValue":C=>f.value=C,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":$.value},e.class],style:e.style},k,Z,{centerAffix:!$.value,focused:V.value}),{...a,default:C=>{let{id:I,isDisabled:z,isDirty:v,isReadonly:d,isValid:m,hasDetails:g,reset:s}=C;return n(ue,G({ref:u,onMousedown:r,onClick:N,"onClick:clear":h=>O(h,s),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},Ue(U,["onClick:clear"]),{id:I.value,active:F.value||v.value,dirty:v.value||e.dirty,disabled:z.value,focused:V.value,details:g.value,error:m.value===!1}),{...a,default:h=>{let{props:{class:W,...j}}=h;const J=ae(l("input",G({ref:x,value:f.value,onInput:S,autofocus:e.autofocus,readonly:d.value,disabled:z.value,name:e.name,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:D,onBlur:w},j,T),null),[[oe,{handler:_},null,{once:!0}]]);return l(q,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),a.default?l("div",{class:A(W),"data-no-activator":""},[a.default(),J]):ze(J,{class:W}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:o?C=>l(q,null,[a.details?.(C),t&&l(q,null,[l("span",null,null),n(He,{active:e.persistentCounter||V.value,value:P.value,max:R.value,disabled:e.disabled},a.counter)])]):void 0})}),Ne({},E,u,x)}});export{al as V,pe as m};
