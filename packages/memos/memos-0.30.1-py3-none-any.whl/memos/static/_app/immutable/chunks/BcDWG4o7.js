import{T as I,U as o,V as N,W as D,X as Y,Y as q,Z as O,_ as U,$ as A,a0 as F,a1 as p,a2 as m,a3 as Z,a4 as R,a5 as B,a6 as x,a7 as C,a8 as H,a9 as M,aa as P,g as V,S as W}from"./DPjJDdIH.js";function $(f,t,c=!1){o&&N();var s=f,e=null,a=null,r=Z,u=c?D:0,l=!1;const _=(d,n=!0)=>{l=!0,k(n,d)};var i=null;function T(){i!==null&&(i.lastChild.remove(),s.before(i),i=null);var d=r?e:a,n=r?a:e;d&&B(d),n&&x(n,()=>{r?a=null:e=null})}const k=(d,n)=>{if(r===(r=d))return;let g=!1;if(o){const L=Y(s)===q;!!r===L&&(s=O(),U(s),A(!1),g=!0)}var b=R(),v=s;if(b&&(i=document.createDocumentFragment(),i.append(v=F())),r?e??(e=n&&p(()=>n(v))):a??(a=n&&p(()=>n(v))),b){var h=m,E=r?e:a,y=r?a:e;E&&h.skipped_effects.delete(E),y&&h.skipped_effects.add(y),h.add_callback(T)}else T();g&&A(!0)};I(()=>{l=!1,t(_),l||k(null,null)},u),o&&(s=C)}function j(f,t,c){o&&N();var s=f,e,a,r=null,u=null;function l(){a&&(x(a),a=null),r&&(r.lastChild.remove(),s.before(r),r=null),a=u,u=null}I(()=>{if(e!==(e=t())){var _=R();if(e){var i=s;_&&(r=document.createDocumentFragment(),r.append(i=F()),a&&m.skipped_effects.add(a)),u=p(()=>c(i,e))}_?m.add_callback(l):l()}},D),o&&(s=C)}function S(f,t){return f===t||(f==null?void 0:f[W])===t}function w(f={},t,c,s){return H(()=>{var e,a;return M(()=>{e=a,a=[],V(()=>{f!==c(...a)&&(t(f,...a),e&&S(c(...e),f)&&t(null,...e))})}),()=>{P(()=>{a&&S(c(...a),f)&&t(null,...a)})}}),f}export{w as b,j as c,$ as i};
