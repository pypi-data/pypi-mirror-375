import{V as oe,m as we}from"./VTextField-B-d5Pe9I.js";import{s as ve,w as te,g as me,p as ne,aw as be,x as M,cs as Ce,r as W,cq as Pe,c as O,cv as ee,z as le,D as he,F as u,G as C,aI as pe,c9 as Se,au as xe,cJ as Ie,cx as ie,cL as se,R as Ae,cM as De,ca as Be,cy as ye,E as g,ar as ae,I as j,at as Te,a3 as _e,Z as ue,cN as Fe,$ as Le,cA as Re,bD as Ee,cB as Oe,bp as Me,S as ge,as as Ne,cO as $e,c0 as ze,c1 as He,ag as re,ah as ce,cH as Ke,cP as Ue}from"./index-B-lUZalq.js";import{c as qe,a as je,u as We,V as de,h as fe,i as Ge,m as Je}from"./VInput-BWBQqjuk.js";import{V as Ye}from"./VVirtualScroll-CceW16X7.js";import{b as Ze}from"./VBtn-BPJ1JKW-.js";function Qe(e,N){const n=ve(!1);let c;function f(o){cancelAnimationFrame(c),n.value=!0,c=requestAnimationFrame(()=>{c=requestAnimationFrame(()=>{n.value=!1})})}async function V(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const p=te(n,()=>{p(),o()})}else o()})}async function B(o){if(o.key==="Tab"&&N.value?.focus(),!["PageDown","PageUp","Home","End"].includes(o.key))return;const p=e.value?.$el;if(!p)return;(o.key==="Home"||o.key==="End")&&p.scrollTo({top:o.key==="Home"?0:p.scrollHeight,behavior:"smooth"}),await V();const F=p.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const l=p.getBoundingClientRect().top;for(const k of F)if(k.getBoundingClientRect().top>=l){k.focus();break}}else{const l=p.getBoundingClientRect().bottom;for(const k of[...F].reverse())if(k.getBoundingClientRect().bottom<=l){k.focus();break}}}return{onScrollPassive:f,onKeydown:B}}const Xe=ne({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Be,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...De({itemChildren:!1})},"Select"),et=ne({...Xe(),...xe(we({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Se({transition:{component:Ie}})},"VSelect"),st=me()({name:"VSelect",props:et(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,N){let{slots:n}=N;const{t:c}=be(),f=M(),V=M(),B=M(),{items:o,transformIn:p,transformOut:F}=Ce(e),l=W(e,"modelValue",[],t=>p(t===null?[null]:Pe(t)),t=>{const r=F(t);return e.multiple?r:r[0]??null}),k=O(()=>typeof e.counterValue=="function"?e.counterValue(l.value):typeof e.counterValue=="number"?e.counterValue:l.value.length),L=qe(e),G=O(()=>l.value.map(t=>t.value)),P=ve(!1);let w="",R=-1,U;const y=O(()=>e.hideSelected?o.value.filter(t=>!l.value.some(r=>(e.valueComparator||ee)(r,t))):o.value),$=O(()=>e.hideNoData&&!y.value.length||L.isReadonly.value||L.isDisabled.value),z=W(e,"menu"),d=O({get:()=>z.value,set:t=>{z.value&&!t&&V.value?.Î¨openChildren.size||t&&$.value||(z.value=t)}}),E=le(()=>d.value?e.closeText:e.openText),J=O(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),x=M(),Y=Qe(x,f);function Z(t){e.openOnClear&&(d.value=!0)}function q(){$.value||(d.value=!d.value)}function H(t){ie(t)&&I(t)}function I(t){if(!t.key||L.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(d.value=!0),["Escape","Tab"].includes(t.key)&&(d.value=!1),t.key==="Home"?x.value?.focus("first"):t.key==="End"&&x.value?.focus("last");const r=1e3;if(!ie(t))return;const v=performance.now();v-U>r&&(w="",R=-1),w+=t.key.toLowerCase(),U=v;const T=y.value;function D(){let s=a();return s||w.at(-1)===w.at(-2)&&(w=w.slice(0,-1),s=a(),s)||(R=-1,s=a(),s)?s:(w=t.key.toLowerCase(),a())}function a(){for(let s=R+1;s<T.length;s++){const S=T[s];if(S.title.toLowerCase().startsWith(w))return[S,s]}}const i=D();if(!i)return;const[m,_]=i;R=_,x.value?.focus(_),e.multiple||(l.value=[m])}function A(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const v=l.value.findIndex(D=>(e.valueComparator||ee)(D.value,t.value)),T=r??!~v;if(~v){const D=T?[...l.value,t]:[...l.value];D.splice(v,1),l.value=D}else T&&(l.value=[...l.value,t])}else{const v=r!==!1;l.value=v?[t]:[],Ae(()=>{d.value=!1})}}function b(t){x.value?.$el.contains(t.relatedTarget)||(d.value=!1)}function Q(){e.eager&&B.value?.calculateVisibleItems()}function X(){P.value&&f.value?.focus()}function K(t){P.value=!0}function Ve(t){if(t==null)l.value=[];else if(se(f.value,":autofill")||se(f.value,":-webkit-autofill")){const r=o.value.find(v=>v.title===t);r&&A(r)}else f.value&&(f.value.value="")}return te(d,()=>{if(!e.hideSelected&&d.value&&l.value.length){const t=y.value.findIndex(r=>l.value.some(v=>(e.valueComparator||ee)(v.value,r.value)));ye&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{t>=0&&B.value?.scrollToIndex(t)})}}),te(()=>e.items,(t,r)=>{d.value||P.value&&e.hideNoData&&!r.length&&t.length&&(d.value=!0)}),he(()=>{const t=!!(e.chips||n.chip),r=!!(!e.hideNoData||y.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),v=l.value.length>0,T=oe.filterProps(e),D=v||!P.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return u(oe,C({ref:f},T,{modelValue:l.value.map(a=>a.props.title).join(", "),"onUpdate:modelValue":Ve,focused:P.value,"onUpdate:focused":a=>P.value=a,validationValue:l.externalValue,counterValue:k.value,dirty:v,class:["v-select",{"v-select--active-menu":d.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":l.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:D,"onClick:clear":Z,"onMousedown:control":q,onBlur:b,onKeydown:I,"aria-label":c(E.value),title:c(E.value)}),{...n,default:()=>g(j,null,[u(Te,C({ref:V,modelValue:d.value,"onUpdate:modelValue":a=>d.value=a,activator:"parent",contentClass:"v-select__content",disabled:$.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Q,onAfterLeave:X},J.value),{default:()=>[r&&u(_e,C({ref:x,selected:G.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:a=>a.preventDefault(),onKeydown:H,onFocusin:K,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},Y,e.listProps),{default:()=>[n["prepend-item"]?.(),!y.value.length&&!e.hideNoData&&(n["no-data"]?.()??u(ue,{key:"no-data",title:c(e.noDataText)},null)),u(Ye,{ref:B,renderless:!0,items:y.value,itemKey:"value"},{default:a=>{let{item:i,index:m,itemRef:_}=a;const s=Fe(i.props),S=C(i.props,{ref:_,key:i.value,onClick:()=>A(i,null)});return i.type==="divider"?n.divider?.({props:i.raw,index:m})??u(Le,C(i.props,{key:`divider-${m}`}),null):i.type==="subheader"?n.subheader?.({props:i.raw,index:m})??u(Re,C(i.props,{key:`subheader-${m}`}),null):n.item?.({item:i,index:m,props:S})??u(ue,C(S,{role:"option"}),{prepend:h=>{let{isSelected:ke}=h;return g(j,null,[e.multiple&&!e.hideSelected?u(je,{key:i.value,modelValue:ke,ripple:!1,tabindex:"-1"},null):void 0,s.prependAvatar&&u(Ee,{image:s.prependAvatar},null),s.prependIcon&&u(ae,{icon:s.prependIcon},null)])}})}}),n["append-item"]?.()]})]}),l.value.map((a,i)=>{function m(h){h.stopPropagation(),h.preventDefault(),A(a,!1)}const _={"onClick:close":m,onKeydown(h){h.key!=="Enter"&&h.key!==" "||(h.preventDefault(),h.stopPropagation(),m(h))},onMousedown(h){h.preventDefault(),h.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},s=t?!!n.chip:!!n.selection,S=s?Oe(t?n.chip({item:a,index:i,props:_}):n.selection({item:a,index:i})):void 0;if(!(s&&!S))return g("div",{key:a.value,class:"v-select__selection"},[t?n.chip?u(ge,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:a.title}}},{default:()=>[S]}):u(Me,C({key:"chip",closable:e.closableChips,size:"small",text:a.title,disabled:a.props.disabled},_),null):S??g("span",{class:"v-select__selection-text"},[a.title,e.multiple&&i<l.value.length-1&&g("span",{class:"v-select__selection-comma"},[Ne(",")])])])})]),"append-inner":function(){for(var a=arguments.length,i=new Array(a),m=0;m<a;m++)i[m]=arguments[m];return g(j,null,[n["append-inner"]?.(...i),e.menuIcon?u(ae,{class:"v-select__menu-icon",color:f.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),pe({isFocused:P,menu:d,select:A},f)}}),tt=ne({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Je(),...Ge()},"VSwitch"),ut=me()({name:"VSwitch",inheritAttrs:!1,props:tt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,N){let{attrs:n,slots:c}=N;const f=W(e,"indeterminate"),V=W(e,"modelValue"),{loaderClasses:B}=$e(e),{isFocused:o,focus:p,blur:F}=We(e),l=M(),k=M(),L=ye&&window.matchMedia("(forced-colors: active)").matches,G=le(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),P=ze(),w=le(()=>e.id||`switch-${P}`);function R(){f.value&&(f.value=!1)}function U(y){y.stopPropagation(),y.preventDefault(),l.value?.input?.click()}return he(()=>{const[y,$]=He(n),z=de.filterProps(e),d=fe.filterProps(e);return u(de,C({ref:k,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":f.value},B.value,e.class]},y,z,{modelValue:V.value,"onUpdate:modelValue":E=>V.value=E,id:w.value,focused:o.value,style:e.style}),{...c,default:E=>{let{id:J,messagesId:x,isDisabled:Y,isReadonly:Z,isValid:q}=E;const H={model:V,isValid:q};return u(fe,C({ref:l},d,{modelValue:V.value,"onUpdate:modelValue":[I=>V.value=I,R],id:J.value,"aria-describedby":x.value,type:"checkbox","aria-checked":f.value?"mixed":void 0,disabled:Y.value,readonly:Z.value,onFocus:p,onBlur:F},$),{...c,default:I=>{let{backgroundColorClasses:A,backgroundColorStyles:b}=I;return g("div",{class:ce(["v-switch__track",L?void 0:A.value]),style:re(b.value),onClick:U},[c["track-true"]&&g("div",{key:"prepend",class:"v-switch__track-true"},[c["track-true"](H)]),c["track-false"]&&g("div",{key:"append",class:"v-switch__track-false"},[c["track-false"](H)])])},input:I=>{let{inputNode:A,icon:b,backgroundColorClasses:Q,backgroundColorStyles:X}=I;return g(j,null,[A,g("div",{class:ce(["v-switch__thumb",{"v-switch__thumb--filled":b||e.loading},e.inset||L?void 0:Q.value]),style:re(e.inset?void 0:X.value)},[c.thumb?u(ge,{defaults:{VIcon:{icon:b,size:"x-small"}}},{default:()=>[c.thumb({...H,icon:b})]}):u(Ke,null,{default:()=>[e.loading?u(Ue,{name:"v-switch",active:!0,color:q.value===!1?void 0:G.value},{default:K=>c.loader?c.loader(K):u(Ze,{active:K.isActive,color:K.color,indeterminate:!0,size:"16",width:"2"},null)}):b&&u(ae,{key:String(b),icon:b,size:"x-small"},null)]})])])}})}})}),pe({},k)}});export{ut as V,st as a,Xe as m,Qe as u};
