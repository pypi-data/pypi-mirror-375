"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3642],{35287:function(e,t,n){var l=n(24246),a=n(96306),i=n(88038),r=n.n(i);n(27378),t.Z=e=>{let{children:t,title:n,mainProps:i}=e;return(0,l.jsxs)(a.kCb,{"data-testid":n,direction:"column",height:"calc(100vh - 48px)",width:"calc(100vw - 240px)",children:[(0,l.jsxs)(r(),{children:[(0,l.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,l.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)(a.kCb,{px:10,py:6,as:"main",overflow:"auto",direction:"column",flex:1,minWidth:0,...i,children:t})]})}},34929:function(e,t,n){var l=n(24246),a=n(64925),i=n.n(a),r=n(27378),s=n(16134),o=n(30002),u=n(28079),d=n(57072);let c=()=>{let{isLoading:e}=(0,u.fd)(),t=(0,s.C)(u.U3),{isLoading:n}=(0,d.MO)(),l=(0,s.C)(d.qb),{isLoading:a}=(0,o.te)();return{dataUses:t,dataSubjects:(0,s.C)(o.ZL),dataCategories:l,isLoading:e||n||a}};t.Z=()=>{let{dataUses:e,dataCategories:t,dataSubjects:n,isLoading:a}=c(),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.split(".").slice(0,t).join(".")},o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=t(e);if(!l)return{};let a=t(s(e,n)),i=!!l.parent_key;return{name:l.name||void 0,primaryName:i&&(null==a?void 0:a.name)!==l.name&&(null==a?void 0:a.name)||void 0}},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{name:a,primaryName:i}=o(e,t,n);return a?i?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("strong",{children:[i,":"]})," ",a]},e):(0,l.jsx)("strong",{children:a},e):e},d=t=>i()(e,{fides_key:t}),g=e=>i()(t,{fides_key:e}),p=e=>i()(n,{fides_key:e});return{getDataUses:()=>e,getDataUseByKey:d,getDataUseDisplayName:e=>u(e,d,1),getDataUseDisplayNameProps:e=>o(e,d,1),getDataCategories:()=>t,getDataCategoryByKey:g,getDataCategoryDisplayName:e=>u(e,g,2),getDataCategoryDisplayNameProps:e=>o(e,g,2),getDataSubjects:()=>n,getDataSubjectByKey:p,getDataSubjectDisplayName:e=>{let t=p(e);return t?t.name:e},getPrimaryKey:s,isLoading:a}}},2525:function(e,t,n){n.d(t,{Q:function(){return s}});var l=n(24246),a=n(96306),i=n(27378),r=n(3110);let s=e=>{let{values:t,columnState:n,tagProps:s,onTagClose:o,...u}=e,{isExpanded:d,isWrapped:c,version:g}=n||{},[p,h]=(0,i.useState)(!d),[f,v]=(0,i.useState)(!!c),[m,x]=(0,i.useState)(d?t:null==t?void 0:t.slice(0,2));(0,i.useEffect)(()=>{h(!d)},[d,g]),(0,i.useEffect)(()=>{v(!!c)},[c]),(0,i.useEffect)(()=>{(null==t?void 0:t.length)&&x(p?t.slice(0,2):t)},[p,t]);let y=(0,i.useCallback)(()=>{x(null==t?void 0:t.slice(0,2)),h(!0)},[t]),k=(0,i.useCallback)(()=>{h(!1)},[]),b=(0,i.useCallback)(()=>{p?k():y()},[p,k,y]);return(0,i.useMemo)(()=>(null==m?void 0:m.length)?(0,l.jsxs)(a.jqI,{align:p?"center":"start",wrap:f?"wrap":"nowrap",vertical:!p,gap:"small","data-testid":"tag-expandable-cell",...u,children:[m.map(e=>(0,l.jsx)(a.j8w,{color:"white","data-testid":e.key,onClose:o?()=>o(e.key):void 0,...s,...e.tagProps,children:(0,l.jsx)(a.lKn,{ellipsis:!!p&&{tooltip:!0},style:{color:"inherit",maxWidth:p?r.TD:void 0},children:e.label})},e.key)),t&&t.length>2&&(0,l.jsx)(a.wpx,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),b()},className:"h-auto p-0",style:{fontSize:"var(--ant-font-size)"},children:p?"+".concat(t.length-2," more"):r.T5})]}):(0,l.jsx)("span",{"data-testid":"tag-expandable-cell-empty"}),[m,p,f,u,t,s,o,b])}},3110:function(e,t,n){n.d(t,{DI:function(){return s},T5:function(){return i},TD:function(){return r}});var l=n(24246),a=n(96306);let i="show less",r=150,s=[{key:"expand-all",label:"Expand all",icon:(0,l.jsx)(a.PJP.jbG,{})},{key:"collapse-all",label:"Collapse all",icon:(0,l.jsx)(a.PJP.MVB,{})}]},26070:function(e,t,n){n.d(t,{v:function(){return o},Q:function(){return u.Q}});var l=n(24246),a=n(96306),i=n(27378),r=n(3110);let{Text:s}=a.AntTypography,o=e=>{let{values:t,valueSuffix:n,columnState:o}=e,{isExpanded:u,version:d}=o||{},[c,g]=(0,i.useState)(!u);(0,i.useEffect)(()=>{g(!u)},[u,d]);let p=(0,i.useCallback)(()=>{g(!0)},[]),h=(0,i.useCallback)(()=>{g(!1)},[]),f=(0,i.useCallback)(()=>{c?h():p()},[c,h,p]);return(0,i.useMemo)(()=>(null==t?void 0:t.length)?1===t.length?(0,l.jsx)(s,{ellipsis:!0,"data-testid":"list-expandable-cell-single",children:t[0]}):(0,l.jsxs)(a.jqI,{align:c?"center":"flex-start",vertical:!c,gap:c?"small":"none","data-testid":"list-expandable-cell",children:[c?(0,l.jsxs)(s,{ellipsis:!0,children:[t.length," ",n]}):(0,l.jsx)(a.krs,{dataSource:t,renderItem:e=>(0,l.jsx)("li",{children:e})}),(0,l.jsx)(a.wpx,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),f()},className:"h-auto p-0",style:{fontSize:"var(--ant-font-size)"},children:c?"view":r.T5})]}):null,[c,t,n,f])};var u=n(2525)},8125:function(e,t,n){n.d(t,{V:function(){return i},o:function(){return u}});var l=n(27378),a=n(32735);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{enableSelection:n=!1,getRowKey:i,bulkActions:r,isLoading:s=!1,isFetching:o=!1,dataSource:u=[],totalRows:d=0,currentPage:c,pageSize:g,customTableProps:p={}}=t,h=(0,l.useCallback)(e=>{if(e&&"object"==typeof e){if(e.id)return String(e.id);if(e.key)return String(e.key)}return String(e)},[]),f=i||h,[v,m]=(0,l.useState)([]),[x,y]=(0,l.useState)([]),k=(0,l.useCallback)(()=>{m([]),y([])},[]),b=(0,l.useMemo)(()=>({selectedRowKeys:v,selectedRows:x,resetSelections:k}),[v,x,k]),C=(0,l.useMemo)(()=>{if(n)return{selectedRowKeys:v,onChange:(e,t)=>{m(e),y(t)}}},[n,v]),S=(0,l.useCallback)((t,n,l)=>{var a,i;let r=null!==(a=t.current)&&void 0!==a?a:e.pageIndex,s=null!==(i=t.pageSize)&&void 0!==i?i:e.pageSize,o=r!==e.pageIndex||s!==e.pageSize;o?(t.current&&t.current!==e.pageIndex&&e.updatePageIndex(t.current),t.pageSize&&t.pageSize!==e.pageSize&&e.updatePageSize(t.pageSize)):e.updateFilters(n||{});let u=l&&!Array.isArray(l)?l.field:void 0,d=l&&!Array.isArray(l)&&null!==l.order?l.order:void 0;o||e.updateSorting(u,d)},[e]),j=(0,l.useMemo)(()=>{var t,n,l,i,r;return{current:null!=c?c:e.pageIndex,pageSize:null!=g?g:e.pageSize,total:d,showSizeChanger:null===(i=null===(t=e.paginationConfig)||void 0===t?void 0:t.showSizeChanger)||void 0===i||i,pageSizeOptions:null!==(r=null===(l=e.paginationConfig)||void 0===l?void 0:null===(n=l.pageSizeOptions)||void 0===n?void 0:n.map(String))&&void 0!==r?r:a.VZ}},[c,e.pageIndex,g,e.pageSize,d,e.paginationConfig]),z=(0,l.useMemo)(()=>({dataSource:u,loading:s||o,pagination:j,onChange:S,rowKey:f,scroll:{x:"max-content",scrollToFirstRowOnChange:!0},size:"small",bordered:!0,...p}),[u,s,o,j,S,f,p]),w=v.map(String),D=x.length>0,I=(0,l.useCallback)(e=>{let t=null==r?void 0:r.actions.find(t=>t.key===e);return t?{disabled:!D||!!t.disabled&&t.disabled(x),loading:t.loading||!1,onClick:()=>t.onClick(x)}:{disabled:!0,loading:!1}},[r,D,x]);return(0,l.useMemo)(()=>({tableProps:z,selectionProps:C,selectionState:b,selectedRows:x,selectedKeys:w,hasSelectedRows:D,resetSelections:k,getBulkActionProps:I,isLoadingOrFetching:s||o,hasData:u.length>0}),[z,C,b,x,w,D,k,I,s,o,u.length])};var r=n(40431),s=n(41841);let o=()=>({filters:(0,r.WJ)(e=>e).withDefault({})}),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pagination:t={},sorting:n={},search:a={},onStateChange:i}=e,{pageIndex:u,pageSize:d,resetPagination:c,updatePageIndex:g,updatePageSize:p,pageSizeOptions:h,showSizeChanger:f}=(0,s.h0)(t),{sortKey:v,sortOrder:m,updateSorting:x,resetSorting:y}=(0,s.rK)(n),{searchQuery:k,updateSearch:b,resetSearch:C}=(0,s.Rx)(a),S=(0,l.useMemo)(()=>o(),[]),[j,z]=(0,r.XI)(S,{history:"push"}),w=(0,l.useMemo)(()=>{var e;return{pageIndex:u,pageSize:d,sortKey:v,sortOrder:m,columnFilters:null!==(e=j.filters)&&void 0!==e?e:{},searchQuery:k}},[j,u,d,v,m,k]),D=(0,l.useCallback)((e,t)=>{x(e,t),c()},[x,c]),I=(0,l.useCallback)(e=>{let t=Object.fromEntries(Object.entries(e).filter(e=>{let[,t]=e;return null!=t}));z({filters:Object.keys(t).length>0?t:null}),c()},[z,c]),P=(0,l.useCallback)(e=>{b(e),c()},[b,c]),M=(0,l.useCallback)(()=>{z({filters:null}),c(),y(),C()},[z,c,y,C]);return(0,l.useEffect)(()=>{i&&i(w)},[w,i]),{state:w,pageIndex:w.pageIndex,pageSize:w.pageSize,updatePageIndex:g,updatePageSize:p,sortKey:w.sortKey,sortOrder:w.sortOrder,updateSorting:D,columnFilters:w.columnFilters,updateFilters:I,searchQuery:w.searchQuery,updateSearch:P,resetState:M,paginationConfig:{pageSizeOptions:h,showSizeChanger:f}}}}}]);