import{C as X,H as ie,A as Ee,c as F,o as v,w as t,a as l,l as U,F as T,s as Le,k as _,t as p,_ as fe,b as J,n as oe,g as r,h as z,d as Ne,m as Y,v as ae,f,r as qe,x as De,q as ve,i as Z,e as P}from"./index-BImkz5Jx.js";import{_ as ne}from"./MenuItems-PXjiG-fs.js";import{_ as se}from"./ConfirmDialog-DY_kUHLG.js";import{V as Te,b as je,a as ye}from"./VCard-CxH9DWoK.js";import{V as _e}from"./VCheckbox-62GOpvvP.js";import{V as Me}from"./VSpacer-DinPiXs9.js";import{V as q,c as ee,a as re}from"./VAvatar-Cmga0vj6.js";import{a as G}from"./accounts-DUzbx6k8.js";import{a as H}from"./aliases-4sXmjwXp.js";import{d as Pe}from"./index-DuzUMVLM.js";import{V as le}from"./VMenu-gUG70-zD.js";import{V as ze}from"./VChip-D_styETR.js";import{V as be,a as Oe}from"./VToolbar-CFZfqeOr.js";import{V as Be}from"./VTextField-XoGTj1KG.js";import{V as ge,a as ue,b as de}from"./forwardRefs-cvcnlhoK.js";import{a as We,V as me}from"./VRadioGroup-DIFZKSn-.js";import{V as Ge}from"./VDataTableServer-BDR5hOmo.js";import{V as Q}from"./VDialog-BcTg7w6P.js";import{_ as Qe,a as Ye}from"./AliasRecipientForm-B1Y8wFdP.js";import{_ as ke}from"./CreationForm-ORg3fazt.js";import{_ as He,A as Je,a as Ke,b as Xe}from"./AccountAliasForm-BuSy_1n9.js";import{u as Ze}from"./permissions-DNoefz-n.js";import{a as W,V as ce}from"./VRow-ozg66L7j.js";import{u as et}from"./domains.store-D-vWCEIK.js";import{_ as tt,i as at}from"./importExport-DzoL4Mvc.js";import{V as lt}from"./VSwitch-DwxdeAEq.js";import"./tag-B_yWNNJD.js";import"./VCheckboxBtn-DMoNtKT8.js";import"./VSelectionControl-zyz-fJvC.js";import"./VProgressCircular-BtOPiGCg.js";import"./VInput-CoDJzvaW.js";/* empty css              */import"./ssrBoot-CKUX4kcb.js";import"./VDataTable-Bh8NbVSx.js";import"./VSelect-C3RjAa45.js";import"./VTable-DaLxa4FO.js";import"./filter-C82FUCw_.js";import"./EmailField-CwcwI5xW.js";import"./VForm-D5iPGkde.js";import"./domains-BSawReeu.js";import"./VTextarea-wBlRMIv_.js";import"./logos-BswdveCV.js";import"./VWindowItem-BB7ETW3b.js";import"./VContainer-B46caNs1.js";import"./VSheet-BNx2X4Mk.js";import"./ChoiceField-B3ReQHVe.js";import"./VAlert-BuaaYN2h.js";import"./AccountPasswordSubForm-DZGt_Xgq.js";import"./VFileInput-BC4yAygd.js";const te="identities",pe={getAll(){return X.get(`${te}/`)},exportAll(){return X.get(`/${te}/export/`)},importFromCSV(D){return X.post(`/${te}/import/`,D,{headers:{"Content-Type":"multipart/form-data"}})}},ot={__name:"ChooseColumnsForm",props:ie({availableColumns:{type:Array,default:null},mandatoryColumns:{type:Array,default:null},columns:{type:Array,default:null}},{modelValue:{type:Array},modelModifiers:{}}),emits:ie(["apply"],["update:modelValue"]),setup(D,{emit:V}){const e=D,R=Ee(D,"modelValue"),S=V,C=()=>{S("apply",R.value)};return R.value=e.columns.map(x=>x.key),(x,g)=>(v(),F(ye,{title:x.$gettext("Choose columns to display")},{default:t(()=>[l(Te,null,{default:t(()=>[(v(!0),U(T,null,Le(e.availableColumns,A=>(v(),U("div",{key:A.key},[l(_e,{modelValue:R.value,"onUpdate:modelValue":g[0]||(g[0]=h=>R.value=h),value:A.key,label:A.title,color:"primary","hide-details":"",density:"compact",disabled:e.mandatoryColumns.includes(A.key)},null,8,["modelValue","value","label","disabled"])]))),128))]),_:1}),l(je,null,{default:t(()=>[l(Me),l(q,{color:"primary",variant:"outlined",onClick:C},{default:t(()=>[_(p(x.$gettext("Apply")),1)]),_:1})]),_:1})]),_:1},8,["title"]))}},it={key:1},nt={key:1},st={__name:"IdentityList",setup(D,{expose:V}){const{$gettext:e}=J(),R=ve(),{displayNotification:S}=oe(),C={address:{title:e("Address"),key:"address"},enabled:{title:e("Enabled"),key:"enabled"},recipients:{title:e("Recipients"),key:"recipients"},expire_at:{title:e("Expire at"),key:"expire_at"},description:{title:e("Description"),key:"description"},creation:{title:e("Creation date"),key:"creation"},last_modification:{title:e("Last modification"),key:"last_modification"}},x=[C.address,C.enabled,C.recipients],g={username:{title:e("Name"),key:"username"},first_name:{title:e("First name"),key:"first_name"},last_name:{title:e("Last Name"),key:"last_name"},is_active:{title:e("Enabled"),key:"is_active"},role:{title:e("Role"),key:"role"},quota:{title:e("Quota"),key:"quota_usage"},message_limit:{title:e("Message limit"),key:"sent_messages_in_percent"},language:{title:e("Language"),key:"language"},phone_number:{title:e("Phone number"),key:"phone_number"},secondary_email:{title:e("Secondary email"),key:"secondary_email"},tfa_enabled:{title:e("TFA enabled"),key:"tfa_enabled"},totp_enabled:{title:e("TOTP enabled"),key:"totp_enabled"},webauth_enabled:{title:e("WebAutn enabled"),key:"webauth_enabled"},date_joined:{title:e("Creation date"),key:"date_joined"},last_login:{title:e("Last login"),key:"last_login"}},A=[g.username,g.is_active,g.role,g.quota],h=[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}],o=r("account"),c=r(0),E=r([]),y=r(!1),n=r(""),d=r([]),I=r(!1),O=r(),B=r(),k=r(1),$=r(10),w=r([]),j=r(A),M=r(!1),K=z(()=>j.value.concat([{title:e("Actions"),key:"actions",sortable:!1,align:"end"}])),u=z(()=>o.value==="account"?Object.values(g):Object.values(C)),m=z(()=>o.value==="account"?["username"]:["address"]);async function b(s){y.value=!0,E.value=[],w.value=[],s==="account"?j.value=A:j.value=x,await L()}async function Ve({page:s,itemsPerPage:i,sortBy:N}){k.value=s,$.value=i,w.value=N,L()}async function L(){y.value=!0;const s={page:k.value||1,page_size:$.value||10};w.value&&w.value.length&&(s.ordering=w.value.map(i=>i.order!=="asc"?`-${i.key}`:i.key).join(",")),n.value!==""&&(s.search=n.value);try{const i=o.value==="account"?await G.getAll(s):await H.getAll(s);E.value=i.data.results,c.value=i.data.count,d.value=[]}finally{y.value=!1}}function xe(s){j.value=u.value.filter(i=>s.includes(i.key)),M.value=!1}function we(s){const i=[];return o.value==="account"?(s.possible_actions.forEach(N=>{i.push({label:N.label,icon:N.icon,onClick:a=>{N.name==="get_credentials"&&$e(a),L()}})}),i.push({label:e("Edit"),icon:"mdi-circle-edit-outline",onClick:Ae}),i.push({label:e("Delete"),icon:"mdi-delete-outline",onClick:he,color:"red"})):o.value==="alias"&&(i.push({label:e("Edit"),icon:"mdi-circle-edit-outline",onClick:Re}),i.push({label:e("Delete"),icon:"mdi-delete-outline",onClick:Ue,color:"red"})),i}function Ce(){const s=[];return d.value.length>0&&s.push({label:e("Delete"),icon:"mdi-delete-outline",onClick:Ie,color:"red"}),s}function Ae(s){R.push({name:"AccountEdit",params:{id:s.pk}})}async function he(s){if(await B.value.open(e("Warning"),e("Are you sure you want to delete this identity ?"),{color:"error",agreeLabel:e("Yes"),cancelLabel:e("No")})){y.value=!1;try{await G.delete(s.pk,{keepdir:I.value}),L(),S({msg:e("Account deleted")})}finally{y.value=!1}}}async function $e(s){const i=await G.getCredentials(s.pk),N=new Blob([i.data],{type:i.headers["Content-Type"]}),a=document.createElement("a");a.href=URL.createObjectURL(N),a.download=`credentials_${s.pk}.pdf`,a.click(),URL.revokeObjectURL(a.href)}function Re(){}function Ie(){}async function Ue(s){if(await O.value.open(e("Warning"),e("Are you sure you want to delete this alias?"),{color:"error",agreeLabel:e("Yes"),cancelLabel:e("No")})){y.value=!1;try{await H.delete(s.pk),L(),S({msg:e("Alias deleted")})}finally{y.value=!1}}}function Fe(s){return s.recipients?s.recipients.join(", "):""}return Ne(()=>{L()}),V({fetchIdentities:L}),L=Pe(L,500),(s,i)=>{const N=qe("router-link");return v(),F(ye,{class:"mt-6"},{default:t(()=>[l(Ge,{modelValue:d.value,"onUpdate:modelValue":i[3]||(i[3]=a=>d.value=a),headers:K.value,items:E.value,search:n.value,loading:y.value,"items-length":c.value,page:k.value,"items-per-page":$.value,"items-per-page-options":h,"item-value":"pk",elevation:"0","show-select":"","sort-by":w.value,"onUpdate:options":Ve},{top:t(()=>[l(be,{flat:"",color:"white"},{extension:t(()=>[l(We,{modelValue:o.value,"onUpdate:modelValue":[i[2]||(i[2]=a=>o.value=a),b],inline:"",readonly:y.value,"hide-details":""},{default:t(()=>[l(me,{color:"primary",label:f(e)("Accounts"),value:"account"},null,8,["label"]),l(me,{color:"primary",label:f(e)("Alias"),value:"alias"},null,8,["label"])]),_:1},8,["modelValue","readonly"])]),default:t(()=>[l(Be,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=a=>n.value=a),"prepend-inner-icon":"mdi-magnify",placeholder:f(e)("Search"),variant:"outlined","hide-details":"","single-line":"",flat:"",density:"compact",class:"flex-grow-0 w-33 mr-4"},null,8,["modelValue","placeholder"]),De(s.$slots,"extraActions",{},void 0,!0),l(q,{variant:"text",icon:"mdi-format-columns",title:f(e)("Customize displayed columns"),onClick:i[1]||(i[1]=a=>M.value=!0)},null,8,["title"]),d.value.length>1?(v(),F(le,{key:0,location:"bottom"},{activator:t(({props:a})=>[l(q,ae({"append-icon":"mdi-chevron-down"},a,{size:"small",variant:"flat"}),{default:t(()=>[_(p(f(e)("Actions")),1)]),_:2},1040)]),default:t(()=>[l(ge,{density:"compact"},{default:t(()=>[l(ne,{items:Ce()},null,8,["items"])]),_:1})]),_:1})):Y("",!0),l(q,{variant:"text",icon:"mdi-reload",onClick:L})]),_:3})]),"item.username":t(({item:a})=>[l(N,{to:{name:"AccountDetail",params:{id:a.pk}}},{default:t(()=>[_(p(a.username),1)]),_:2},1032,["to"])]),"item.address":t(({item:a})=>[l(N,{to:{name:"AliasDetail",params:{id:a.pk}}},{default:t(()=>[_(p(a.address),1)]),_:2},1032,["to"])]),"item.is_active":t(({item:a})=>[l(ee,{color:a.is_active?"success":"error",icon:a.is_active?"mdi-check-circle":"mdi-close-circle",variant:"flat"},null,8,["color","icon"])]),"item.enabled":t(({item:a})=>[l(ee,{color:a.enabled?"success":"error",icon:a.enabled?"mdi-check-circle":"mdi-close-circle",variant:"flat"},null,8,["color","icon"])]),"item.recipients":t(({item:a})=>[_(p(Fe(a)),1)]),"item.date_joined":t(({item:a})=>[_(p(s.$date(a.date_joined)),1)]),"item.creation":t(({item:a})=>[_(p(s.$date(a.creation)),1)]),"item.last_modification":t(({item:a})=>[_(p(s.$date(a.last_modification)),1)]),"item.last_login":t(({item:a})=>[_(p(s.$date(a.last_login)),1)]),"item.role":t(({item:a})=>[l(ze,{color:"default",size:"small"},{default:t(()=>[_(p(a.role),1)]),_:2},1024)]),"item.quota_usage":t(({item:a})=>[a.mailbox?(v(),U(T,{key:0},[a.mailbox.quota!=="0"?(v(),F(re,{key:0,color:a.mailbox.quota_usage<80?"primary":"warning","model-value":a.mailbox.quota_usage},null,8,["color","model-value"])):(v(),U("span",it,p(f(e)("Unlimited")),1))],64)):(v(),U(T,{key:1},[_(p(f(e)("No mailbox")),1)],64))]),"item.sent_messages_in_percent":t(({item:a})=>[a.mailbox?(v(),U(T,{key:0},[a.mailbox.message_limit!==null&&a.mailbox.message_limit!==void 0?(v(),U(T,{key:0},[a.mailbox.message_limit!==0?(v(),F(re,{key:0,color:a.mailbox.sent_messages_in_percent<80?"primary":"warning","model-value":a.mailbox.sent_messages_in_percent},null,8,["color","model-value"])):(v(),U("span",nt,p(f(e)("Sending forbidden")),1))],64)):(v(),U(T,{key:1},[_(p(f(e)("Unlimited")),1)],64))],64)):(v(),U(T,{key:1},[_(p(f(e)("No mailbox")),1)],64))]),"item.actions":t(({item:a})=>[a.possible_actions!==void 0&&a.possible_actions.length!==0?(v(),F(ee,{key:0,size:"large",color:"blue"},{default:t(()=>i[6]||(i[6]=[_("mdi-circle-small")])),_:1,__:[6]})):Y("",!0),l(le,{location:"bottom"},{activator:t(({props:Se})=>[l(q,ae(Se,{size:"small",icon:"mdi-dots-horizontal",variant:"text"}),null,16)]),default:t(()=>[l(ne,{items:we(a),obj:a},null,8,["items","obj"])]),_:2},1024)]),_:2},1032,["modelValue","headers","items","search","loading","items-length","page","items-per-page","sort-by"]),l(se,{ref_key:"confirmAlias",ref:O},null,512),l(se,{ref_key:"confirmAccount",ref:B},{default:t(()=>[l(_e,{modelValue:I.value,"onUpdate:modelValue":i[4]||(i[4]=a=>I.value=a),label:f(e)("Do not delete account folder"),"hide-details":""},null,8,["modelValue","label"])]),_:1},512),l(Q,{modelValue:M.value,"onUpdate:modelValue":i[5]||(i[5]=a=>M.value=a),"max-width":"500"},{default:t(()=>[l(ot,{columns:j.value,"available-columns":u.value,"mandatory-columns":m.value,onApply:xe},null,8,["columns","available-columns","mandatory-columns"])]),_:1},8,["modelValue"])]),_:3})}}},rt=fe(st,[["__scopeId","data-v-7c25d4c7"]]),ut={__name:"AliasCreationForm",emits:["close","created"],setup(D,{emit:V}){const{$gettext:e}=J(),R=oe(),S=ve(),C=V,x=r(),g=r(),A=r(),h={general:g,recipients:A},o=z(()=>{const k=[{title:e("General"),items:[{key:e("Random address"),value:c.value.random,type:"yesno"},{key:e("Address"),value:c.value.address}]}];return c.value.expire_at!==void 0&&k[0].items.push({key:e("Expire at"),value:c.value.expire_at}),c.value.description!==void 0&&k[0].items.push({key:e("Description"),value:c.value.description}),k.push({title:e("Recipients"),items:[{key:e("Recipients"),value:c.value.recipients.join(", ")}]}),k}),c=r(n()),E=r([{name:"general",title:e("General")},{name:"recipients",title:e("Recipients")}]);function y(){c.value=n(),C("close")}function n(){return{random:!1,enabled:!0,recipients:[]}}function d(k){return h.step[k.name]}function I(k){return h[k.name].value.vFormRef}function O(){const k={...c.value};k.recipients.length===0&&delete k.recipients;const $=H.validate(k);return $.catch(w=>{w.response.status===409&&w.response.data.id!==void 0&&(R.displayNotification({msg:e("Alias already exists, redirecting to edit page"),type:"warning"}),S.push({name:"AliasEdit",params:{id:w.response.data.id}}))}),$}async function B(){c.value.domain!==void 0&&delete c.value.domain;try{await H.create(c.value),C("created"),y()}finally{x.value.working=!1}}return(k,$)=>(v(),F(ke,{ref_key:"form",ref:x,title:f(e)("New alias"),steps:E.value,"form-getter":d,"get-v-form-ref":I,"validate-object":O,"summary-sections":o.value,onClose:y,onCreate:B},{"form.general":t(()=>[l(Ye,{ref_key:"general",ref:g,modelValue:c.value,"onUpdate:modelValue":$[0]||($[0]=w=>c.value=w)},null,8,["modelValue"])]),"form.recipients":t(()=>[l(Qe,{ref_key:"recipients",ref:A,modelValue:c.value.recipients,"onUpdate:modelValue":$[1]||($[1]=w=>c.value.recipients=w)},null,8,["modelValue"])]),_:2},1032,["title","steps","summary-sections"]))}},dt={class:"grey--text"},mt={__name:"AccountCreationForm",emits:["close","created"],setup(D,{emit:V}){const{$gettext:e}=J(),{canSetRole:R}=Ze(),S=oe(),C=et(),x=V,g=z(()=>o.value.username&&o.value.username.indexOf("@")!==-1),A=z(()=>{const u=[{title:e("Role"),items:[{key:e("Role"),value:o.value.role}]},{title:e("Identification"),items:[{key:e("Username"),value:o.value.username},{key:e("First name"),value:o.value.first_name},{key:e("Last name"),value:o.value.last_name},{name:"random_password",key:e("Random password"),value:o.value.random_password,type:"yesno"},{key:e("Enabled"),value:o.value.is_active,type:"yesno"}]}];return g.value?u.concat([{title:e("Mailbox"),items:[{key:e("Email"),value:o.value.mailbox.full_address},{key:e("Quota"),value:o.value.mailbox.use_domain_quota?e("Domain default value"):o.value.mailbox.quota},{key:e("Message sending limit"),value:o.value.mailbox.message_limit},{key:e("Send only account"),value:o.value.mailbox.is_send_only,type:"yesno"}]},{title:e("Aliases"),items:[{key:e("Aliases"),value:o.value.aliases,type:"list"}]}]):u}),h=z(()=>{const u=[];return R.value&&u.push({name:"role",title:e("Role")}),u.push({name:"identification",title:e("Identification")}),g.value?u.concat([{name:"mailbox",title:e("Mailbox")},{name:"aliases",title:e("Aliases")}]):u}),o=r({aliases:[],is_active:!0,role:Z.USER,mailbox:{use_domain_quota:!0},random_password:!1}),c=r(),E=r(),y=r(),n=r(),d=r(),I={role:E,identification:y,mailbox:n,aliases:d};function O(){navigator.clipboard.writeText(o.value.new_password).then(()=>{S.displayNotification({msg:e("Password copied to clipboard")})})}function B(u){return I.step[u.name]}function k(u){return I[u.name].value.vFormRef}function $(u,m){const b=h.value[u-1].name;I[b].value.formErrors&&(I[b].value.formErrors.value=m)}function w(u){const m={...u};return[Z.RESELLER,Z.SUPER_ADMIN].includes(m.role)&&m.username&&m.username.indexOf("@")===-1&&delete m.mailbox,m.mailbox&&(m.mailbox.message_limit===""&&(m.mailbox.message_limit=null),!m.mailbox.use_domain_quota&&(m.mailbox.quota===void 0||m.mailbox.quota===null)&&(m.mailbox.quota=0)),m}function j(u){if(u===1)return!0;const m=w({...o.value});return G.validate(m)}function M(){x("close")}async function K(){const u=w({...o.value});u.password=u.new_password,delete u.new_password,delete u.password_confirmation;try{await G.create(u),x("created"),M()}finally{c.value.working=!1}}return C.getDomains(),(u,m)=>(v(),F(ke,{ref_key:"form",ref:c,title:f(e)("New account"),steps:h.value,"form-getter":B,"get-v-form-ref":k,"validate-object":j,"summary-sections":A.value,onClose:M,onCreate:K,onValidationError:$},{"form.role":t(()=>[l(Xe,{ref_key:"role",ref:E,modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=b=>o.value=b)},null,8,["modelValue"])]),"form.identification":t(()=>[l(Ke,{ref_key:"identification",ref:y,modelValue:o.value,"onUpdate:modelValue":m[1]||(m[1]=b=>o.value=b)},null,8,["modelValue"])]),"form.mailbox":t(()=>[l(Je,{ref_key:"mailbox",ref:n,modelValue:o.value,"onUpdate:modelValue":m[2]||(m[2]=b=>o.value=b)},null,8,["modelValue"])]),"form.aliases":t(()=>[l(He,{ref_key:"aliases",ref:d,modelValue:o.value,"onUpdate:modelValue":m[3]||(m[3]=b=>o.value=b)},null,8,["modelValue"])]),"item.random_password":t(({item:b})=>[b.value?(v(),F(W,{key:0,cols:"12",class:"highligth text-white"},{default:t(()=>[l(ce,null,{default:t(()=>[l(W,null,{default:t(()=>[P("span",null,p(b.key),1)]),_:2},1024),b.type==="yesno"?(v(),F(W,{key:0,class:"text-right"},{default:t(()=>[_(p(u.$yesno(b.value)),1)]),_:2},1024)):Y("",!0)]),_:2},1024),l(ce,null,{default:t(()=>[l(W,{class:"text-right py-1"},{default:t(()=>[l(q,{"append-icon":"mdi-clipboard-multiple-outline",color:"white",variant:"text",title:f(e)("Copy to clipboard"),onClick:O},{default:t(()=>[_(p(o.value.new_password),1)]),_:1},8,["title"])]),_:1})]),_:1})]),_:2},1024)):(v(),U(T,{key:1},[l(W,null,{default:t(()=>[P("span",dt,p(b.key),1)]),_:2},1024),b.type==="yesno"?(v(),F(W,{key:0,class:"text-right"},{default:t(()=>[_(p(u.$yesno(b.value)),1)]),_:2},1024)):Y("",!0)],64))]),_:2},1032,["title","steps","summary-sections"]))}},ct={__name:"IdentitiesView",setup(D){const{$gettext:V,$pgettext:e}=J(),{importContent:R,exportContent:S}=at(),C=r(!1),x=r(!1),g=r(!1),A=r(),h=r();function o(){pe.exportAll().then(y=>{S(y.data,"identities",V)})}function c(y,n){y.append("crypt_passwords",n.crypt_passwords),R(pe,y,A,V)}function E(){g.value=!1,h.value.fetchIdentities()}return(y,n)=>(v(),U("div",null,[l(be,{flat:""},{default:t(()=>[l(Oe,null,{default:t(()=>[_(p(f(V)("Identities")),1)]),_:1})]),_:1}),l(rt,{ref_key:"idList",ref:h},{extraActions:t(()=>[l(le,{"offset-y":""},{activator:t(({props:d})=>[l(q,ae({color:"primary",variant:"outlined"},d,{"prepend-icon":"mdi-plus",class:"mr-4"}),{default:t(()=>[_(p(f(e)("male","New")),1)]),_:2},1040)]),default:t(()=>[l(ge,{density:"compact"},{default:t(()=>[l(ue,{onClick:n[0]||(n[0]=d=>C.value=!0)},{default:t(()=>[l(de,null,{default:t(()=>[_(p(f(V)("Account")),1)]),_:1})]),_:1}),l(ue,{onClick:n[1]||(n[1]=d=>x.value=!0)},{default:t(()=>[l(de,null,{default:t(()=>[_(p(f(V)("Alias")),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(q,{class:"mr-2",title:f(V)("Import accounts and aliases from CSV file"),variant:"flat",icon:"mdi-file-import-outline",onClick:n[2]||(n[2]=d=>g.value=!0)},null,8,["title"]),l(q,{class:"mr-2",title:f(V)("Export accounts and aliases to CSV"),icon:"mdi-file-export-outline",variant:"flat",onClick:o},null,8,["title"])]),_:1},512),l(Q,{modelValue:x.value,"onUpdate:modelValue":n[5]||(n[5]=d=>x.value=d),fullscreen:"",scrollable:"","z-index":"10"},{default:t(()=>[l(ut,{onCreated:n[3]||(n[3]=d=>h.value.fetchIdentities()),onClose:n[4]||(n[4]=d=>x.value=!1)})]),_:1},8,["modelValue"]),l(Q,{modelValue:C.value,"onUpdate:modelValue":n[8]||(n[8]=d=>C.value=d),fullscreen:"",scrollable:"","z-index":"10"},{default:t(()=>[l(mt,{onCreated:n[6]||(n[6]=d=>h.value.fetchIdentities()),onClose:n[7]||(n[7]=d=>C.value=!1)})]),_:1},8,["modelValue"]),l(Q,{modelValue:g.value,"onUpdate:modelValue":n[9]||(n[9]=d=>g.value=d),persistent:"","max-width":"800px"},{default:t(()=>[l(f(tt),{ref_key:"importForm",ref:A,title:f(V)("Import identities"),onSubmit:c,onClose:E},{help:t(()=>n[10]||(n[10]=[P("ul",null,[P("li",null,[P("em",null,"account; loginname; password; first name; last name; enabled; group; address; quota[; domain; ...]")]),P("li",null,[P("em",null,"alias; address; enabled; recipient; [more recipients; ...]")])],-1)])),extraFields:t(({form:d})=>[l(lt,{modelValue:d.crypt_passwords,"onUpdate:modelValue":I=>d.crypt_passwords=I,label:f(V)("Crypt passwords"),color:"primary",density:"compact",hint:f(V)("Check this option if passwords contained in your file are not crypted"),"persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","label","hint"])]),_:1},8,["title"])]),_:1},8,["modelValue"])]))}},ra=fe(ct,[["__scopeId","data-v-c34f0ee8"]]);export{ra as default};
