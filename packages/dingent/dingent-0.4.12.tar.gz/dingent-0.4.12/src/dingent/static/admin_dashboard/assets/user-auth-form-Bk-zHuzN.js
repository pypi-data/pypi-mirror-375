import{r as b,b as f,d as N,o as v,j as e,c as w,L as k,B as t,s as F,e as y,t as I,f as L}from"./index-BRZ4tpHq.js";import{u as P,a as S}from"./zod-B9Y-vu3J.js";import{P as A,I as C,a as E}from"./password-input-BHNWKYOU.js";import{F as U,a as c,b as l,c as m,d,e as u}from"./form-C3Pate3I.js";import{I as M}from"./input-CPdmn13N.js";import{L as B}from"./loader-circle-kJ1Ef_oQ.js";import{c as G}from"./index-CTvPNZtd.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],_=G("log-in",H),D=v({email:y({error:o=>o.input===""?"Please enter your email":void 0}),password:F().min(1,"Please enter your password").min(7,"Password must be at least 7 characters long")});function J({className:o,redirectTo:p,...x}){const[a,n]=b.useState(!1),h=f(),{auth:i}=N(),r=P({resolver:S(D),defaultValues:{email:"",password:""}});function j(s){n(!0);const g={accountNo:"ACC001",email:s.email,role:["user"],exp:Date.now()+1440*60*1e3};I.promise(L(2e3),{loading:"Signing in...",success:()=>(n(!1),i.setUser(g),i.setAccessToken("mock-access-token"),h({to:p||"/",replace:!0}),`Welcome back, ${s.email}!`),error:"Error"})}return e.jsx(U,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(j),className:w("grid gap-3",o),...x,children:[e.jsx(c,{control:r.control,name:"email",render:({field:s})=>e.jsxs(l,{children:[e.jsx(m,{children:"Email"}),e.jsx(d,{children:e.jsx(M,{placeholder:"name@example.com",...s})}),e.jsx(u,{})]})}),e.jsx(c,{control:r.control,name:"password",render:({field:s})=>e.jsxs(l,{className:"relative",children:[e.jsx(m,{children:"Password"}),e.jsx(d,{children:e.jsx(A,{placeholder:"********",...s})}),e.jsx(u,{}),e.jsx(k,{to:"/forgot-password",className:"text-muted-foreground absolute end-0 -top-0.5 text-sm font-medium hover:opacity-75",children:"Forgot password?"})]})}),e.jsxs(t,{className:"mt-2",disabled:a,children:[a?e.jsx(B,{className:"animate-spin"}):e.jsx(_,{}),"Sign in"]}),e.jsxs("div",{className:"relative my-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background text-muted-foreground px-2",children:"Or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(t,{variant:"outline",type:"button",disabled:a,children:[e.jsx(C,{className:"h-4 w-4"})," GitHub"]}),e.jsxs(t,{variant:"outline",type:"button",disabled:a,children:[e.jsx(E,{className:"h-4 w-4"})," Facebook"]})]})]})})}export{J as U};
