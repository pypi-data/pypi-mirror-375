(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165],{21865:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/projects",function(){return a(98791)}])},58754:function(e,t,a){"use strict";var i=a(24246),s=a(96306),n=a(70788);t.Z=e=>{let{heading:t,breadcrumbItems:a,isSticky:o=!0,children:r,rightContent:l,style:d,...c}=e;return(0,i.jsxs)("div",{...c,style:o?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...d}:{paddingBottom:"24px",...d},children:[(0,i.jsxs)(s.jqI,{justify:"space-between",children:["string"==typeof t?(0,i.jsx)(s.lQT,{className:a||r?"pb-4":void 0,level:1,"data-testid":"page-heading",children:t}):t,l&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:l})]}),!!a&&(0,i.jsx)(n.m,{className:r?"pb-4":void 0,items:a,"data-testid":"page-breadcrumb"}),r]})}},70788:function(e,t,a){"use strict";a.d(t,{m:function(){return d}});var i=a(24246),s=a(96306),n=a(79894),o=a.n(n),r=a(27378);let{Text:l}=s.AntTypography,d=e=>{let{items:t,...a}=e,n=(0,r.useMemo)(()=>null==t?void 0:t.map((e,a)=>{let n=a===t.length-1,r={...e},d=r.onClick&&!r.href;return("string"==typeof r.title&&(r.title=(0,i.jsx)(l,{style:{color:"inherit",maxWidth:n?void 0:400},ellipsis:!n,id:n?"breadcrumb-current-page":void 0,children:r.title})),d)?r.title=(0,i.jsx)(s.wpx,{type:"text",size:"small",icon:r.icon,onClick:r.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:r.title}):(r.icon&&(r.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:r.icon}),r.title]})),r.href&&r.title&&(r.title=(0,i.jsx)(o(),{href:r.href,className:"ant-breadcrumb-link",children:r.title}),delete r.href)),r}),[t]);return(0,i.jsx)(s.zrq,{items:n,...a})}},79609:function(e,t,a){"use strict";a.d(t,{N4:function(){return o},UG:function(){return s},xw:function(){return n}});var i=a(54427);let{useGetCatalogSystemsQuery:s,useGetCatalogProjectsQuery:n,useGetCatalogDatasetsQuery:o}=a(78780).u.injectEndpoints({endpoints:e=>({getCatalogSystems:e.query({query:e=>({method:"GET",url:"/plus/data-catalog/system",params:e}),providesTags:["Catalog Systems","System"]}),getCatalogProjects:e.query({query:e=>{let{...t}=e;return{method:"GET",url:"/plus/data-catalog/project",params:t}},providesTags:["Discovery Monitor Results"]}),getCatalogDatasets:e.query({query:e=>{let{...t}=e;return{method:"GET",url:"/plus/data-catalog/dataset",params:t}},providesTags:["Discovery Monitor Results"]})})});(0,i.oM)({name:"dataCatalog",initialState:{page:1,pageSize:50},reducers:{}})},98791:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var i=a(24246),s=a(86677),n=a(18225),o=a(77213),r=a(77830),l=a(58754),d=a(92222),c=a(59003),u=a(96306),g=a(27378),p=a(47935),m=a(72625),x=a(89200),h=a(5945),f=a(79609),j=a(99763),y=a(28976),v=a(8151);let b={items:[],total:0,page:1,size:50,pages:1},C=()=>(0,i.jsx)(u.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:(0,i.jsx)(u.gCW,{children:(0,i.jsx)(u.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"})})}),w=(0,d.Cl)();var R=e=>{let{systemKey:t,monitorConfigIds:a}=e,[n,o]=(0,g.useState)({}),{PAGE_SIZES:l,pageSize:u,setPageSize:R,onPreviousPageClick:_,isPreviousPageDisabled:k,onNextPageClick:N,isNextPageDisabled:S,startRange:T,endRange:P,pageIndex:z,setTotalPages:E}=(0,p.oi)(),{isFetching:D,isLoading:I,data:M}=(0,f.xw)({page:z,size:u,monitor_config_ids:a}),q=(0,s.useRouter)(),{items:Z,total:G,pages:W}=(0,g.useMemo)(()=>null!=M?M:b,[M]);(0,g.useEffect)(()=>{E(W)},[W,E]);let[V,X]=(0,g.useState)(void 0),U=(0,g.useMemo)(()=>[w.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(x.Z,{resource:e.row.original}),header:"Project"}),w.display({id:"status",cell:e=>{let{row:t}=e;return(0,i.jsx)(h.Z,{status:(0,v.u)(t.original)})},header:"Status"}),w.accessor(e=>e.monitor_config_id,{id:"monitorConfigId",cell:e=>(0,i.jsx)(p.G3,{value:e.getValue()}),header:"Detected by"}),w.accessor(e=>e.description,{id:"description",cell:e=>(0,i.jsx)(p.G3,{value:e.getValue()}),header:"Description"}),w.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,i.jsx)(m.Cy,{time:e.getValue()}),header:"Updated",meta:{cellProps:{borderRight:"none"}}}),w.display({id:"actions",cell:e=>{let{row:t}=e;return(0,i.jsx)(y.Z,{onDetailClick:()=>X(t.original)})},size:25,meta:{disableRowClick:!0}})],[]),A=(0,c.b7)({getCoreRowModel:(0,d.sC)(),getGroupedRowModel:(0,d.qe)(),getExpandedRowModel:(0,d.rV)(),manualPagination:!0,columnResizeMode:"onChange",columns:U,data:Z,getRowId:e=>e.urn,onRowSelectionChange:o,state:{rowSelection:n}});return I||D?(0,i.jsx)(p.I4,{rowHeight:36,numRows:36}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.ZK,{tableInstance:A,emptyTableNotice:(0,i.jsx)(C,{}),onRowClick:e=>q.push("".concat(r.mX,"/").concat(t,"/projects/").concat(e.urn))}),(0,i.jsx)(p.s8,{totalRows:G||0,pageSizes:l,setPageSize:R,onPreviousPageClick:_,isPreviousPageDisabled:k,onNextPageClick:N,isNextPageDisabled:S,startRange:T,endRange:P}),(0,i.jsx)(j.Z,{resource:V,onClose:()=>X(void 0)})]})},_=a(1315),k=()=>{var e;let{query:t}=(0,s.useRouter)(),a=t.systemId,d=t.monitor_config_ids,{data:c,isLoading:u}=(0,_.rn)(a);return u?(0,i.jsx)(n.Z,{}):(0,i.jsxs)(o.Z,{title:"Data catalog",children:[(0,i.jsx)(l.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:r.mX},{title:null!==(e=null==c?void 0:c.name)&&void 0!==e?e:null==c?void 0:c.fides_key}]}),(0,i.jsx)(R,{systemKey:a,monitorConfigIds:d})]})}}},function(e){e.O(0,[8765,9278,5163,1099,3620,2888,9774,179],function(){return e(e.s=21865)}),_N_E=e.O()}]);