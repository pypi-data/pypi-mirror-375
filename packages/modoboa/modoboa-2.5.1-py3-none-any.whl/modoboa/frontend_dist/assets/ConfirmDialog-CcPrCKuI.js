import{b as C,g as s,c as V,w as a,a as l,L as h,k as r,t as n,aj as L,x as T,m as z,aQ as D,o as g}from"./index-LhNzkzAh.js";import{V as S,a as B}from"./VToolbar-BxX3W2kR.js";import{V as K,b as N,a as j}from"./VCard-DzjUT5OP.js";import{V as I}from"./VSpacer-CoJVmx8k.js";import{V as x}from"./VAvatar-DbuoZWmf.js";import{V as O}from"./VDialog-DmTGCGR0.js";const R={__name:"ConfirmDialog",props:{callback_agree:{type:Function,default:null}},setup(_,{expose:b}){const{$gettext:f}=C(),m=_,o=s(!1),c=s(""),p=s("");let u;const e=s({color:"primary",width:400,zIndex:2400,noconfirm:!1,cancelLabel:f("Cancel"),agreeLabel:f("OK")});function w(i,t,d){return o.value=!0,p.value=i,c.value=t,e.value=Object.assign(e.value,d),new Promise(y=>{u=y})}b({open:w});async function k(){m.callback_agree!==null&&!await m.callback_agree()||(u(!0),o.value=!1)}function v(){u(!1),o.value=!1}return(i,t)=>(g(),V(O,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=d=>o.value=d),"max-width":e.value.width,"z-index":e.value.zIndex,onKeydown:D(v,["esc"])},{default:a(()=>[l(j,null,{default:a(()=>[l(S,{color:e.value.color,density:"compact",variant:"flat"},{default:a(()=>[l(B,{class:"text-body-2 font-weight-bold"},{default:a(()=>[r(n(p.value),1)]),_:1})]),_:1},8,["color"]),h(l(K,{class:"pa-4"},{default:a(()=>[r(n(c.value)+" ",1),T(i.$slots,"default")]),_:3},512),[[L,!!c.value]]),l(N,{class:"pt-3"},{default:a(()=>[l(I),e.value.noconfirm?z("",!0):(g(),V(x,{key:0,onClick:v},{default:a(()=>[r(n(e.value.cancelLabel),1)]),_:1})),l(x,{color:e.value.color,onClick:k},{default:a(()=>[r(n(e.value.agreeLabel),1)]),_:1},8,["color"])]),_:1})]),_:3})]),_:3},8,["modelValue","max-width","z-index"]))}};export{R as _};
