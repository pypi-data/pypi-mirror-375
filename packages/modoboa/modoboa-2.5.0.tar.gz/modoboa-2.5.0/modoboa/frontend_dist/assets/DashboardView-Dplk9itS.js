import{g as _,j as h,c as p,o as c,w as o,a as l,e as t,t as a,_ as b,k as V,b as k,u as x,d as y,l as A,m as N,f as d,i as C}from"./index-BImkz5Jx.js";import{a as w}from"./admin-DewTk2H8.js";import{V as v,a as $,b as D}from"./VCard-CxH9DWoK.js";import{V as S}from"./VTable-DaLxa4FO.js";import{V as T}from"./VDataTable-Bh8NbVSx.js";import{p as B}from"./parameters-aSQiR7kN.js";import{V as M,a as W}from"./VToolbar-CFZfqeOr.js";import{V as F,a as g}from"./VRow-ozg66L7j.js";import"./tag-B_yWNNJD.js";import"./VAvatar-Cmga0vj6.js";import"./VProgressCircular-BtOPiGCg.js";import"./VSelect-C3RjAa45.js";import"./VTextField-XoGTj1KG.js";import"./VInput-CoDJzvaW.js";import"./forwardRefs-cvcnlhoK.js";import"./ssrBoot-CKUX4kcb.js";import"./VMenu-gUG70-zD.js";import"./VCheckboxBtn-DMoNtKT8.js";import"./VSelectionControl-zyz-fJvC.js";import"./VChip-D_styETR.js";import"./filter-C82FUCw_.js";/* empty css              */const G={__name:"GlobalStatisticsWidget",async setup(f){let s,i;const e=_({}),n=([s,i]=h(()=>w.getStatistics()),s=await s,i(),s);return e.value=n.data,(r,u)=>(c(),p($,{title:r.$gettext("Statistics")},{default:o(()=>[l(v,null,{default:o(()=>[l(S,null,{default:o(()=>[t("tbody",null,[t("tr",null,[t("td",null,a(r.$gettext("Domain count")),1),t("td",null,a(e.value.domain_count),1)]),t("tr",null,[t("td",null,a(r.$gettext("Domain alias count")),1),t("td",null,a(e.value.domain_alias_count),1)]),t("tr",null,[t("td",null,a(r.$gettext("Account count")),1),t("td",null,a(e.value.account_count),1)]),t("tr",null,[t("td",null,a(r.$gettext("Alias count")),1),t("td",null,a(e.value.alias_count),1)])])]),_:1})]),_:1})]),_:1},8,["title"]))}},I=["href"],j={href:"https://modoboa.org/weblog/",target:"_blank"},E={__name:"NewsFeedWidget",async setup(f){let s,i;const e=_([]),n=[{title:"",key:"title"},{title:"",key:"published",align:"end"}],r=([s,i]=h(()=>w.getNewsFeed()),s=await s,i(),s);return e.value=r.data,(u,L)=>(c(),p($,{title:u.$gettext("Latest news")},{default:o(()=>[l(v,null,{default:o(()=>[l(T,{headers:n,items:e.value,"hide-default-header":"","hide-default-footer":""},{"item.title":o(({item:m})=>[t("a",{href:m.link,target:"_blank"},a(m.title),9,I)]),"item.published":o(({item:m})=>[V(a(u.$date(m.published)),1)]),_:2},1032,["items"])]),_:1}),l(D,{class:"justify-center"},{default:o(()=>[t("div",null,[t("a",j,a(u.$gettext("Visit the official weblog for more information")),1)])]),_:1})]),_:1},8,["title"]))}},R=b(E,[["__scopeId","data-v-e0975b37"]]),U={__name:"DashboardView",setup(f){const{$gettext:s}=k(),i=x(),e=_("");return y(async()=>{const n=await B.getGlobalApplication("core");n.data.params.custom_welcome_message?e.value=n.data.params.custom_welcome_message:e.value=s("Welcome to Modoboa")}),(n,r)=>(c(),A("div",null,[l(M,{flat:""},{default:o(()=>[l(W,null,{default:o(()=>[V(a(e.value),1)]),_:1})]),_:1}),l(F,null,{default:o(()=>[l(g,{sm:"12",md:"6"},{default:o(()=>[l(d(R)),d(i).authUser.role===d(C).SUPER_ADMIN?(c(),p(d(G),{key:0,class:"mt-4"})):N("",!0)]),_:1}),l(g,{sm:"12",md:"6"})]),_:1})]))}},dt=b(U,[["__scopeId","data-v-24210b96"]]);export{dt as default};
