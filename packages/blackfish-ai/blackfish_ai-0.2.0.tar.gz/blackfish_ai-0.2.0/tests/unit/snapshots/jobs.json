{
    "speech_recognition_local_gres_true": "#!/bin/bash\ndocker run -d  --gpus all \\\n  -v /home/test:/data/audio \\\n  -v /home/test/.blackfish/models/models--openai-whisper-large-v3:/data/models \\\n  ghcr.io/princeton-ddss/speech-recognition-inference:0.2.1 \\\n  pipeline \\\n  /data/audio \\\n  --model-id openai/whisper-large-v3 \\\n  --model-dir /data/models \\\n  --revision 169d4a4341b33bc18d8881c4b69c2e104e1cc0af \\\n  --job-id 2a7a8e6240cc4240a825463e5b11a81f \\",
    "speech_recognition_local_gres_false": "#!/bin/bash\ndocker run -d  \\\n  -v /home/test:/data/audio \\\n  -v /home/test/.blackfish/models/models--openai-whisper-large-v3:/data/models \\\n  ghcr.io/princeton-ddss/speech-recognition-inference:0.2.1 \\\n  pipeline \\\n  /data/audio \\\n  --model-id openai/whisper-large-v3 \\\n  --model-dir /data/models \\\n  --revision 169d4a4341b33bc18d8881c4b69c2e104e1cc0af \\\n  --job-id 2a7a8e6240cc4240a825463e5b11a81f \\",
    "speech_recognition_local_missing_profile": "#!/bin/bash\ndocker run -d  \\\n  -v /home/test:/data/audio \\\n  -v /home/test/.blackfish/models/models--openai-whisper-large-v3:/data/models \\\n  ghcr.io/princeton-ddss/speech-recognition-inference:0.2.1 \\\n  pipeline \\\n  /data/audio \\\n  --model-id openai/whisper-large-v3 \\\n  --model-dir /data/models \\\n  --revision 169d4a4341b33bc18d8881c4b69c2e104e1cc0af \\\n  --job-id 2a7a8e6240cc4240a825463e5b11a81f \\",
    "speech_recognition_local_missing_mount": "#!/bin/bash\ndocker run -d  \\\n  -v None:/data/audio \\\n  -v /home/test/.blackfish/models/models--openai-whisper-large-v3:/data/models \\\n  ghcr.io/princeton-ddss/speech-recognition-inference:0.2.1 \\\n  pipeline \\\n  /data/audio \\\n  --model-id openai/whisper-large-v3 \\\n  --model-dir /data/models \\\n  --revision 169d4a4341b33bc18d8881c4b69c2e104e1cc0af \\\n  --job-id 2a7a8e6240cc4240a825463e5b11a81f \\",
    "speech_recognition_local_with_kwargs": "#!/bin/bash\ndocker run -d  \\\n  -v /home/test:/data/audio \\\n  -v /home/test/.blackfish/models/models--openai-whisper-large-v3:/data/models \\\n  ghcr.io/princeton-ddss/speech-recognition-inference:0.2.1 \\\n  pipeline \\\n  /data/audio \\\n  --model-id openai/whisper-large-v3 \\\n  --model-dir /data/models \\\n  --revision 169d4a4341b33bc18d8881c4b69c2e104e1cc0af \\\n  --job-id 2a7a8e6240cc4240a825463e5b11a81f \\\n  --language en",
    "speech_recognition_slurm_gres_0": "#!/bin/bash\n\n#SBATCH --job-name=test\n#SBATCH --nodes=1\n#SBATCH --ntasks-per-node=1\n#SBATCH --mem=8G\n#SBATCH --time=00:30:00\n#SBATCH --constraint=gpu80\n#SBATCH --partition=test\n\nexport APPTAINER_CACHEDIR=/scratch/gpfs/test/APPTAINER_CACHE\nexport APPTAINER_TMPDIR=/tmp\n\nport=$(comm -23 <(seq 8080 8899 | sort) <(ss -Htan | awk '{{print $4}}' | cut -d':' -f2 | sort -u) | shuf | head -n 1)\n\nmkdir /home/test/.blackfish/jobs/2a7a8e6240cc4240a825463e5b11a81f/$SLURM_JOB_ID\nmkdir /home/test/.blackfish/jobs/2a7a8e6240cc4240a825463e5b11a81f/$SLURM_JOB_ID/$port\n\n\nexport XDG_RUNTIME_DIR=\"\"\n\napptainer run  \\\n  --bind /home/test:/data/audio \\\n  --bind /home/test/.blackfish/models/models--openai-whisper-large-v3:/data/models \\\n  /home/test/.blackfish/cache/images/speech-recognition-inference_0.2.1.sif \\\n  pipeline \\\n  /data/audio \\\n  --model-dir /data/models \\\n  --model-id openai/whisper-large-v3 \\\n  --revision 169d4a4341b33bc18d8881c4b69c2e104e1cc0af \\\n  --job-id 2a7a8e6240cc4240a825463e5b11a81f \\",
    "speech_recognition_slurm_gres_1": "#!/bin/bash\n\n#SBATCH --job-name=test\n#SBATCH --nodes=1\n#SBATCH --ntasks-per-node=1\n#SBATCH --mem=8G\n#SBATCH --time=00:30:00\n#SBATCH --gres=gpu:1\n#SBATCH --constraint=gpu80\n#SBATCH --partition=test\n\nexport APPTAINER_CACHEDIR=/scratch/gpfs/test/APPTAINER_CACHE\nexport APPTAINER_TMPDIR=/tmp\nexport APPTAINERENV_CUDA_VISIBLE_DEVICES=0\n\nport=$(comm -23 <(seq 8080 8899 | sort) <(ss -Htan | awk '{{print $4}}' | cut -d':' -f2 | sort -u) | shuf | head -n 1)\n\nmkdir /home/test/.blackfish/jobs/2a7a8e6240cc4240a825463e5b11a81f/$SLURM_JOB_ID\nmkdir /home/test/.blackfish/jobs/2a7a8e6240cc4240a825463e5b11a81f/$SLURM_JOB_ID/$port\n\n\nexport XDG_RUNTIME_DIR=\"\"\n\napptainer run  --nv \\\n  --bind /home/test:/data/audio \\\n  --bind /home/test/.blackfish/models/models--openai-whisper-large-v3:/data/models \\\n  /home/test/.blackfish/cache/images/speech-recognition-inference_0.2.1.sif \\\n  pipeline \\\n  /data/audio \\\n  --model-dir /data/models \\\n  --model-id openai/whisper-large-v3 \\\n  --revision 169d4a4341b33bc18d8881c4b69c2e104e1cc0af \\\n  --job-id 2a7a8e6240cc4240a825463e5b11a81f \\",
    "speech_recognition_slurm_gres_4": "#!/bin/bash\n\n#SBATCH --job-name=test\n#SBATCH --nodes=1\n#SBATCH --ntasks-per-node=1\n#SBATCH --mem=8G\n#SBATCH --time=00:30:00\n#SBATCH --gres=gpu:4\n#SBATCH --constraint=gpu80\n#SBATCH --partition=test\n\nexport APPTAINER_CACHEDIR=/scratch/gpfs/test/APPTAINER_CACHE\nexport APPTAINER_TMPDIR=/tmp\nexport APPTAINERENV_CUDA_VISIBLE_DEVICES=0,1,2,3\n\nport=$(comm -23 <(seq 8080 8899 | sort) <(ss -Htan | awk '{{print $4}}' | cut -d':' -f2 | sort -u) | shuf | head -n 1)\n\nmkdir /home/test/.blackfish/jobs/2a7a8e6240cc4240a825463e5b11a81f/$SLURM_JOB_ID\nmkdir /home/test/.blackfish/jobs/2a7a8e6240cc4240a825463e5b11a81f/$SLURM_JOB_ID/$port\n\n\nexport XDG_RUNTIME_DIR=\"\"\n\napptainer run  --nv \\\n  --bind /home/test:/data/audio \\\n  --bind /home/test/.blackfish/models/models--openai-whisper-large-v3:/data/models \\\n  /home/test/.blackfish/cache/images/speech-recognition-inference_0.2.1.sif \\\n  pipeline \\\n  /data/audio \\\n  --model-dir /data/models \\\n  --model-id openai/whisper-large-v3 \\\n  --revision 169d4a4341b33bc18d8881c4b69c2e104e1cc0af \\\n  --job-id 2a7a8e6240cc4240a825463e5b11a81f \\"
}
