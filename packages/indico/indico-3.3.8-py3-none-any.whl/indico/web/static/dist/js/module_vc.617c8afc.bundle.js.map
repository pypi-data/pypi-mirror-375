{"version":3,"file":"js/module_vc.617c8afc.bundle.js","mappings":"iHAWA,SAAUA,GAER,MAAMC,EAAKC,EAAAA,GAEXF,EAAOG,mBAAqB,WAC1BC,EAAE,qBAAqBC,GAAG,SAAS,SAASC,GAC1CA,EAAEC,iBACF,MAAMC,EAAQJ,EAAEK,MAChB,IAAIC,EAAOC,EAEX,SAASC,EAAQC,GACf,MAAMC,EAAOV,EAAE,UAAW,CACxBW,KAAM,SACNC,KAAM,aACNC,MAAOb,EAAE,eAAec,KAAK,aAE/Bd,EAAE,SAAU,CACVe,OAAQN,EACRO,OAAQ,SAEPC,OAAOP,GACPQ,SAAS,QACTC,QACL,CAEgC,IAA5Bf,EAAMgB,KAAK,cACbd,EAAQT,EAAG,0BACXU,EAAM,GAAGV,EAAG,wEAAwEA,EAClF,mFAEFU,GAAOH,EAAMgB,KAAK,YAClBC,cAAcd,EAAKD,GAAOgB,MAAK,KAC7Bd,EAAQJ,EAAMgB,KAAK,QAAQ,MAG7Bd,EAAQT,EAAG,0BACXU,EAAMV,EACH0B,SACC,IACA,oMAGAnB,EAAMgB,KAAK,cAEZI,OAAOpB,EAAMgB,KAAK,cACrBb,GAAOH,EAAMgB,KAAK,YAClBK,oBAAoBlB,EAAKD,EAAOT,EAAG,UAAWA,EAAG,WAAWyB,MAAKI,IAE/DlB,EADYmB,UAAUvB,EAAMgB,KAAK,QAAS,CAACQ,WAAuB,IAAXF,EAAe,IAAM,KAChE,IAGlB,IAEA1B,EAAE,sBAAsBC,GAAG,SAAS,SAASC,GAC3CA,EAAEC,iBACF,MAAMC,EAAQJ,EAAEK,MACVK,EAAOV,EAAE,UAAW,CACxBW,KAAM,SACNC,KAAM,aACNC,MAAOb,EAAE,eAAec,KAAK,aAE/Bd,EAAE,SAAU,CACVe,OAAQX,EAAMgB,KAAK,QACnBJ,OAAQ,SAEPC,OAAOP,GACPQ,SAAS,QACTC,QACL,IAEAnB,EAAE,0BAA0B6B,KAAK,CAC/BC,SAAShC,EAAAA,EAAAA,IACP,wGAEFiC,SAAU,CACRC,GAAI,aACJC,GAAI,mBAIRjC,EAAE,mBACCC,GAAG,SAAS,SAASC,GACpBA,EAAEC,iBACF,MAAMC,EAAQJ,EAAEK,MAEZD,EAAM8B,QAAQ,0BAA0BC,QAI5C/B,EACG8B,QAAQ,MACRE,KAAK,MACLC,KAAK,sBACLC,YAAY,CACXC,KAAAA,GACEnC,EAAMoC,YAAY,wBACpB,GAEN,IACCC,OAAO,gDACPZ,KAAK,CAACC,SAAShC,EAAAA,EAAAA,IAAG,qCAErBE,EAAE,qBAAqBC,GAAG,SAAS,WACjC,MAAMyC,EAAS1C,EAAEK,MACjBqC,EAAOF,YAAY,6BACnB,MAAMG,EAASD,EAAOE,SAAS,SAC/BD,EAAOE,KAAK,OAAgC,SAAxBF,EAAOE,KAAK,QAAqB,WAAa,OACpE,GACF,CACD,CA7GD,CA6GGC,O","sources":["webpack:///indico/modules/vc/client/js/index.js"],"sourcesContent":["// This file is part of Indico.\n// Copyright (C) 2002 - 2025 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\n/* global choiceConfirmPrompt:false, confirmPrompt:false, build_url:false */\n\nimport {$T} from 'indico/utils/i18n';\n\n(function(global) {\n  // TODO: Add plugin i18n\n  const $t = $T;\n\n  global.eventManageVCRooms = function() {\n    $('.js-vcroom-remove').on('click', function(e) {\n      e.preventDefault();\n      const $this = $(this);\n      let title, msg;\n\n      function execute(url) {\n        const csrf = $('<input>', {\n          type: 'hidden',\n          name: 'csrf_token',\n          value: $('#csrf-token').attr('content'),\n        });\n        $('<form>', {\n          action: url,\n          method: 'post',\n        })\n          .append(csrf)\n          .appendTo('body')\n          .submit();\n      }\n\n      if ($this.data('numEvents') === 1) {\n        title = $t('Delete videoconference');\n        msg = `${$t('Do you really want to remove this videoconference from the event?')} ${$t(\n          'Since it is only used in this event, it will be deleted from the server, too!'\n        )}`;\n        msg += $this.data('extraMsg');\n        confirmPrompt(msg, title).then(() => {\n          execute($this.data('href'));\n        });\n      } else {\n        title = $t('Detach videoconference');\n        msg = $t\n          .ngettext(\n            '*',\n            'This videoconference is used in other Indico events.<br>Do you want to \\\n            <strong>delete</strong> it from all {0} events or just <strong>detach</strong> \\\n            it from this event?',\n            $this.data('numEvents')\n          )\n          .format($this.data('numEvents'));\n        msg += $this.data('extraMsg');\n        choiceConfirmPrompt(msg, title, $t('Detach'), $t('Delete')).then(choice => {\n          const url = build_url($this.data('href'), {delete_all: choice === 2 ? '1' : ''});\n          execute(url);\n        });\n      }\n    });\n\n    $('.js-vcroom-refresh').on('click', function(e) {\n      e.preventDefault();\n      const $this = $(this);\n      const csrf = $('<input>', {\n        type: 'hidden',\n        name: 'csrf_token',\n        value: $('#csrf-token').attr('content'),\n      });\n      $('<form>', {\n        action: $this.data('href'),\n        method: 'post',\n      })\n        .append(csrf)\n        .appendTo('body')\n        .submit();\n    });\n\n    $('.vc-room-entry.deleted').qtip({\n      content: $T(\n        'This videoconference has been deleted and cannot be used. You can detach it from the event, however.'\n      ),\n      position: {\n        my: 'top center',\n        at: 'bottom center',\n      },\n    });\n\n    $('.toggle-details')\n      .on('click', function(e) {\n        e.preventDefault();\n        const $this = $(this);\n\n        if ($this.closest('.vc-room-entry.deleted').length) {\n          return;\n        }\n\n        $this\n          .closest('tr')\n          .next('tr')\n          .find('.details-container')\n          .slideToggle({\n            start() {\n              $this.toggleClass('icon-next icon-expand');\n            },\n          });\n      })\n      .filter('.vc-room-entry:not(.deleted) .toggle-details')\n      .qtip({content: $T('Click to toggle collapse status')});\n\n    $('.toggle .i-button').on('click', function() {\n      const toggle = $(this);\n      toggle.toggleClass('icon-eye icon-eye-blocked');\n      const $input = toggle.siblings('input');\n      $input.prop('type', $input.prop('type') === 'text' ? 'password' : 'text');\n    });\n  };\n})(window);\n"],"names":["global","$t","$T","eventManageVCRooms","$","on","e","preventDefault","$this","this","title","msg","execute","url","csrf","type","name","value","attr","action","method","append","appendTo","submit","data","confirmPrompt","then","ngettext","format","choiceConfirmPrompt","choice","build_url","delete_all","qtip","content","position","my","at","closest","length","next","find","slideToggle","start","toggleClass","filter","toggle","$input","siblings","prop","window"],"sourceRoot":""}