Metadata-Version: 2.4
Name: nano-banana
Version: 0.3.0
Summary: Generates images using the Google Gemini API.
Project-URL: Homepage, https://github.com/yourusername/nano-banana
Project-URL: Bug Tracker, https://github.com/yourusername/nano-banana/issues
Author-email: Simen AI <hi@simen.ai>
Keywords: ai,gemini,image-analysis,image-generation,nano_banana,text-to-image
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Requires-Dist: openai>=1.106.1
Description-Content-Type: text/markdown

# nano-banana ðŸŒ

åŸºäºŽ Google Gemini 2.5 Flash Image çš„ Python åŒ…è£…å™¨ï¼Œé€šè¿‡ OpenAI å…¼å®¹æŽ¥å£è°ƒç”¨å›¾åƒç”Ÿæˆå’Œåˆ†æžåŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ðŸŽ¨ **æ–‡æœ¬ç”Ÿæˆå›¾ç‰‡**: ä½¿ç”¨ `gemini-2.5-flash-image` æ¨¡åž‹ä»Žæ–‡æœ¬ç”Ÿæˆå›¾ç‰‡
- ðŸ”„ **å›¾ç‰‡åˆ°å›¾ç‰‡**: åŸºäºŽå‚è€ƒå›¾ç‰‡è¿›è¡Œç¼–è¾‘å’Œåˆ›ä½œ
- ðŸ” **å›¾ç‰‡åˆ†æž**: ä½¿ç”¨ `gemini-2.5-flash` æ¨¡åž‹åˆ†æžå›¾ç‰‡å†…å®¹
- ðŸ–¼ï¸ **å¤šç§è¾“å…¥æ ¼å¼**: æ”¯æŒURLã€æœ¬åœ°æ–‡ä»¶ã€å¤šå¼ å›¾ç‰‡è¾“å…¥
- ðŸš€ **ç®€å•æŽ¥å£**: æä¾›ç±»å’Œå‡½æ•°ä¸¤ç§è°ƒç”¨æ–¹å¼

## å®‰è£…

```bash
# æŽ¨èä½¿ç”¨ uv
uv add nano-banana

# æˆ–ä½¿ç”¨ pip
pip install nano-banana
```

## å¿«é€Ÿå¼€å§‹

### è®¾ç½® API å¯†é’¥

```bash
export SIMEN_AI_API_KEY="your-simen-ai-api-key"
export SIMEN_BASEURL="https://api.simen.ai/v1"
```

### åŸºæœ¬ç”¨æ³•

```python
import nano_banana as nb

# 1. æ–‡æœ¬ç”Ÿæˆå›¾ç‰‡
result = nb.text_to_image("ä¸€åªå¯çˆ±çš„æ©™è‰²å°çŒ«ååœ¨èŠ±å›­é‡Œ")
print(f"æˆåŠŸ: {result['success']}")
print(f"å›¾ç‰‡URL: {result['urls']}")

# 2. å›¾ç‰‡åˆ†æž
analysis = nb.analyze(
    "https://example.com/image.jpg", 
    "è¿™å¼ å›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆç‰©ä½“ï¼Ÿ"
)
print(analysis)

# 3. å›¾ç‰‡åˆ°å›¾ç‰‡è½¬æ¢
result = nb.image_to_image(
    "æŠŠè¿™å¼ å›¾ç‰‡è½¬æ¢æˆå¡é€šé£Žæ ¼", 
    "path/to/your/image.jpg"
)
print(f"ç”Ÿæˆçš„å›¾ç‰‡: {result['urls']}")
```

## API å‚è€ƒ

### è¿”å›žå€¼æ ¼å¼è¯¦è§£

#### text_to_image() å’Œ image_to_image() è¿”å›žå€¼

è¿™ä¸¤ä¸ªå‡½æ•°è¿”å›žä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š

```python
{
    "success": bool,           # æ˜¯å¦æˆåŠŸæå–åˆ°å›¾ç‰‡URL
    "urls": List[str],         # æå–åˆ°çš„å›¾ç‰‡URLåˆ—è¡¨ï¼ˆå¯èƒ½ä¸ºç©ºï¼‰
    "raw_response": str,       # AIæ¨¡åž‹çš„åŽŸå§‹æ–‡æœ¬å“åº”
    "message": str            # çŠ¶æ€ä¿¡æ¯
}
```

**å®žé™…ç¤ºä¾‹ï¼š**
```python
# æˆåŠŸæƒ…å†µ
{
    "success": True,
    "urls": ["https://storage.googleapis.com/generated-image.png"],
    "raw_response": "æˆ‘å·²ç»ä¸ºæ‚¨ç”Ÿæˆäº†ä¸€å¼ å›¾ç‰‡...\n![å›¾ç‰‡](https://storage.googleapis.com/generated-image.png)",
    "message": "æˆåŠŸç”Ÿæˆå›¾ç‰‡"
}

# å¤±è´¥æƒ…å†µï¼ˆæœªæå–åˆ°URLï¼‰
{
    "success": False,
    "urls": [],
    "raw_response": "æŠ±æ­‰ï¼Œæˆ‘æ— æ³•ç”Ÿæˆè¿™ç±»å›¾ç‰‡...",
    "message": "æœªæ‰¾åˆ°å›¾ç‰‡URLï¼Œè¯·æ£€æŸ¥å“åº”å†…å®¹"
}
```

#### analyze() è¿”å›žå€¼

è¿”å›žçº¯æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œæ˜¯AIå¯¹å›¾ç‰‡çš„åˆ†æžç»“æžœï¼š

```python
"è¿™å¼ å›¾ç‰‡æ˜¾ç¤ºäº†ä¸€åªæ©™è‰²çš„å°çŒ«ååœ¨èŠ±å›­é‡Œï¼Œå‘¨å›´æœ‰ç»¿è‰²çš„æ¤ç‰©å’Œé²œèŠ±ã€‚çŒ«å’ªçœ‹èµ·æ¥å¾ˆå¯çˆ±ï¼Œçœ¼ç¥žä¸“æ³¨åœ°çœ‹å‘é•œå¤´ã€‚"
```

### NanoBanana ç±»

```python
from nano_banana import NanoBanana

# åˆå§‹åŒ–ï¼ˆå‚æ•°å¯é€‰ï¼Œä¼˜å…ˆè¯»å–çŽ¯å¢ƒå˜é‡ï¼‰
client = NanoBanana(api_key="your-api-key", base_url="your-base-url")
```

#### text_to_image(prompt: str) -> Dict[str, Any]

ä»Žæ–‡æœ¬æè¿°ç”Ÿæˆå›¾ç‰‡ã€‚

**å‚æ•°ï¼š**
- `prompt`: å›¾ç‰‡ç”ŸæˆæŒ‡ä»¤ï¼ˆä¸­æ–‡æˆ–è‹±æ–‡ï¼‰

#### image_to_image(prompt: str, reference_images: Union[str, Path, List]) -> Dict[str, Any]

åŸºäºŽå‚è€ƒå›¾ç‰‡ç”Ÿæˆæ–°å›¾ç‰‡ã€‚

**å‚æ•°ï¼š**
- `prompt`: å›¾ç‰‡ç¼–è¾‘/ç”ŸæˆæŒ‡ä»¤
- `reference_images`: å‚è€ƒå›¾ç‰‡ï¼Œæ”¯æŒï¼š
  - å•å¼ å›¾ç‰‡ï¼š`"image.jpg"` æˆ– `"https://example.com/image.jpg"`
  - å¤šå¼ å›¾ç‰‡ï¼š`["img1.jpg", "img2.png"]`
  - æ··åˆæ ¼å¼ï¼š`["local.jpg", "https://url.com/remote.png"]`

#### analyze(image: Union[str, Path, List], question: str = "æè¿°å›¾ç‰‡") -> str

åˆ†æžå›¾ç‰‡å†…å®¹ã€‚

**å‚æ•°ï¼š**
- `image`: å›¾ç‰‡è¾“å…¥ï¼ˆæ ¼å¼åŒ `reference_images`ï¼‰
- `question`: åˆ†æžé—®é¢˜ï¼ˆé»˜è®¤ä¸º"æè¿°å›¾ç‰‡"ï¼‰

### ä¾¿æ·å‡½æ•°

æ— éœ€åˆ›å»ºç±»å®žä¾‹ï¼Œç›´æŽ¥è°ƒç”¨ï¼š

```python
import nano_banana as nb

result = nb.text_to_image("ä¸€åªçŒ«")
result = nb.image_to_image("è½¬æˆå¡é€šé£Žæ ¼", "photo.jpg")
analysis = nb.analyze("photo.jpg", "è¿™æ˜¯ä»€ä¹ˆåŠ¨ç‰©ï¼Ÿ")
```

## å®žé™…ä½¿ç”¨ç¤ºä¾‹

### å¤„ç†è¿”å›žç»“æžœçš„æ­£ç¡®æ–¹å¼

```python
import nano_banana as nb

# æ–‡æœ¬ç”Ÿæˆå›¾ç‰‡
result = nb.text_to_image("ä¸€åªå¯çˆ±çš„æ©™è‰²å°çŒ«")

# æ£€æŸ¥æ˜¯å¦æˆåŠŸ
if result['success']:
    print(f"âœ… æˆåŠŸç”Ÿæˆ {len(result['urls'])} å¼ å›¾ç‰‡:")
    for i, url in enumerate(result['urls']):
        print(f"  å›¾ç‰‡ {i+1}: {url}")
else:
    print(f"âŒ ç”Ÿæˆå¤±è´¥: {result['message']}")
    print(f"åŽŸå§‹å“åº”: {result['raw_response']}")
```

### å›¾ç‰‡ç¼–è¾‘å’Œé£Žæ ¼è½¬æ¢

```python
# å•å¼ å‚è€ƒå›¾
result = nb.image_to_image(
    "è½¬æ¢æˆå¡é€šåŠ¨æ¼«é£Žæ ¼", 
    "selfie.jpg"
)

# å¤šå¼ å‚è€ƒå›¾
result = nb.image_to_image(
    "ç»“åˆè¿™äº›å›¾ç‰‡çš„å…ƒç´ åˆ›ä½œæ–°å›¾ç‰‡",
    ["style_reference.jpg", "content_image.png", "https://example.com/inspiration.jpg"]
)

# å¤„ç†ç»“æžœ
if result['success'] and result['urls']:
    print(f"ç”Ÿæˆçš„å›¾ç‰‡URL: {result['urls'][0]}")
else:
    print("å¯èƒ½éœ€è¦æ£€æŸ¥AIå“åº”æ ¼å¼:")
    print(result['raw_response'])
```

### å›¾ç‰‡åˆ†æž

```python
# ç®€å•åˆ†æž
description = nb.analyze("photo.jpg")
print(f"å›¾ç‰‡æè¿°: {description}")

# ç‰¹å®šé—®é¢˜åˆ†æž
answer = nb.analyze(
    "product_image.jpg", 
    "è¿™ä¸ªäº§å“çš„ä¸»è¦ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿé€‚åˆä»€ä¹ˆäººç¾¤ä½¿ç”¨ï¼Ÿ"
)
print(f"äº§å“åˆ†æž: {answer}")

# å¤šå›¾å¯¹æ¯”
comparison = nb.analyze(
    ["before.jpg", "after.jpg"],
    "å¯¹æ¯”è¿™ä¸¤å¼ å›¾ç‰‡ï¼Œè¯´æ˜Žæœ‰ä»€ä¹ˆå˜åŒ–"
)
print(f"å¯¹æ¯”ç»“æžœ: {comparison}")
```

### é”™è¯¯å¤„ç†å’Œè°ƒè¯•

```python
import nano_banana as nb

try:
    result = nb.text_to_image("ç”Ÿæˆä¸€å¼ é£Žæ™¯å›¾")
    
    if not result['success']:
        # URLæå–å¤±è´¥ï¼Œä½†APIè°ƒç”¨æˆåŠŸ
        print("âš ï¸  APIè°ƒç”¨æˆåŠŸï¼Œä½†æœªæ‰¾åˆ°å›¾ç‰‡URL")
        print("åŽŸå§‹å“åº”å†…å®¹:")
        print(result['raw_response'])
        print("\nðŸ’¡ å¯èƒ½éœ€è¦æ‰‹åŠ¨ä»Žå“åº”ä¸­æå–URL")
    else:
        print(f"âœ… æˆåŠŸ: {result['urls']}")
        
except FileNotFoundError as e:
    print(f"âŒ æ–‡ä»¶æœªæ‰¾åˆ°: {e}")
except Exception as e:
    print(f"âŒ APIè°ƒç”¨å¤±è´¥: {e}")
```

## é‡è¦è¯´æ˜Ž

### URLæå–æœºåˆ¶

æœ¬åŒ…ä¼šè‡ªåŠ¨ä»ŽAIå“åº”ä¸­æå–å›¾ç‰‡URLï¼Œæ”¯æŒï¼š
- Markdownæ ¼å¼ï¼š`![æè¿°](https://url.com/image.png)`
- ç›´æŽ¥URLï¼š`https://url.com/image.jpg`

å¦‚æžœ `success` ä¸º `False`ï¼Œè¯´æ˜Žæ²¡æœ‰ä»Žå“åº”ä¸­æå–åˆ°URLï¼Œä½†ä¸ä»£è¡¨APIè°ƒç”¨å¤±è´¥ã€‚ä½ å¯ä»¥æŸ¥çœ‹ `raw_response` å­—æ®µèŽ·å–å®Œæ•´çš„AIå“åº”å†…å®¹ã€‚

### çŽ¯å¢ƒå˜é‡é…ç½®

```bash
# SIMEN AI (æŽ¨è)
export SIMEN_AI_API_KEY="your-simen-ai-key"
export SIMEN_BASEURL="https://api.simen.ai/v1"

# æˆ–è€…ä½¿ç”¨ OpenAI 
export OPENAI_API_KEY="your-openai-key"
# OPENAI_API_KEY æ—¶ä¸éœ€è¦è®¾ç½® base_url
```

### æ”¯æŒçš„å›¾ç‰‡æ ¼å¼

- **è¾“å…¥**ï¼šJPG, PNG, GIF, WebP (æœ¬åœ°æ–‡ä»¶æˆ–URL)
- **è¾“å‡º**ï¼šå–å†³äºŽAIæ¨¡åž‹è¿”å›žçš„URLæ ¼å¼

## ç³»ç»Ÿè¦æ±‚

- Python 3.8+
- ä¾èµ–ï¼š`openai>=1.106.1`
- APIå¯†é’¥ï¼šSIMEN AI æˆ– OpenAI

## License

MIT License