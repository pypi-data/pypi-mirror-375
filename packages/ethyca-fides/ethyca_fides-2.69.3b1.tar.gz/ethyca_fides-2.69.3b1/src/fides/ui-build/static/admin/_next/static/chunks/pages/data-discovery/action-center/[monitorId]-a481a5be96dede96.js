(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2423],{74833:function(e,t,a){var n=a(56127),s=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(s,""):e}},56632:function(e,t,a){var n=a(89278),s=a(80068),i=a(50098);e.exports=function(e){return function(t,a,r){var o=Object(t);if(!s(t)){var l=n(a,3);t=i(t),a=function(e){return l(o[e],e,o)}}var u=e(t,a,r);return u>-1?o[l?t[u]:u]:void 0}}},56127:function(e){var t=/\s/;e.exports=function(e){for(var a=e.length;a--&&t.test(e.charAt(a)););return a}},66726:function(e,t,a){var n=a(11611),s=a(82846),i=a(91936),r=Math.max,o=Math.min;e.exports=function(e,t,a){var l,u,_,c,d,F,m=0,v=!1,S=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function f(t){var a=l,n=u;return l=u=void 0,m=t,c=e.apply(n,a)}function p(e){var a=e-F,n=e-m;return void 0===F||a>=t||a<0||S&&n>=_}function h(){var e,a,n,i=s();if(p(i))return A(i);d=setTimeout(h,(e=i-F,a=i-m,n=t-e,S?o(n,_-a):n))}function A(e){return(d=void 0,y&&l)?f(e):(l=u=void 0,c)}function g(){var e,a=s(),n=p(a);if(l=arguments,u=this,F=a,n){if(void 0===d)return m=e=F,d=setTimeout(h,t),v?f(e):c;if(S)return clearTimeout(d),d=setTimeout(h,t),f(F)}return void 0===d&&(d=setTimeout(h,t)),c}return t=i(t)||0,n(a)&&(v=!!a.leading,_=(S="maxWait"in a)?r(i(a.maxWait)||0,t):_,y="trailing"in a?!!a.trailing:y),g.cancel=function(){void 0!==d&&clearTimeout(d),m=0,l=F=u=d=void 0},g.flush=function(){return void 0===d?c:A(s())},g}},64925:function(e,t,a){var n=a(56632)(a(66259));e.exports=n},66259:function(e,t,a){var n=a(95372),s=a(89278),i=a(47991),r=Math.max;e.exports=function(e,t,a){var o=null==e?0:e.length;if(!o)return -1;var l=null==a?0:i(a);return l<0&&(l=r(o+l,0)),n(e,s(t,3),l)}},82846:function(e,t,a){var n=a(77400);e.exports=function(){return n.Date.now()}},94919:function(e,t,a){var n=a(91936),s=1/0;e.exports=function(e){return e?(e=n(e))===s||e===-s?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},47991:function(e,t,a){var n=a(94919);e.exports=function(e){var t=n(e),a=t%1;return t==t?a?t-a:t:0}},91936:function(e,t,a){var n=a(74833),s=a(11611),i=a(55193),r=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,_=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return r;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var a=l.test(e);return a||u.test(e)?_(e.slice(2),a?2:8):o.test(e)?r:+e}},86850:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-discovery/action-center/[monitorId]",function(){return a(12109)}])},30952:function(e,t,a){"use strict";a.d(t,{f:function(){return l}});var n=a(24246),s=a(66726),i=a.n(s),r=a(27378),o=a(26917);let l=e=>{let{value:t,onChange:a,placeholder:s,...l}=e,[u,_]=(0,r.useState)(t);(0,r.useEffect)(()=>{_(t||"")},[t]);let c=i()(a,500),d=(0,r.useCallback)(e=>{_(e),c(e)},[]);return(0,n.jsx)(o.Z,{value:u,onChange:d,onClear:()=>{_(""),a("")},placeholder:s,...l})}},26089:function(e,t,a){"use strict";var n=a(24246),s=a(96306),i=a(99830),r=a.n(i);t.Z=e=>{let{onClick:t,children:a}=e;return(0,n.jsx)(s.wpx,{onClick:t,type:"link",role:"link",size:"small",className:r().toastLink,children:a})}},8411:function(e,t,a){"use strict";a.d(t,{NA:function(){return i},Z8:function(){return s}});var n=a(21910);let s={[n._F.ER]:"Eritrea",[n._F.DJ]:"Djibouti",[n._F.MR]:"Mauritania",[n._F.NA]:"Namibia",[n._F.GH]:"Ghana",[n._F.SS]:"South Sudan",[n._F.SC]:"Seychelles",[n._F.IO]:"British Indian Ocean Territory",[n._F.GQ]:"Equatorial Guinea",[n._F.AO]:"Angola",[n._F.CG]:"Republic of the Congo",[n._F.BW]:"Botswana",[n._F.BI]:"Burundi",[n._F.DZ]:"Algeria",[n._F.TD]:"Chad",[n._F.NG]:"Nigeria",[n._F.TZ]:"Tanzania",[n._F.EH]:"Western Sahara",[n._F.SN]:"Senegal",[n._F.LR]:"Liberia",[n._F.ZA]:"South Africa",[n._F.CV]:"Cape Verde",[n._F.GM]:"Gambia",[n._F.SD]:"Sudan",[n._F.KM]:"Comoros",[n._F.SZ]:"Eswatini",[n._F.UG]:"Uganda",[n._F.MG]:"Madagascar",[n._F.RW]:"Rwanda",[n._F.CD]:"DR Congo",[n._F.CM]:"Cameroon",[n._F.SH]:"Saint Helena, Ascension and Tristan da Cunha",[n._F.TG]:"Togo",[n._F.MU]:"Mauritius",[n._F.NE]:"Niger",[n._F.BJ]:"Benin",[n._F.EG]:"Egypt",[n._F.LS]:"Lesotho",[n._F.ET]:"Ethiopia",[n._F.MA]:"Morocco",[n._F.YT]:"Mayotte",[n._F.BF]:"Burkina Faso",[n._F.RE]:"R\xe9union",[n._F.ST]:"S\xe3o Tom\xe9 and Pr\xedncipe",[n._F.CF]:"Central African Republic",[n._F.MZ]:"Mozambique",[n._F.MW]:"Malawi",[n._F.ML]:"Mali",[n._F.ZM]:"Zambia",[n._F.LY]:"Libya",[n._F.GW]:"Guinea-Bissau",[n._F.SO]:"Somalia",[n._F.KE]:"Kenya",[n._F.GN]:"Guinea",[n._F.ZW]:"Zimbabwe",[n._F.TN]:"Tunisia",[n._F.SL]:"Sierra Leone",[n._F.GA]:"Gabon",[n._F.CI]:"Ivory Coast",[n._F.JO]:"Jordan",[n._F.PK]:"Pakistan",[n._F.KP]:"North Korea",[n._F.MO]:"Macau",[n._F.AM]:"Armenia",[n._F.SY]:"Syria",[n._F.TJ]:"Tajikistan",[n._F.SA]:"Saudi Arabia",[n._F.KR]:"South Korea",[n._F.NP]:"Nepal",[n._F.PH]:"Philippines",[n._F.IQ]:"Iraq",[n._F.LB]:"Lebanon",[n._F.MN]:"Mongolia",[n._F.PS]:"Palestine",[n._F.YE]:"Yemen",[n._F.JP]:"Japan",[n._F.KZ]:"Kazakhstan",[n._F.LK]:"Sri Lanka",[n._F.MM]:"Myanmar",[n._F.KG]:"Kyrgyzstan",[n._F.CN]:"China",[n._F.AF]:"Afghanistan",[n._F.OM]:"Oman",[n._F.IN]:"India",[n._F.LA]:"Laos",[n._F.UZ]:"Uzbekistan",[n._F.MV]:"Maldives",[n._F.ID]:"Indonesia",[n._F.VN]:"Vietnam",[n._F.MY]:"Malaysia",[n._F.TW]:"Taiwan",[n._F.KH]:"Cambodia",[n._F.AE]:"United Arab Emirates",[n._F.HK]:"Hong Kong",[n._F.GE]:"Georgia (Country)",[n._F.BD]:"Bangladesh",[n._F.KW]:"Kuwait",[n._F.TM]:"Turkmenistan",[n._F.QA]:"Qatar",[n._F.BH]:"Bahrain",[n._F.BN]:"Brunei",[n._F.TH]:"Thailand",[n._F.BT]:"Bhutan",[n._F.SG]:"Singapore",[n._F.IL]:"Israel",[n._F.AZ]:"Azerbaijan",[n._F.TL]:"Timor-Leste",[n._F.IR]:"Iran",[n._F.TR]:"Turkey",[n._F.MK]:"North Macedonia",[n._F.IE]:"Ireland",[n._F.DK]:"Denmark",[n._F.SK]:"Slovakia",[n._F.MD]:"Moldova",[n._F.AX]:"\xc5land Islands",[n._F.PL]:"Poland",[n._F.BA]:"Bosnia and Herzegovina",[n._F.SM]:"San Marino",[n._F.CZ]:"Czechia",[n._F.EE]:"Estonia",[n._F.XK]:"Kosovo",[n._F.FO]:"Faroe Islands",[n._F.SJ]:"Svalbard and Jan Mayen",[n._F.GG]:"Guernsey",[n._F.FR]:"France",[n._F.NL]:"Netherlands",[n._F.FI]:"Finland",[n._F.PT]:"Portugal",[n._F.DE]:"Germany",[n._F.MT]:"Malta",[n._F.JE]:"Jersey",[n._F.IS]:"Iceland",[n._F.ES]:"Spain",[n._F.GI]:"Gibraltar",[n._F.NO]:"Norway",[n._F.CY]:"Cyprus",[n._F.RS]:"Serbia",[n._F.LT]:"Lithuania",[n._F.MC]:"Monaco",[n._F.LU]:"Luxembourg",[n._F.UA]:"Ukraine",[n._F.IM]:"Isle of Man",[n._F.RO]:"Romania",[n._F.BE]:"Belgium",[n._F.SE]:"Sweden",[n._F.ME]:"Montenegro",[n._F.LV]:"Latvia",[n._F.VA]:"Vatican City",[n._F.AT]:"Austria",[n._F.AL]:"Albania",[n._F.LI]:"Liechtenstein",[n._F.GR]:"Greece",[n._F.IT]:"Italy",[n._F.AD]:"Andorra",[n._F.GB]:"United Kingdom",[n._F.RU]:"Russia",[n._F.SI]:"Slovenia",[n._F.BY]:"Belarus",[n._F.CH]:"Switzerland",[n._F.HU]:"Hungary",[n._F.BG]:"Bulgaria",[n._F.HR]:"Croatia",[n._F.TC]:"Turks and Caicos Islands",[n._F.CW]:"Cura\xe7ao",[n._F.GP]:"Guadeloupe",[n._F.UM]:"United States Minor Outlying Islands",[n._F.GT]:"Guatemala",[n._F.PM]:"Saint Pierre and Miquelon",[n._F.BQ]:"Caribbean Netherlands",[n._F.GL]:"Greenland",[n._F.SX]:"Sint Maarten",[n._F.PA]:"Panama",[n._F.AW]:"Aruba",[n._F.MQ]:"Martinique",[n._F.AG]:"Antigua and Barbuda",[n._F.BM]:"Bermuda",[n._F.CU]:"Cuba",[n._F.GD]:"Grenada",[n._F.NI]:"Nicaragua",[n._F.LC]:"Saint Lucia",[n._F.KN]:"Saint Kitts and Nevis",[n._F.DO]:"Dominican Republic",[n._F.VC]:"Saint Vincent and the Grenadines",[n._F.BZ]:"Belize",[n._F.HT]:"Haiti",[n._F.JM]:"Jamaica",[n._F.BS]:"Bahamas",[n._F.MX]:"Mexico",[n._F.MF]:"Saint Martin",[n._F.SV]:"El Salvador",[n._F.BL]:"Saint Barth\xe9lemy",[n._F.AI]:"Anguilla",[n._F.MS]:"Montserrat",[n._F.VG]:"British Virgin Islands",[n._F.BB]:"Barbados",[n._F.HN]:"Honduras",[n._F.KY]:"Cayman Islands",[n._F.DM]:"Dominica",[n._F.TT]:"Trinidad and Tobago",[n._F.CR]:"Costa Rica",[n._F.SR]:"Suriname",[n._F.CX]:"Christmas Island",[n._F.WS]:"Samoa",[n._F.PF]:"French Polynesia",[n._F.AS]:"American Samoa",[n._F.NC]:"New Caledonia",[n._F.TK]:"Tokelau",[n._F.PW]:"Palau",[n._F.KI]:"Kiribati",[n._F.VU]:"Vanuatu",[n._F.PN]:"Pitcairn Islands",[n._F.CK]:"Cook Islands",[n._F.FJ]:"Fiji",[n._F.PG]:"Papua New Guinea",[n._F.MP]:"Northern Mariana Islands",[n._F.NU]:"Niue",[n._F.TV]:"Tuvalu",[n._F.NF]:"Norfolk Island",[n._F.TO]:"Tonga",[n._F.FM]:"Micronesia",[n._F.SB]:"Solomon Islands",[n._F.NR]:"Nauru",[n._F.WF]:"Wallis and Futuna",[n._F.GU]:"Guam",[n._F.AU]:"Australia",[n._F.NZ]:"New Zealand",[n._F.MH]:"Marshall Islands",[n._F.CC]:"Cocos (Keeling) Islands",[n._F.VE]:"Venezuela",[n._F.PY]:"Paraguay",[n._F.BR]:"Brazil",[n._F.CO]:"Colombia",[n._F.PE]:"Peru",[n._F.CL]:"Chile",[n._F.UY]:"Uruguay",[n._F.AR]:"Argentina",[n._F.GY]:"Guyana",[n._F.BO]:"Bolivia",[n._F.GF]:"French Guiana",[n._F.EC]:"Ecuador",[n._F.FK]:"Falkland Islands",[n._F.US_AL]:"Alabama",[n._F.US_AK]:"Alaska",[n._F.US_AZ]:"Arizona",[n._F.US_AR]:"Arkansas",[n._F.US_CA]:"California",[n._F.US_CO]:"Colorado",[n._F.US_CT]:"Connecticut",[n._F.US_DE]:"Delaware",[n._F.US_DC]:"District of Columbia (DC)",[n._F.US_FL]:"Florida",[n._F.US_GA]:"Georgia",[n._F.US_HI]:"Hawaii",[n._F.US_ID]:"Idaho",[n._F.US_IL]:"Illinois",[n._F.US_IN]:"Indiana",[n._F.US_IA]:"Iowa",[n._F.US_KS]:"Kansas",[n._F.US_KY]:"Kentucky",[n._F.US_LA]:"Louisiana",[n._F.US_ME]:"Maine",[n._F.US_MD]:"Maryland",[n._F.US_MA]:"Massachusetts",[n._F.US_MI]:"Michigan",[n._F.US_MN]:"Minnesota",[n._F.US_MS]:"Mississippi",[n._F.US_MO]:"Missouri",[n._F.US_MT]:"Montana",[n._F.US_NE]:"Nebraska",[n._F.US_NV]:"Nevada",[n._F.US_NH]:"New Hampshire",[n._F.US_NJ]:"New Jersey",[n._F.US_NM]:"New Mexico",[n._F.US_NY]:"New York",[n._F.US_NC]:"North Carolina",[n._F.US_ND]:"North Dakota",[n._F.US_OH]:"Ohio",[n._F.US_OK]:"Oklahoma",[n._F.US_OR]:"Oregon",[n._F.US_PA]:"Pennsylvania",[n._F.US_PR]:"Puerto Rico",[n._F.US_RI]:"Rhode Island",[n._F.US_SC]:"South Carolina",[n._F.US_SD]:"South Dakota",[n._F.US_TN]:"Tennessee",[n._F.US_TX]:"Texas",[n._F.US_UT]:"Utah",[n._F.US_VA]:"Virginia",[n._F.US_VI]:"United States Virgin Islands",[n._F.US_VT]:"Vermont",[n._F.US_WA]:"Washington",[n._F.US_WV]:"West Virginia",[n._F.US_WI]:"Wisconsin",[n._F.US_WY]:"Wyoming",[n._F.CA_AB]:"Alberta",[n._F.CA_BC]:"British Columbia",[n._F.CA_MB]:"Manitoba",[n._F.CA_NB]:"New Brunswick",[n._F.CA_NL]:"Newfoundland and Labrador",[n._F.CA_NS]:"Nova Scotia",[n._F.CA_ON]:"Ontario",[n._F.CA_PE]:"Prince Edward Island",[n._F.CA_QC]:"Quebec",[n._F.CA_SK]:"Saskatchewan",[n._F.CA_NT]:"Northwest Territories",[n._F.CA_NU]:"Nunavut",[n._F.CA_YT]:"Yukon",[n._F.CA]:"Canada",[n._F.US]:"United States",[n._F.MEXICO_CENTRAL_AMERICA]:"Mexico and Central America",[n._F.CARIBBEAN]:"Caribbean",[n._F.EEA]:"European Economic Area (EEA)",[n._F.NON_EEA]:"Non European Economic Area",[n._F.GLOBAL]:"Global"},i=new Map(Object.entries(s));Object.entries(s).map(e=>({value:e[0],label:e[1]}))},25415:function(e,t,a){"use strict";a.d(t,{a:function(){return i}});var n=a(24246);let{Text:s}=a(96306).AntTypography,i=e=>{let{count:t}=e;return(0,n.jsx)(s,{size:"sm",strong:!0,"data-testid":"selected-count",children:"".concat(t," selected")})}},99640:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n=a(24246),s=a(96306),i=a(79894),r=a.n(i);let{Link:o,Text:l}=s.AntTypography,u=e=>{let{href:t,children:a,...s}=e;return t?(0,n.jsx)(r(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,n.jsx)(o,{strong:!0,ellipsis:!0,onClick:e=>e.stopPropagation(),...s,children:a})}):(0,n.jsx)(l,{strong:!0,ellipsis:!0,...s,children:a})}},14908:function(e,t,a){"use strict";var n=a(86677),s=a(27378);let i=e=>e.startsWith("#")?e.slice(1):e;t.Z=e=>{let{tabKeys:t,initialTab:a}=e,r=(0,n.useRouter)(),o=r.asPath.split("#")[1]||t[0],[l,u]=(0,s.useState)(o);return(0,s.useEffect)(()=>{a&&t.includes(a)&&u(a)},[a,t,r.isReady]),{activeTab:l,onTabChange:(0,s.useCallback)(async e=>{if(!t.includes(e)){await r.replace({pathname:r.pathname,query:r.query,hash:void 0}),u(t[0]);return}r.isReady&&(await r.replace({pathname:r.pathname,query:r.query,hash:i(e)},void 0,{shallow:!0}),u(e))},[r,t])}}},54762:function(e,t,a){"use strict";a.d(t,{l:function(){return o}});var n=a(24246),s=a(96306),i=a(62165),r=a(21910);let o=e=>{let{consentStatus:t}=e,{flags:a}=(0,i.hz)(),{assetConsentStatusLabels:o}=a;return o&&(null==t?void 0:t.status)===r.pF.ALERT?(0,n.jsx)(s.esZ,{title:null==t?void 0:t.message,"data-testid":"discovery-status-icon-alert-tooltip",children:(0,n.jsx)("div",{className:"mb-px","data-testid":"discovery-status-icon-alert",children:(0,n.jsx)(s.PJP.OdJ,{style:{color:"var(--fidesui-error)"}})})}):null}},9320:function(e,t,a){"use strict";a.d(t,{_:function(){return i}});var n=a(24246),s=a(26089);let i=(e,t)=>(0,n.jsxs)(n.Fragment,{children:[e," ",t&&(0,n.jsx)(s.Z,{onClick:t,children:"View"})]})},37059:function(e,t,a){"use strict";a.d(t,{Ak:function(){return S},EY:function(){return d},Tj:function(){return m},Ud:function(){return o},Vr:function(){return y},WJ:function(){return u},mi:function(){return f},nP:function(){return c},nS:function(){return F},rs:function(){return _},sX:function(){return v},ut:function(){return p},wi:function(){return l}});var n=a(78780),s=a(16394),i=a(21910),r=a(98145);let{useGetAggregateMonitorResultsQuery:o,useGetDiscoveredSystemAggregateQuery:l,useGetDiscoveredAssetsQuery:u,useAddMonitorResultSystemsMutation:_,useIgnoreMonitorResultSystemsMutation:c,useAddMonitorResultAssetsMutation:d,useIgnoreMonitorResultAssetsMutation:F,useRestoreMonitorResultAssetsMutation:m,useUpdateAssetsSystemMutation:v,useUpdateAssetsDataUseMutation:S,useUpdateAssetsMutation:y,useGetConsentBreakdownQuery:f,useGetWebsiteMonitorResourceFiltersQuery:p}=n.u.injectEndpoints({endpoints:e=>({getAggregateMonitorResults:e.query({query:e=>{let{page:t=1,size:a=20,search:n}=e;return{url:"/plus/discovery-monitor/aggregate-results",params:{page:t,size:a,search:n,diff_status:"addition"}}},providesTags:["Discovery Monitor Results"]}),getDiscoveredSystemAggregate:e.query({query:e=>{let{key:t,page:a=1,size:n=20,search:s,diff_status:i}=e;return{url:"/plus/discovery-monitor/system-aggregate-results",params:{monitor_config_id:t,page:a,size:n,search:s,diff_status:i}}},providesTags:["Discovery Monitor Results"]}),getDiscoveredAssets:e.query({query:e=>{let{key:t,system:a,page:n=1,size:o=20,search:l,diff_status:u=[i.LL.ADDITION],sort_by:_=[r.r6.CONSENT_AGGREGATED,"urn"],sort_asc:c=!0,resource_type:d,data_uses:F,locations:m,consent_aggregated:v}=e,S=Array.isArray(_)?_:[_],y=(0,s.$J)({sort_by:S,resource_type:d,data_uses:F,locations:m,consent_aggregated:v});return{url:"/plus/discovery-monitor/".concat(t,"/results?").concat(y.toString()),params:{resolved_system_id:a,page:n,size:o,search:l,diff_status:u,sort_asc:c}}},providesTags:()=>["Discovery Monitor Results"]}),addMonitorResultSystems:e.mutation({query:e=>{let{monitor_config_key:t,resolved_system_ids:a}=e,n=(0,s.du)(a,"resolved_system_ids");return{url:"/plus/discovery-monitor/".concat(t,"/promote"),method:"POST",params:n?new URLSearchParams(n):new URLSearchParams}},invalidatesTags:["Discovery Monitor Results"]}),ignoreMonitorResultSystems:e.mutation({query:e=>{let{monitor_config_key:t,resolved_system_ids:a}=e,n=(0,s.du)(a,"resolved_system_ids");return{method:"POST",url:"/plus/discovery-monitor/".concat(t,"/mute?").concat(n)}},invalidatesTags:["Discovery Monitor Results"]}),addMonitorResultAssets:e.mutation({query:e=>{var t;let a=new URLSearchParams;return null===(t=e.urnList)||void 0===t||t.forEach(e=>a.append("staged_resource_urns",e)),{method:"POST",url:"/plus/discovery-monitor/promote?".concat(a)}},invalidatesTags:["Discovery Monitor Results"]}),ignoreMonitorResultAssets:e.mutation({query:e=>{var t;let a=new URLSearchParams;return null===(t=e.urnList)||void 0===t||t.forEach(e=>a.append("staged_resource_urns",e)),{method:"POST",url:"/plus/discovery-monitor/mute?".concat(a)}},invalidatesTags:["Discovery Monitor Results"]}),restoreMonitorResultAssets:e.mutation({query:e=>{var t;let a=new URLSearchParams({status_to_set:i.LL.ADDITION});return null===(t=e.urnList)||void 0===t||t.forEach(e=>a.append("staged_resource_urns",e)),{method:"POST",url:"/plus/discovery-monitor/un-mute?".concat(a)}},invalidatesTags:["Discovery Monitor Results"]}),updateAssetsSystem:e.mutation({query:e=>({method:"PATCH",url:"/plus/discovery-monitor/".concat(e.monitorId,"/results"),body:e.urnList.map(t=>({urn:t,user_assigned_system_key:e.systemKey}))}),invalidatesTags:["Discovery Monitor Results","System Assets"]}),updateAssetsDataUse:e.mutation({query:e=>({method:"PATCH",url:"/plus/discovery-monitor/".concat(e.monitorId,"/results"),body:e.urnList.map(t=>({urn:t,user_assigned_data_uses:e.dataUses}))}),invalidatesTags:["Discovery Monitor Results"]}),updateAssets:e.mutation({query:e=>({method:"PATCH",url:"/plus/discovery-monitor/".concat(e.monitorId,"/results"),body:e.assets}),invalidatesTags:["Discovery Monitor Results"]}),getConsentBreakdown:e.query({query:e=>{let{stagedResourceUrn:t,status:a,page:n=1,size:s=20}=e;return{url:"/plus/discovery-monitor/staged_resource/".concat(encodeURIComponent(t),"/consent"),params:{status:a,page:n,size:s}}}}),getWebsiteMonitorResourceFilters:e.query({query:e=>{let{monitor_config_id:t,resolved_system_id:a,diff_status:n=[i.LL.ADDITION],search:r,resource_type:o,data_uses:l,locations:u,consent_aggregated:_}=e,c={monitor_config_id:t,resolved_system_id:a,diff_status:n};r&&(c.search=r);let d=(0,s.$J)({resource_type:o,data_uses:l,locations:u,consent_aggregated:_}).toString();return{url:d?"/plus/filters/website_monitor_resources?".concat(d):"/plus/filters/website_monitor_resources",params:c}},providesTags:["Discovery Monitor Results"]})})})},98145:function(e,t,a){"use strict";var n,s,i,r,o,l,u,_;a.d(t,{EI:function(){return r},X1:function(){return n},r6:function(){return s},vQ:function(){return i}}),(o=n||(n={})).WITH_CONSENT="With consent",o.WITHOUT_CONSENT="Without consent",o.EXEMPT="Exempt",o.UNKNOWN="Unknown",(l=s||(s={})).NAME="name",l.RESOURCE_TYPE="resource_type",l.SYSTEM="system",l.DATA_USES="data_uses",l.LOCATIONS="locations",l.DOMAIN="domain",l.PAGE="page",l.CONSENT_AGGREGATED="consent_aggregated",l.ACTIONS="actions",(u=i||(i={})).SYSTEM_NAME="system_name",u.TOTAL_UPDATES="total_updates",u.DATA_USE="data_use",u.LOCATIONS="locations",u.DOMAINS="domains",u.ACTIONS="actions",(_=r||(r={})).LOCATION="location",_.PAGE="page"},88708:function(e,t,a){"use strict";a.d(t,{A:function(){return s}});var n,s,i=a(27378),r=a(14908),o=a(21910);(n=s||(s={})).ATTENTION_REQUIRED="attention-required",n.RECENT_ACTIVITY="recent-activity",n.IGNORED="ignored",t.Z=e=>{let{activeTab:t,onTabChange:a}=(0,r.Z)({tabKeys:Object.values(s)}),n=(0,i.useMemo)(()=>[{label:"Attention required",params:{diff_status:[o.LL.ADDITION],system:e},hash:"attention-required"},{label:"Recent activity",params:{diff_status:[o.LL.MONITORED]},hash:"recent-activity"},{label:"Ignored",params:{diff_status:[o.LL.MUTED],system:e},hash:"ignored"}],[e]),{diff_status:l,system:u}=(0,i.useMemo)(()=>{var e;return null!==(e=n.find(e=>e.hash===t))&&void 0!==e?e:n[0]},[n,t]).params,_=(0,i.useMemo)(()=>l.includes(o.LL.MONITORED),[l]);return{filterTabs:n,activeTab:t,onTabChange:a,activeParams:(0,i.useMemo)(()=>e?{diff_status:l,system:u}:{diff_status:l},[e,l,u]),actionsDisabled:_}}},78238:function(e,t,a){"use strict";a.d(t,{g:function(){return n}});let n=["essential","functional.service.improve","personalize","analytics","marketing.advertising.first_party.targeted","marketing.advertising.third_party.targeted"];t.Z=e=>n.includes(e)},76904:function(e,t,a){"use strict";a.d(t,{dK:function(){return c},Rv:function(){return v},$P:function(){return F},zj:function(){return S},Kr:function(){return y},q1:function(){return d},QL:function(){return f}});var n=a(24246),s=a(96306),i=a(3124),r=a.n(i);let o=e=>{let{...t}=e;return(0,n.jsx)("svg",{viewBox:"0 0 8 8",focusable:"false",...t,children:(0,n.jsx)("path",{fill:"currentColor",d:"M7.23192 8H8V7.23192V1.85539V1.08731H6.46385V1.85539V5.37654L1.62976 0.544855L1.08731 0L0 1.08731L0.542454 1.62976L5.37654 6.46385H1.85539H1.08731V8H1.85539H7.23192Z"})})},l=e=>{let{...t}=e;return(0,n.jsx)("svg",{viewBox:"0 0 8 8",focusable:"false",...t,children:(0,n.jsx)("path",{fill:"currentColor",d:"M7.23192 0H8V0.768077V6.14461V6.91269H6.46385V6.14461V2.62346L1.62976 7.45515L1.08731 8L0 6.91269L0.542454 6.37024L5.37654 1.53615H1.85539H1.08731V0H1.85539H7.23192Z"})})},u=e=>{let{...t}=e;return(0,n.jsx)("svg",{viewBox:"0 0 9 10",focusable:"false",...t,children:(0,n.jsx)("path",{fill:"currentColor",d:"M0 0.5V5L4.5 9.5L9 5L4.5 0.5H0ZM2.25 2.10714C2.4205 2.10714 2.58401 2.17487 2.70457 2.29543C2.82513 2.41599 2.89286 2.5795 2.89286 2.75C2.89286 2.9205 2.82513 3.08401 2.70457 3.20457C2.58401 3.32513 2.4205 3.39286 2.25 3.39286C2.0795 3.39286 1.91599 3.32513 1.79543 3.20457C1.67487 3.08401 1.60714 2.9205 1.60714 2.75C1.60714 2.5795 1.67487 2.41599 1.79543 2.29543C1.91599 2.17487 2.0795 2.10714 2.25 2.10714Z"})})};var _=a(28278);let c=()=>(0,n.jsx)(l,{style:{color:r().FIDESUI_SUCCESS},className:"size-2","data-testid":"add-icon"}),d=()=>(0,n.jsx)(o,{style:{color:r().FIDESUI_ERROR},className:"size-2","data-testid":"remove-icon"}),F=()=>(0,n.jsx)(u,{style:{color:r().FIDESUI_WARNING},className:"size-3","data-testid":"classify-icon"}),m=e=>{let{color:t,...a}=e;return(0,n.jsx)(s.PJP.fRw,{style:{color:t},className:"size-2",...a})},v=()=>(0,n.jsx)(m,{color:r().FIDESUI_INFO,"data-testid":"change-icon"}),S=()=>(0,n.jsx)(m,{color:r().FIDESUI_SUCCESS,"data-testid":"monitored-icon"}),y=()=>(0,n.jsx)(m,{color:r().FIDESUI_ERROR,"data-testid":"muted-icon"}),f={[_.E.ADDITION]:(0,n.jsx)(c,{}),[_.E.REMOVAL]:(0,n.jsx)(d,{}),[_.E.CLASSIFICATION]:(0,n.jsx)(F,{}),[_.E.CHANGE]:(0,n.jsx)(v,{}),[_.E.MONITORED]:(0,n.jsx)(S,{}),[_.E.MUTED]:(0,n.jsx)(y,{}),[_.E.IN_PROGRESS]:(0,n.jsx)(()=>(0,n.jsx)(m,{color:r().FIDESUI_WARNING,"data-testid":"in-progress-icon"}),{}),[_.E.NONE]:null}},28278:function(e,t,a){"use strict";var n,s;a.d(t,{E:function(){return n}}),(s=n||(n={})).ADDITION="Addition",s.CHANGE="Change",s.REMOVAL="Removal",s.CLASSIFICATION="Classification",s.IN_PROGRESS="Classifying",s.MONITORED="Monitoring",s.MUTED="Unmonitored",s.NONE="--"},12109:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var n=a(24246),s=a(86677),i=a(35287),r=a(77830),o=a(58754),l=a(96306),u=a(25415),_=a(21910),c=a(30952),d=a(27378),F=a(812),m=a(8125),v=a(46628),S=a(37059),y=a(98145),f=a(9320),p=a(88708),h=a(8411),A=a(26070),g=a(3110),C=a(54762);let E=e=>{let{monitorId:t,system:a,allowIgnore:i,onTabChange:o}=e,[u,{isLoading:_}]=(0,S.rs)(),[c,{isLoading:d}]=(0,S.nP)(),m=(0,s.useRouter)(),y=(0,l.pmc)(),h=_||d,{id:A,name:g,system_key:C,total_updates:E}=a,I=async()=>{let e=await u({monitor_config_key:t,resolved_system_ids:[A]});if((0,F.D4)(e))y((0,v.Vo)((0,F.e$)(e.error)));else{let e="".concat(r.So,"/configure/").concat(C,"#assets");y((0,v.t5)((0,f._)(C?"".concat(E," assets from ").concat(g," have been added to the system inventory."):"".concat(g," and ").concat(E," assets have been added to the system inventory. ").concat(g," is now configured for consent."),C?()=>m.push(e):void 0)))}},T=async()=>{let e=await c({monitor_config_key:t,resolved_system_ids:[A||r.Kl]});(0,F.D4)(e)?y((0,v.Vo)((0,F.e$)(e.error))):y((0,v.t5)((0,f._)(g?"".concat(E," assets from ").concat(g," have been ignored and will not appear in future scans."):"".concat(E," uncategorized assets have been ignored and will not appear in future scans."),async()=>{await o(p.A.IGNORED)})))};return(0,n.jsxs)(l.vyj,{children:[(0,n.jsx)(l.esZ,{title:a.id?void 0:"These assets must be categorized before you can add them to the inventory.",children:(0,n.jsx)(l.wpx,{"data-testid":"add-btn",size:"small",onClick:I,disabled:!a.id||h,loading:_,children:"Add"})}),i&&(0,n.jsx)(l.wpx,{"data-testid":"ignore-btn",size:"small",onClick:T,disabled:h,loading:d,children:"Ignore"})]})};var I=a(99640),T=a(76904);let M=e=>{let{system:t,rowClickUrl:a}=e,s=null==a?void 0:a(t);return(0,n.jsxs)(l.vyj,{className:"max-w-[250px] flex-nowrap",children:[!t.system_key&&(0,n.jsx)(l.esZ,{title:"New system",children:(0,n.jsx)("span",{children:T.QL.Change})}),(0,n.jsx)(I.Z,{href:s,"data-testid":s?"system-name-link":"system-name-text",children:t.name||"Uncategorized assets"}),(0,n.jsx)(C.l,{consentStatus:t.consent_status})]})};var N=a(34929),U=a(2525),x=a(78238),b=e=>{var t,a;let{system:s,columnState:i}=e,{getDataUseDisplayName:r}=(0,N.Z)(),o=(null!==(a=null===(t=s.data_uses)||void 0===t?void 0:t.filter(e=>(0,x.Z)(e)))&&void 0!==a?a:[]).map(e=>({label:r(e),key:e}));return(0,n.jsx)(U.Q,{values:o,columnState:i})};let L=e=>{let{monitorId:t,readonly:a,allowIgnore:s,onTabChange:i,consentStatus:r,rowClickUrl:o}=e,[u,_]=(0,d.useState)(!1),[c,F]=(0,d.useState)(!1),[m,v]=(0,d.useState)(!1),[S,f]=(0,d.useState)(0),[p,I]=(0,d.useState)(0),[T,N]=(0,d.useState)(0);return{columns:(0,d.useMemo)(()=>{let e=[{title:()=>(0,n.jsxs)(l.vyj,{children:[(0,n.jsx)("div",{children:"System"}),(0,n.jsx)(C.l,{consentStatus:r})]}),dataIndex:"name",key:y.vQ.SYSTEM_NAME,fixed:"left",render:(e,t)=>(0,n.jsx)(M,{system:t,rowClickUrl:o})},{title:"Assets",dataIndex:"total_updates",key:y.vQ.TOTAL_UPDATES},{title:"Categories of consent",key:y.vQ.DATA_USE,menu:{items:g.DI,onClick:e=>{e.domEvent.stopPropagation(),"expand-all"===e.key?(v(!0),N(e=>e+1)):"collapse-all"===e.key&&(v(!1),N(e=>e+1))}},render:(e,t)=>(0,n.jsx)(b,{system:t,columnState:{isExpanded:m,version:T}})},{title:"Locations",menu:{items:g.DI,onClick:e=>{e.domEvent.stopPropagation(),"expand-all"===e.key?(_(!0),f(e=>e+1)):"collapse-all"===e.key&&(_(!1),f(e=>e+1))}},dataIndex:"locations",key:y.vQ.LOCATIONS,render:e=>{var t;return(0,n.jsx)(A.Q,{values:null!==(t=null==e?void 0:e.map(e=>{var t;return{label:null!==(t=h.Z8[e])&&void 0!==t?t:e,key:e}}))&&void 0!==t?t:[],columnState:{isExpanded:u,isWrapped:!0,version:S}})}},{title:"Domains",menu:{items:g.DI,onClick:e=>{e.domEvent.stopPropagation(),"expand-all"===e.key?(F(!0),I(e=>e+1)):"collapse-all"===e.key&&(F(!1),I(e=>e+1))}},dataIndex:"domains",key:y.vQ.DOMAINS,render:e=>(0,n.jsx)(A.v,{values:e,valueSuffix:"domains",columnState:{isExpanded:c,version:p}})}];return a||e.push({title:"Actions",key:y.vQ.ACTIONS,fixed:"right",render:(e,a)=>(0,n.jsx)(E,{system:a,monitorId:t,allowIgnore:s,onTabChange:i})}),e},[a,r,o,m,u,c,T,S,p,t,s,i])}},R=e=>{let{monitorId:t}=e,a=(0,s.useRouter)(),i=(0,l.pmc)(),[o,u]=(0,d.useState)(),{filterTabs:c,activeTab:h,onTabChange:A,activeParams:g,actionsDisabled:C}=(0,p.Z)(),E=(0,m.o)({sorting:{validColumns:Object.values(y.vQ)}}),{pageIndex:I,pageSize:T,searchQuery:M,updateSearch:N,resetState:U}=E,{data:x,isLoading:b,isFetching:R}=(0,S.wi)({key:t,page:I,size:T,search:M,...g}),[D,{isLoading:O}]=(0,S.rs)(),[k,{isLoading:j}]=(0,S.nP)(),P=(0,d.useCallback)(e=>{var t,a,n;return null!==(n=null!==(a=null!==(t=e.id)&&void 0!==t?t:e.vendor_id)&&void 0!==a?a:e.name)&&void 0!==n?n:r.Kl},[]),w=(0,d.useCallback)(e=>{var a;return"".concat(r.vi,"/").concat(t,"/").concat(null!==(a=e.id)&&void 0!==a?a:r.Kl).concat(h?"#".concat(h):"")},[t,h]),G=(0,d.useMemo)(()=>({enableSelection:!0,getRowKey:P,isLoading:b,isFetching:R,dataSource:(null==x?void 0:x.items)||[],totalRows:(null==x?void 0:x.total)||0,customTableProps:{locale:{emptyText:(0,n.jsx)(l.oj8,{image:l.oj8.PRESENTED_IMAGE_SIMPLE,description:"All caught up!"})}}}),[P,b,R,null==x?void 0:x.items,null==x?void 0:x.total]),B=(0,m.V)(E,G),{selectedRows:K,resetSelections:V}=B,H=(0,d.useCallback)(async e=>{u(void 0),await A(e),U(),V()},[A,U,V]),{columns:Z}=L({monitorId:t,onTabChange:H,readonly:C,allowIgnore:!g.diff_status.includes(_.LL.MUTED),consentStatus:o,rowClickUrl:w});(0,d.useEffect)(()=>{if((null==x?void 0:x.items)&&!o){var e;let t=null===(e=x.items.find(e=>{var t;return(null===(t=e.consent_status)||void 0===t?void 0:t.status)===_.pF.ALERT}))||void 0===e?void 0:e.consent_status;u(null!=t?t:void 0)}},[x,o]);let W=(0,d.useCallback)(async()=>{let e=K.reduce((e,t)=>e+t.total_updates,0),n=await D({monitor_config_key:t,resolved_system_ids:K.map(e=>e.id)});(0,F.D4)(n)?i((0,v.Vo)((0,F.e$)(n.error))):(i((0,v.t5)((0,f._)("".concat(e," assets have been added to the system inventory."),()=>a.push(r.So)))),V())},[K,D,t,i,a,V]),q=(0,d.useCallback)(async()=>{let e=K.reduce((e,t)=>e+t.total_updates,0),a=await k({monitor_config_key:t,resolved_system_ids:K.map(e=>{var t;return null!==(t=e.id)&&void 0!==t?t:r.Kl})});(0,F.D4)(a)?i((0,v.Vo)((0,F.e$)(a.error))):(i((0,v.t5)((0,f._)("".concat(e," assets have been ignored and will not appear in future scans."),async()=>{await A(p.A.IGNORED)}))),V())},[K,k,t,i,A,V]),z=K.some(e=>null===e.id);return{columns:Z,data:x,isLoading:b,isFetching:R,searchQuery:M,updateSearch:N,resetState:U,tableProps:B.tableProps,selectionProps:B.selectionProps,filterTabs:c,activeTab:h,handleTabChange:H,activeParams:g,actionsDisabled:C,selectedRows:K,hasSelectedRows:B.hasSelectedRows,resetSelections:V,uncategorizedIsSelected:z,handleBulkAdd:W,handleBulkIgnore:q,anyBulkActionIsLoading:O||j,isAddingResults:O,isIgnoringResults:j}},D=e=>{let{monitorId:t}=e,{columns:a,searchQuery:s,updateSearch:i,tableProps:r,selectionProps:o,filterTabs:d,activeTab:F,handleTabChange:m,activeParams:v,selectedRows:S,hasSelectedRows:y,uncategorizedIsSelected:f,handleBulkAdd:p,handleBulkIgnore:h,anyBulkActionIsLoading:A}=R({monitorId:t});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Niu,{"aria-label":"Asset state filter",mode:"horizontal",items:d.map(e=>({key:e.hash,label:e.label})),selectedKeys:[F],onClick:async e=>{await m(e.key)},className:"mb-4","data-testid":"asset-state-filter"}),(0,n.jsxs)(l.jqI,{justify:"space-between",align:"center",className:"mb-4",children:[(0,n.jsx)(c.f,{value:s,onChange:i}),(0,n.jsxs)(l.vyj,{size:"large",children:[y&&(0,n.jsx)(u.a,{count:S.length}),(0,n.jsx)(l.S0p,{menu:{items:[{key:"add",label:(0,n.jsx)(l.esZ,{title:f?"Uncategorized assets can't be added to the inventory":null,placement:"left",children:"Add"}),onClick:p,disabled:f},v.diff_status.includes(_.LL.MUTED)?null:{key:"ignore",label:"Ignore",onClick:h}]},trigger:["click"],children:(0,n.jsx)(l.wpx,{type:"primary",icon:(0,n.jsx)(l.PJP._ME,{}),iconPosition:"end",loading:A,disabled:!y,"data-testid":"bulk-actions-menu",children:"Actions"})})]})]}),(0,n.jsx)(l.V5H,{...r,columns:a,rowSelection:o})]})};var O=()=>{let e=decodeURIComponent((0,s.useRouter)().query.monitorId);return(0,n.jsxs)(i.Z,{title:"Action center - Discovered assets by system",children:[(0,n.jsx)(o.Z,{heading:"Action center",breadcrumbItems:[{title:"All activity",href:r.vi},{title:e}]}),(0,n.jsx)(D,{monitorId:e})]})}},99830:function(e){e.exports={toastLink:"ToastLink_toastLink__OLSeq"}}},function(e){e.O(0,[431,8765,9278,5163,4164,3642,2888,9774,179],function(){return e(e.s=86850)}),_N_E=e.O()}]);